<html><head></head><body><section data-pdf-bookmark="Chapter 8. Dictionaries and Sets" data-type="chapter" epub:type="chapter"><div class="chapter" id="ch_dicts">&#13;
<h1><span class="label">Chapter 8. </span>Dictionaries and Sets</h1>&#13;
&#13;
<blockquote>&#13;
<p><a data-primary="dictionaries" data-type="indexterm" id="ix_ch08-dicts-asciidoc0"/>If a word in the dictionary were misspelled, how would we know?</p>&#13;
<p data-type="attribution">Steven Wright</p>&#13;
</blockquote>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Dictionaries" data-type="sect1"><div class="sect1" id="dictionaries">&#13;
<h1>Dictionaries</h1>&#13;
&#13;
<p>A <em>dictionary</em> is similar to a list,&#13;
but the order of items doesn’t matter, and they aren’t&#13;
selected by an offset such as 0 or 1.&#13;
<a data-primary="keys" data-secondary="dictionaries and" data-type="indexterm" id="idm45795009130584"/><a data-primary="values" data-secondary="dictionaries and" data-type="indexterm" id="idm45795009129608"/>Instead,&#13;
you specify a unique <em>key</em> to associate with each <em>value</em>.&#13;
This key is often a string,&#13;
but it can actually be any of Python’s immutable types:&#13;
boolean, integer, float, tuple,&#13;
string, and others that you’ll see in later chapters.&#13;
Dictionaries are mutable,&#13;
so you can add, delete, and change their key-value elements. If you’ve worked with languages that support only&#13;
arrays or lists, you’ll love dictionaries.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>In other languages, dictionaries might be called&#13;
<em>associative arrays</em>, <em>hashes</em>, or <em>hashmaps</em>.&#13;
In Python,&#13;
a dictionary is also called a <em>dict</em>&#13;
to save syllables&#13;
and make teenage boys snicker.</p>&#13;
</div>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Create with {}" data-type="sect2"><div class="sect2" id="dict_create">&#13;
<h2>Create with {}</h2>&#13;
&#13;
<p><a data-primary="{ } (curly brackets)" data-secondary="for dictionary creation" data-type="indexterm" id="ix_ch08-dicts-asciidoc1"/><a data-primary="curly brackets ({ })" data-secondary="for dictionary creation" data-type="indexterm" id="ix_ch08-dicts-asciidoc2"/><a data-primary="dictionaries" data-secondary="creating" data-type="indexterm" id="ix_ch08-dicts-asciidoc3"/>To create a dictionary, you place curly brackets&#13;
(<code>{}</code>) around comma-separated <em><code>key</code></em> <code>:</code> <em><code>value</code></em> pairs.&#13;
The simplest dictionary is an empty one,&#13;
containing no keys or values at all:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">empty_dict</code> <code class="o">=</code> <code class="p">{}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">empty_dict</code>&#13;
<code class="go">{}</code></pre>&#13;
&#13;
<p>Let’s make a small dictionary with quotes from&#13;
Ambrose Bierce’s <em>The Devil’s</em> <span class="keep-together"><em>Dictionary</em>:</span></p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">bierce</code> <code class="o">=</code> <code class="p">{</code>&#13;
<code class="gp">... </code>    <code class="s">"day"</code><code class="p">:</code> <code class="s">"A period of twenty-four hours, mostly misspent"</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">"positive"</code><code class="p">:</code> <code class="s">"Mistaken at the top of one's voice"</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">"misfortune"</code><code class="p">:</code> <code class="s">"The kind of fortune that never misses"</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="p">}</code>&#13;
<code class="go">&gt;&gt;&gt;</code></pre>&#13;
&#13;
<p>Typing the dictionary’s name in the interactive interpreter&#13;
will print its keys and <span class="keep-together">values:</span></p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">bierce</code>&#13;
<code class="go">{'day': 'A period of twenty-four hours, mostly misspent',</code>&#13;
<code class="go">'positive': "Mistaken at the top of one's voice",</code>&#13;
<code class="go">'misfortune': 'The kind of fortune that never misses'}</code></pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>In Python,&#13;
it’s okay to leave a comma after the last item&#13;
of a list, tuple, or dictionary.&#13;
Also, you don’t need to indent,&#13;
as I did in the preceding example,&#13;
when you’re&#13;
typing keys and values within the curly braces.&#13;
It just helps readability.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Create with dict()" data-type="sect2"><div class="sect2" id="dict_create_dict">&#13;
<h2>Create with dict()</h2>&#13;
&#13;
<p><a data-primary="dict() function" data-secondary="creating dictionaries" data-type="indexterm" id="idm45795009058312"/><a data-primary="dictionaries" data-secondary="converting two-value sequences into" data-type="indexterm" id="idm45795009057336"/>Some people don’t like typing so many curly brackets and quotes.&#13;
You can also create a dictionary by passing named arguments&#13;
and values to the <code>dict()</code> function.</p>&#13;
&#13;
<p>The traditional way:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">acme_customer</code> <code class="o">=</code> <code class="p">{</code><code class="s">'first'</code><code class="p">:</code> <code class="s">'Wile'</code><code class="p">,</code> <code class="s">'middle'</code><code class="p">:</code> <code class="s">'E'</code><code class="p">,</code> <code class="s">'last'</code><code class="p">:</code> <code class="s">'Coyote'</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">acme_customer</code>&#13;
<code class="go">{'first': 'Wile', 'middle': 'E', 'last': 'Coyote'}</code></pre>&#13;
&#13;
<p>Using <code>dict()</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">acme_customer</code> <code class="o">=</code> <code class="nb">dict</code><code class="p">(</code><code class="n">first</code><code class="o">=</code><code class="s">"Wile"</code><code class="p">,</code> <code class="n">middle</code><code class="o">=</code><code class="s">"E"</code><code class="p">,</code> <code class="n">last</code><code class="o">=</code><code class="s">"Coyote"</code><code class="p">)</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">acme_customer</code>&#13;
<code class="go">{'first': 'Wile', 'middle': 'E', 'last': 'Coyote'}</code></pre>&#13;
&#13;
<p>One limitation of the second way is that the argument names&#13;
need to be legal variable names (no spaces, no reserved words):<a data-startref="ix_ch08-dicts-asciidoc3" data-type="indexterm" id="idm45795008971512"/><a data-startref="ix_ch08-dicts-asciidoc2" data-type="indexterm" id="idm45795008970904"/><a data-startref="ix_ch08-dicts-asciidoc1" data-type="indexterm" id="idm45795008970296"/></p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">x</code> <code class="o">=</code> <code class="nb">dict</code><code class="p">(</code><code class="n">name</code><code class="o">=</code><code class="s">"Elmer"</code><code class="p">,</code> <code class="n">def</code><code class="o">=</code><code class="s">"hunter"</code><code class="p">)</code>&#13;
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>&#13;
    <code class="n">x</code> <code class="o">=</code> <code class="nb">dict</code><code class="p">(</code><code class="n">name</code><code class="o">=</code><code class="s">"Elmer"</code><code class="p">,</code> <code class="n">def</code><code class="o">=</code><code class="s">"hunter"</code><code class="p">)</code>&#13;
                             <code class="o">^</code>&#13;
<code class="gr">SyntaxError</code>: <code class="n">invalid syntax</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Convert with dict()" data-type="sect2"><div class="sect2" id="dict_convert_dict">&#13;
<h2>Convert with dict()</h2>&#13;
&#13;
<p><a data-primary="dict() function" data-secondary="converting two-value sequences into dictionaries" data-type="indexterm" id="idm45795008876472"/><a data-primary="sequences" data-secondary="converting into dictionaries" data-type="indexterm" id="idm45795008875464"/>You can also use the <code>dict()</code> function to convert two-value&#13;
sequences into a dictionary.&#13;
You might run into such key-value sequences at times,&#13;
such as&#13;
“Strontium, 90, Carbon, 14.”<sup><a data-type="noteref" href="ch08.html#idm45795008873832" id="idm45795008873832-marker">1</a></sup>&#13;
The first item in each sequence&#13;
is used as the key and the second as&#13;
the value.</p>&#13;
&#13;
<p>First, here’s a small example using <code>lol</code>&#13;
(a list of two-item lists):</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">lol</code> <code class="o">=</code> <code class="p">[</code> <code class="p">[</code><code class="s">'a'</code><code class="p">,</code> <code class="s">'b'</code><code class="p">],</code> <code class="p">[</code><code class="s">'c'</code><code class="p">,</code> <code class="s">'d'</code><code class="p">],</code> <code class="p">[</code><code class="s">'e'</code><code class="p">,</code> <code class="s">'f'</code><code class="p">]</code> <code class="p">]</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">dict</code><code class="p">(</code><code class="n">lol</code><code class="p">)</code>&#13;
<code class="go">{'a': 'b', 'c': 'd', 'e': 'f'}</code></pre>&#13;
&#13;
<p>We could have used any sequence containing two-item&#13;
sequences. Here are other examples.</p>&#13;
&#13;
<p>A list of two-item tuples:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">lot</code> <code class="o">=</code> <code class="p">[</code> <code class="p">(</code><code class="s">'a'</code><code class="p">,</code> <code class="s">'b'</code><code class="p">),</code> <code class="p">(</code><code class="s">'c'</code><code class="p">,</code> <code class="s">'d'</code><code class="p">),</code> <code class="p">(</code><code class="s">'e'</code><code class="p">,</code> <code class="s">'f'</code><code class="p">)</code> <code class="p">]</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">dict</code><code class="p">(</code><code class="n">lot</code><code class="p">)</code>&#13;
<code class="go">{'a': 'b', 'c': 'd', 'e': 'f'}</code></pre>&#13;
&#13;
<p>A tuple of two-item lists:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">tol</code> <code class="o">=</code> <code class="p">(</code> <code class="p">[</code><code class="s">'a'</code><code class="p">,</code> <code class="s">'b'</code><code class="p">],</code> <code class="p">[</code><code class="s">'c'</code><code class="p">,</code> <code class="s">'d'</code><code class="p">],</code> <code class="p">[</code><code class="s">'e'</code><code class="p">,</code> <code class="s">'f'</code><code class="p">]</code> <code class="p">)</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">dict</code><code class="p">(</code><code class="n">tol</code><code class="p">)</code>&#13;
<code class="go">{'a': 'b', 'c': 'd', 'e': 'f'}</code></pre>&#13;
&#13;
<p>A list of two-character strings:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">los</code> <code class="o">=</code> <code class="p">[</code> <code class="s">'ab'</code><code class="p">,</code> <code class="s">'cd'</code><code class="p">,</code> <code class="s">'ef'</code> <code class="p">]</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">dict</code><code class="p">(</code><code class="n">los</code><code class="p">)</code>&#13;
<code class="go">{'a': 'b', 'c': 'd', 'e': 'f'}</code></pre>&#13;
&#13;
<p>A tuple of two-character strings:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">tos</code> <code class="o">=</code> <code class="p">(</code> <code class="s">'ab'</code><code class="p">,</code> <code class="s">'cd'</code><code class="p">,</code> <code class="s">'ef'</code> <code class="p">)</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">dict</code><code class="p">(</code><code class="n">tos</code><code class="p">)</code>&#13;
<code class="go">{'a': 'b', 'c': 'd', 'e': 'f'}</code></pre>&#13;
&#13;
<p>The section <a data-type="xref" href="ch07.html#list_zip">“Iterate Multiple Sequences with zip()”</a> introduces you to&#13;
the <code>zip()</code> function, which makes it easy to create&#13;
these two-item sequences.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Add or Change an Item by [ key ]" data-type="sect2"><div class="sect2" id="dict_add">&#13;
<h2>Add or Change an Item by [ <em>key</em> ]</h2>&#13;
&#13;
<p><a data-primary="[key]" data-type="indexterm" id="ix_ch08-dicts-asciidoc4"/><a data-primary="dictionaries" data-secondary="adding/changing items" data-type="indexterm" id="ix_ch08-dicts-asciidoc5"/>Adding an item to a dictionary is easy.&#13;
Just refer to the item by its key and assign a value.&#13;
If the key was already present in the dictionary,&#13;
the existing value is replaced by the new one.&#13;
If the key is new,&#13;
it’s added to the dictionary with its value.&#13;
Unlike lists,&#13;
you don’t need to worry about Python&#13;
throwing an exception during assignment by&#13;
specifying an index that’s out of range.</p>&#13;
&#13;
<p>Let’s make a dictionary of most of the members&#13;
of Monty Python, using their last names as keys,&#13;
and first names as values:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code> <code class="o">=</code> <code class="p">{</code>&#13;
<code class="gp">... </code>    <code class="s">'Chapman'</code><code class="p">:</code> <code class="s">'Graham'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'Cleese'</code><code class="p">:</code> <code class="s">'John'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'Idle'</code><code class="p">:</code> <code class="s">'Eric'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'Jones'</code><code class="p">:</code> <code class="s">'Terry'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'Palin'</code><code class="p">:</code> <code class="s">'Michael'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code>&#13;
<code class="go">{'Chapman': 'Graham', 'Cleese': 'John', 'Idle': 'Eric',</code>&#13;
<code class="go">'Jones': 'Terry', 'Palin': 'Michael'}</code></pre>&#13;
&#13;
<p>We’re missing one member:&#13;
the one born in America, Terry Gilliam.&#13;
Here’s an attempt by an anonymous programmer&#13;
to add him, but he’s botched the first name:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code><code class="p">[</code><code class="s">'Gilliam'</code><code class="p">]</code> <code class="o">=</code> <code class="s">'Gerry'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code>&#13;
<code class="go">{'Chapman': 'Graham', 'Cleese': 'John', 'Idle': 'Eric',</code>&#13;
<code class="go">'Jones': 'Terry', 'Palin': 'Michael', 'Gilliam': 'Gerry'}</code></pre>&#13;
&#13;
<p>And here’s some repair code by another&#13;
programmer who is Pythonic in more than one way:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code><code class="p">[</code><code class="s">'Gilliam'</code><code class="p">]</code> <code class="o">=</code> <code class="s">'Terry'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code>&#13;
<code class="go">{'Chapman': 'Graham', 'Cleese': 'John', 'Idle': 'Eric',</code>&#13;
<code class="go">'Jones': 'Terry', 'Palin': 'Michael', 'Gilliam': 'Terry'}</code></pre>&#13;
&#13;
<p>By using the same key (<code>'Gilliam'</code>),&#13;
we replaced the original value <code>'Gerry'</code>&#13;
with <code>'Terry'</code>.</p>&#13;
&#13;
<p>Remember that dictionary keys must be <em>unique</em>.&#13;
That’s why we used last names for keys&#13;
instead of first names here—two members of Monty Python have the first name <code>'Terry'</code>!&#13;
If you use a key more than once, the last value wins:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">some_pythons</code> <code class="o">=</code> <code class="p">{</code>&#13;
<code class="gp">... </code>    <code class="s">'Graham'</code><code class="p">:</code> <code class="s">'Chapman'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'John'</code><code class="p">:</code> <code class="s">'Cleese'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'Eric'</code><code class="p">:</code> <code class="s">'Idle'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'Terry'</code><code class="p">:</code> <code class="s">'Gilliam'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'Michael'</code><code class="p">:</code> <code class="s">'Palin'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'Terry'</code><code class="p">:</code> <code class="s">'Jones'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">some_pythons</code>&#13;
<code class="go">{'Graham': 'Chapman', 'John': 'Cleese', 'Eric': 'Idle',</code>&#13;
<code class="go">'Terry': 'Jones', 'Michael': 'Palin'}</code></pre>&#13;
&#13;
<p>We first assigned the value&#13;
<code>'Gilliam'</code> to the key <code>'Terry'</code>&#13;
and then replaced it with the value <code>'Jones'</code>.<a data-startref="ix_ch08-dicts-asciidoc5" data-type="indexterm" id="idm45795008410360"/><a data-startref="ix_ch08-dicts-asciidoc4" data-type="indexterm" id="idm45795008409656"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Get an Item by [key] or with get()" data-type="sect2"><div class="sect2" id="dict_get">&#13;
<h2>Get an Item by [key] or with get()</h2>&#13;
&#13;
<p><a data-primary="[key]" data-type="indexterm" id="idm45795008407176"/><a data-primary="dictionaries" data-secondary="getting items by [ key ] or with get()" data-type="indexterm" id="idm45795008406472"/><a data-primary="get() function" data-type="indexterm" id="idm45795008405464"/>This is the most common use of a dictionary.&#13;
You specify the dictionary and key to get the corresponding value:&#13;
Using <code>some_pythons</code> from the previous section:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">some_pythons</code><code class="p">[</code><code class="s">'John'</code><code class="p">]</code>&#13;
<code class="go">'Cleese'</code></pre>&#13;
&#13;
<p>If the key is not present in the dictionary,&#13;
you’ll get an exception:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">some_pythons</code><code class="p">[</code><code class="s">'Groucho'</code><code class="p">]</code>&#13;
<code class="gt">Traceback (most recent call last):</code>&#13;
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>&#13;
<code class="gr">KeyError</code>: <code class="n">'Groucho'</code></pre>&#13;
&#13;
<p>There are two good ways to avoid this.&#13;
The first is to test for&#13;
the key at the outset by using <code>in</code>,&#13;
as you saw in the previous section:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">'Groucho'</code> <code class="ow">in</code> <code class="n">some_pythons</code>&#13;
<code class="go">False</code></pre>&#13;
&#13;
<p>The second is to use the special dictionary <code>get()</code> function.&#13;
You provide the dictionary, key, and an optional value.&#13;
If the key exists, you get its value:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">some_pythons</code><code class="o">.</code><code class="n">get</code><code class="p">(</code><code class="s">'John'</code><code class="p">)</code>&#13;
<code class="go">'Cleese'</code></pre>&#13;
&#13;
<p>If not, you get the optional value, if you specified one:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">some_pythons</code><code class="o">.</code><code class="n">get</code><code class="p">(</code><code class="s">'Groucho'</code><code class="p">,</code> <code class="s">'Not a Python'</code><code class="p">)</code>&#13;
<code class="go">'Not a Python'</code></pre>&#13;
&#13;
<p>Otherwise, you get <code>None</code>&#13;
(which displays nothing in the interactive interpreter):</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">some_pythons</code><code class="o">.</code><code class="n">get</code><code class="p">(</code><code class="s">'Groucho'</code><code class="p">)</code>&#13;
<code class="go">&gt;&gt;&gt;</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Get All Keys with keys()" data-type="sect2"><div class="sect2" id="dict_keys">&#13;
<h2>Get All Keys with keys()</h2>&#13;
&#13;
<p><a data-primary="dictionaries" data-secondary="getting all keys" data-type="indexterm" id="idm45795008332984"/><a data-primary="keys" data-secondary="getting all" data-type="indexterm" id="idm45795038150696"/><a data-primary="keys() function" data-type="indexterm" id="idm45795038149752"/>You can use <code>keys()</code> to get all of the keys in a dictionary.&#13;
We’ll use a different sample dictionary for the&#13;
next few examples:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code> <code class="o">=</code> <code class="p">{</code><code class="s">'green'</code><code class="p">:</code> <code class="s">'go'</code><code class="p">,</code> <code class="s">'yellow'</code><code class="p">:</code> <code class="s">'go faster'</code><code class="p">,</code> <code class="s">'red'</code><code class="p">:</code> <code class="s">'smile for the camera'</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code><code class="o">.</code><code class="n">keys</code><code class="p">()</code>&#13;
<code class="go">dict_keys(['green', 'yellow', 'red'])</code></pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>In Python 2, <code>keys()</code> just returns a list.&#13;
<a data-primary="dict_keys () function" data-type="indexterm" id="idm45795008250872"/>Python 3 returns <code>dict_keys()</code>, which is an iterable view of the keys.&#13;
This is handy with large dictionaries&#13;
because it doesn’t use the time and memory&#13;
to create and store a list that&#13;
you might not use.&#13;
But often you actually <em>do</em> want a list.&#13;
In Python 3,&#13;
you need to call <code>list()</code> to convert a <code>dict_keys</code> object to a list.</p>&#13;
</div>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="nb">list</code><code class="p">(</code> <code class="n">signals</code><code class="o">.</code><code class="n">keys</code><code class="p">()</code> <code class="p">)</code>&#13;
<code class="go">['green', 'yellow', 'red']</code></pre>&#13;
&#13;
<p><a data-primary="list() function" data-secondary="dictionaries and" data-type="indexterm" id="idm45795008151032"/>In Python 3,&#13;
you also need to use the <code>list()</code> function to turn&#13;
the results of&#13;
<code>values()</code> and <code>items()</code>&#13;
into normal Python lists.&#13;
I use that in these examples.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Get All Values with values()" data-type="sect2"><div class="sect2" id="dict_values">&#13;
<h2>Get All Values with values()</h2>&#13;
&#13;
<p><a data-primary="dictionaries" data-secondary="getting all values" data-type="indexterm" id="idm45795008138744"/><a data-primary="values() function" data-type="indexterm" id="idm45795008149224"/>To obtain all the values in a dictionary, use <code>values()</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="nb">list</code><code class="p">(</code> <code class="n">signals</code><code class="o">.</code><code class="n">values</code><code class="p">()</code> <code class="p">)</code>&#13;
<code class="go">['go', 'go faster', 'smile for the camera']</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Get All Key-Value Pairs with items()" data-type="sect2"><div class="sect2" id="dict_items">&#13;
<h2>Get All Key-Value Pairs with items()</h2>&#13;
&#13;
<p><a data-primary="dictionaries" data-secondary="getting all key-value pairs" data-type="indexterm" id="idm45795008107160"/><a data-primary="items() function" data-type="indexterm" id="idm45795008106216"/>When you want to get all the key-value pairs from a dictionary,&#13;
use the <code>items()</code> <span class="keep-together">function:</span></p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="nb">list</code><code class="p">(</code> <code class="n">signals</code><code class="o">.</code><code class="n">items</code><code class="p">()</code> <code class="p">)</code>&#13;
<code class="go">[('green', 'go'), ('yellow', 'go faster'), ('red', 'smile for the camera')]</code></pre>&#13;
&#13;
<p>Each key and value is returned as a tuple,&#13;
such as <code>('green', 'go')</code>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Get Length with len()" data-type="sect2"><div class="sect2" id="dict_len">&#13;
<h2>Get Length with len()</h2>&#13;
&#13;
<p><a data-primary="dictionaries" data-secondary="getting length" data-type="indexterm" id="idm45795008075048"/><a data-primary="len() function" data-secondary="counting key-value pairs in dictionary" data-type="indexterm" id="idm45795008074072"/>Count your key-value pairs:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="nb">len</code><code class="p">(</code><code class="n">signals</code><code class="p">)</code>&#13;
<code class="go">3</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Combine Dictionaries with {**a, **b}" data-type="sect2"><div class="sect2" id="dict_combine">&#13;
<h2>Combine Dictionaries with {**a, **b}</h2>&#13;
&#13;
<p><a data-primary="** (asterisks)" data-secondary="dictionary operator" data-type="indexterm" id="idm45795008008104"/><a data-primary="asterisks (**)" data-secondary="dictionary operator" data-type="indexterm" id="idm45795008007128"/><a data-primary="dictionaries" data-secondary="combining" data-type="indexterm" id="idm45795008006184"/>Starting with Python 3.5,&#13;
there’s a new way to merge dictionaries,&#13;
using the <code>**</code> unicorn glitter, which has a very different use in <a data-type="xref" href="ch09.html#ch_functions">Chapter 9</a>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">first</code> <code class="o">=</code> <code class="p">{</code><code class="s">'a'</code><code class="p">:</code> <code class="s">'agony'</code><code class="p">,</code> <code class="s">'b'</code><code class="p">:</code> <code class="s">'bliss'</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">second</code> <code class="o">=</code> <code class="p">{</code><code class="s">'b'</code><code class="p">:</code> <code class="s">'bagels'</code><code class="p">,</code> <code class="s">'c'</code><code class="p">:</code> <code class="s">'candy'</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="p">{</code><code class="o">**</code><code class="n">first</code><code class="p">,</code> <code class="o">**</code><code class="n">second</code><code class="p">}</code>&#13;
<code class="go">{'a': 'agony', 'b': 'bagels', 'c': 'candy'}</code></pre>&#13;
&#13;
<p class="pagebreak-before">Actually, you can pass more than two dictionaries:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">third</code> <code class="o">=</code> <code class="p">{</code><code class="s">'d'</code><code class="p">:</code> <code class="s">'donuts'</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="p">{</code><code class="o">**</code><code class="n">first</code><code class="p">,</code> <code class="o">**</code><code class="n">third</code><code class="p">,</code> <code class="o">**</code><code class="n">second</code><code class="p">}</code>&#13;
<code class="go">{'a': 'agony', 'b': 'bagels', 'd': 'donuts', 'c': 'candy'}</code></pre>&#13;
&#13;
<p>These are <em>shallow</em> copies.&#13;
See the discussion of <code>deepcopy()</code> (<a data-type="xref" href="#dict_deepcopy">“Copy Everything with deepcopy()”</a>)&#13;
if you want full copies of the keys and values,&#13;
with no connection to their origin dictionaries.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Combine Dictionaries with update()" data-type="sect2"><div class="sect2" id="dict_update">&#13;
<h2>Combine Dictionaries with update()</h2>&#13;
&#13;
<p><a data-primary="keys" data-secondary="copying" data-type="indexterm" id="idm45795007955496"/><a data-primary="update() function" data-type="indexterm" id="idm45795007954520"/>You can use the <code>update()</code> function to&#13;
copy the keys and values of one dictionary into another.</p>&#13;
&#13;
<p>Let’s define the <code>pythons</code> dictionary,&#13;
with all members:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code> <code class="o">=</code> <code class="p">{</code>&#13;
<code class="gp">... </code>    <code class="s">'Chapman'</code><code class="p">:</code> <code class="s">'Graham'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'Cleese'</code><code class="p">:</code> <code class="s">'John'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'Gilliam'</code><code class="p">:</code> <code class="s">'Terry'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'Idle'</code><code class="p">:</code> <code class="s">'Eric'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'Jones'</code><code class="p">:</code> <code class="s">'Terry'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">'Palin'</code><code class="p">:</code> <code class="s">'Michael'</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code>&#13;
<code class="go">{'Chapman': 'Graham', 'Cleese': 'John', 'Gilliam': 'Terry',</code>&#13;
<code class="go">'Idle': 'Eric', 'Jones': 'Terry', 'Palin': 'Michael'}</code></pre>&#13;
&#13;
<p>We also have a dictionary of other&#13;
humorous persons called <code>others</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">others</code> <code class="o">=</code> <code class="p">{</code> <code class="s">'Marx'</code><code class="p">:</code> <code class="s">'Groucho'</code><code class="p">,</code> <code class="s">'Howard'</code><code class="p">:</code> <code class="s">'Moe'</code> <code class="p">}</code></pre>&#13;
&#13;
<p>Now, along comes another anonymous programmer&#13;
who decides that the members of <code>others</code>&#13;
should be members of Monty Python:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code><code class="o">.</code><code class="n">update</code><code class="p">(</code><code class="n">others</code><code class="p">)</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code>&#13;
<code class="go">{'Chapman': 'Graham', 'Cleese': 'John', 'Gilliam': 'Terry',</code>&#13;
<code class="go">'Idle': 'Eric', 'Jones': 'Terry', 'Palin': 'Michael',</code>&#13;
<code class="go">'Marx': 'Groucho', 'Howard': 'Moe'}</code></pre>&#13;
&#13;
<p>What happens if the second dictionary has the same key as&#13;
the dictionary into which it’s being merged?&#13;
The value from the second dictionary wins:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">first</code> <code class="o">=</code> <code class="p">{</code><code class="s">'a'</code><code class="p">:</code> <code class="mi">1</code><code class="p">,</code> <code class="s">'b'</code><code class="p">:</code> <code class="mi">2</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">second</code> <code class="o">=</code> <code class="p">{</code><code class="s">'b'</code><code class="p">:</code> <code class="s">'platypus'</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">first</code><code class="o">.</code><code class="n">update</code><code class="p">(</code><code class="n">second</code><code class="p">)</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">first</code>&#13;
<code class="go">{'a': 1, 'b': 'platypus'}</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Delete an Item by Key with del" data-type="sect2"><div class="sect2" id="dict_delete">&#13;
<h2>Delete an Item by Key with del</h2>&#13;
&#13;
<p><a data-primary="del statement" data-secondary="deleting individual dictionary items" data-type="indexterm" id="idm45795007705032"/><a data-primary="dictionaries" data-secondary="deleting individual items" data-type="indexterm" id="idm45795007704120"/><a data-primary="keys" data-secondary="deleting items by" data-type="indexterm" id="idm45795007703160"/>The previous <code>pythons.update(others)</code> code from&#13;
our anonymous programmer&#13;
was technically correct,&#13;
but factually wrong.&#13;
The members of <code>others</code>, although funny and famous,&#13;
were not in Monty Python.&#13;
Let’s undo those last two additions:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="k">del</code> <code class="n">pythons</code><code class="p">[</code><code class="s">'Marx'</code><code class="p">]</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code>&#13;
<code class="go">{'Chapman': 'Graham', 'Cleese': 'John', 'Gilliam': 'Terry',</code>&#13;
<code class="go">'Idle': 'Eric', 'Jones': 'Terry', 'Palin': 'Michael',</code>&#13;
<code class="go">'Howard': 'Moe'}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">del</code> <code class="n">pythons</code><code class="p">[</code><code class="s">'Howard'</code><code class="p">]</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code>&#13;
<code class="go">{'Chapman': 'Graham', 'Cleese': 'John', 'Gilliam': 'Terry',</code>&#13;
<code class="go">'Idle': 'Eric', 'Jones': 'Terry', 'Palin': 'Michael'}</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Get an Item by Key and Delete It with pop()" data-type="sect2"><div class="sect2" id="dict_pop">&#13;
<h2>Get an Item by Key and Delete It with pop()</h2>&#13;
&#13;
<p><a data-primary="keys" data-secondary="getting item by" data-type="indexterm" id="idm45795007690712"/><a data-primary="pop() function" data-type="indexterm" id="idm45795007689736"/>This combines <code>get()</code> and <code>del</code>.&#13;
If you give <code>pop()</code> a key and it exists in the dictionary,&#13;
it returns the matching value and deletes the key-value&#13;
pair.&#13;
If it doesn’t exist, it raises an exception:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="nb">len</code><code class="p">(</code><code class="n">pythons</code><code class="p">)</code>&#13;
<code class="go">6</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code><code class="o">.</code><code class="n">pop</code><code class="p">(</code><code class="s">'Palin'</code><code class="p">)</code>&#13;
<code class="go">'Michael'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">len</code><code class="p">(</code><code class="n">pythons</code><code class="p">)</code>&#13;
<code class="go">5</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code><code class="o">.</code><code class="n">pop</code><code class="p">(</code><code class="s">'Palin'</code><code class="p">)</code>&#13;
<code class="gt">Traceback (most recent call last):</code>&#13;
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>&#13;
<code class="gr">KeyError</code>: <code class="n">'Palin'</code></pre>&#13;
&#13;
<p>But if you give <code>pop()</code> a second default argument&#13;
(as with <code>get()</code>),&#13;
all is well and the dictionary is not changed:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code><code class="o">.</code><code class="n">pop</code><code class="p">(</code><code class="s">'First'</code><code class="p">,</code> <code class="s">'Hugo'</code><code class="p">)</code>&#13;
<code class="go">'Hugo'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">len</code><code class="p">(</code><code class="n">pythons</code><code class="p">)</code>&#13;
<code class="go">5</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Delete All Items with clear()" data-type="sect2"><div class="sect2" id="dict_clear">&#13;
<h2>Delete All Items with clear()</h2>&#13;
&#13;
<p><a data-primary="{ } (curly brackets)" data-secondary="for dictionary creation" data-type="indexterm" id="idm45795007575256"/><a data-primary="clear() function" data-type="indexterm" id="idm45795007574280"/><a data-primary="curly brackets ({ })" data-secondary="for dictionary creation" data-type="indexterm" id="idm45795007573608"/><a data-primary="dictionaries" data-secondary="deleting all items" data-type="indexterm" id="idm45795007572664"/>To delete all keys and values from a dictionary,&#13;
use <code>clear()</code>&#13;
or just reassign an empty dictionary&#13;
(<code>{}</code>) to the name:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code><code class="o">.</code><code class="n">clear</code><code class="p">()</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code>&#13;
<code class="go">{}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code> <code class="o">=</code> <code class="p">{}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code>&#13;
<code class="go">{}</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Test for a Key with in" data-type="sect2"><div class="sect2" id="dict_in">&#13;
<h2>Test for a Key with in</h2>&#13;
&#13;
<p><a data-primary="dictionaries" data-secondary="testing for keys" data-type="indexterm" id="idm45795007499768"/><a data-primary="in (membership operator)" data-secondary="testing for keys in a dictionary" data-type="indexterm" id="idm45795007498792"/>If you want to know whether a key exists in a dictionary,&#13;
use <code>in</code>.&#13;
Let’s redefine the <code>pythons</code> dictionary again,&#13;
this time omitting a name or two:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code> <code class="o">=</code> <code class="p">{</code><code class="s">'Chapman'</code><code class="p">:</code> <code class="s">'Graham'</code><code class="p">,</code> <code class="s">'Cleese'</code><code class="p">:</code> <code class="s">'John'</code><code class="p">,</code>&#13;
<code class="gp">... </code><code class="s">'Jones'</code><code class="p">:</code> <code class="s">'Terry'</code><code class="p">,</code> <code class="s">'Palin'</code><code class="p">:</code> <code class="s">'Michael'</code><code class="p">,</code> <code class="s">'Idle'</code><code class="p">:</code> <code class="s">'Eric'</code><code class="p">}</code></pre>&#13;
&#13;
<p>Now let’s see who’s in there:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">'Chapman'</code> <code class="ow">in</code> <code class="n">pythons</code>&#13;
<code class="go">True</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'Palin'</code> <code class="ow">in</code> <code class="n">pythons</code>&#13;
<code class="go">True</code></pre>&#13;
&#13;
<p>Did we remember to add Terry Gilliam this time?</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">'Gilliam'</code> <code class="ow">in</code> <code class="n">pythons</code>&#13;
<code class="go">False</code></pre>&#13;
&#13;
<p>Drat.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Assign with =" data-type="sect2"><div class="sect2" id="dict_assign">&#13;
<h2>Assign with =</h2>&#13;
&#13;
<p><a data-primary="= (assignment operator)" data-type="indexterm" id="idm45795007426152"/><a data-primary="assignment operator (=)" data-type="indexterm" id="idm45795007425448"/><a data-primary="dictionaries" data-secondary="assignment versus copying" data-type="indexterm" id="idm45795007424776"/>As with lists,&#13;
if you make a change to a dictionary,&#13;
it will be reflected in all the names that refer to it:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code> <code class="o">=</code> <code class="p">{</code><code class="s">'green'</code><code class="p">:</code> <code class="s">'go'</code><code class="p">,</code>&#13;
<code class="gp">... </code><code class="s">'yellow'</code><code class="p">:</code> <code class="s">'go faster'</code><code class="p">,</code>&#13;
<code class="gp">... </code><code class="s">'red'</code><code class="p">:</code> <code class="s">'smile for the camera'</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">save_signals</code> <code class="o">=</code> <code class="n">signals</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code><code class="p">[</code><code class="s">'blue'</code><code class="p">]</code> <code class="o">=</code> <code class="s">'confuse everyone'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">save_signals</code>&#13;
<code class="go">{'green': 'go',</code>&#13;
<code class="go">'yellow': 'go faster',</code>&#13;
<code class="go">'red': 'smile for the camera',</code>&#13;
<code class="go">'blue': 'confuse everyone'}</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Copy with copy()" data-type="sect2"><div class="sect2" id="dict_copy">&#13;
<h2>Copy with copy()</h2>&#13;
&#13;
<p><a data-primary="copy() function" data-secondary="copying keys and values from one dictionary to another" data-type="indexterm" id="idm45795007311096"/><a data-primary="keys" data-secondary="copying" data-type="indexterm" id="idm45795007310088"/><a data-primary="values" data-secondary="copying from one dictionary to another" data-type="indexterm" id="idm45795007309144"/>To <a data-primary="dictionaries" data-secondary="copying" data-type="indexterm" id="ix_ch08-dicts-asciidoc6"/>actually copy keys and values from a dictionary to another&#13;
dictionary and avoid this, you can use <code>copy()</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code> <code class="o">=</code> <code class="p">{</code><code class="s">'green'</code><code class="p">:</code> <code class="s">'go'</code><code class="p">,</code>&#13;
<code class="gp">... </code><code class="s">'yellow'</code><code class="p">:</code> <code class="s">'go faster'</code><code class="p">,</code>&#13;
<code class="gp">... </code><code class="s">'red'</code><code class="p">:</code> <code class="s">'smile for the camera'</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">original_signals</code> <code class="o">=</code> <code class="n">signals</code><code class="o">.</code><code class="n">copy</code><code class="p">()</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code><code class="p">[</code><code class="s">'blue'</code><code class="p">]</code> <code class="o">=</code> <code class="s">'confuse everyone'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code>&#13;
<code class="go">{'green': 'go',</code>&#13;
<code class="go">'yellow': 'go faster',</code>&#13;
<code class="go">'red': 'smile for the camera',</code>&#13;
<code class="go">'blue': 'confuse everyone'}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">original_signals</code>&#13;
<code class="go">{'green': 'go',</code>&#13;
<code class="go">'yellow': 'go faster',</code>&#13;
<code class="go">'red': 'smile for the camera'}</code>&#13;
<code class="go">&gt;&gt;&gt;</code></pre>&#13;
&#13;
<p>This is a <em>shallow</em> copy,&#13;
and works if the dictionary values are immutable&#13;
(as they are in this case).&#13;
If they aren’t, you need <code>deepcopy()</code>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Copy Everything with deepcopy()" data-type="sect2"><div class="sect2" id="dict_deepcopy">&#13;
<h2>Copy Everything with deepcopy()</h2>&#13;
&#13;
<p>Suppose that the value for <code>red</code> in the previous example&#13;
was a list instead of a single string:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code> <code class="o">=</code> <code class="p">{</code><code class="s">'green'</code><code class="p">:</code> <code class="s">'go'</code><code class="p">,</code>&#13;
<code class="gp">... </code><code class="s">'yellow'</code><code class="p">:</code> <code class="s">'go faster'</code><code class="p">,</code>&#13;
<code class="gp">... </code><code class="s">'red'</code><code class="p">:</code> <code class="p">[</code><code class="s">'stop'</code><code class="p">,</code> <code class="s">'smile'</code><code class="p">]}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals_copy</code> <code class="o">=</code> <code class="n">signals</code><code class="o">.</code><code class="n">copy</code><code class="p">()</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code>&#13;
<code class="go">{'green': 'go',</code>&#13;
<code class="go">'yellow': 'go faster',</code>&#13;
<code class="go">'red': ['stop', 'smile']}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals_copy</code>&#13;
<code class="go">{'green': 'go',</code>&#13;
<code class="go">'yellow': 'go faster',</code>&#13;
<code class="go">'red': ['stop', 'smile']}</code>&#13;
<code class="go">&gt;&gt;&gt;</code></pre>&#13;
&#13;
<p>Let’s change one of the values in the <code>red</code> list:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code><code class="p">[</code><code class="s">'red'</code><code class="p">][</code><code class="mi">1</code><code class="p">]</code> <code class="o">=</code> <code class="s">'sweat'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code>&#13;
<code class="go">{'green': 'go',</code>&#13;
<code class="go">'yellow': 'go faster',</code>&#13;
<code class="go">'red': ['stop', 'sweat']}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals_copy</code>&#13;
<code class="go">{'green': 'go',</code>&#13;
<code class="go">'yellow': 'go faster',</code>&#13;
<code class="go">'red': ['stop', 'sweat']}</code></pre>&#13;
&#13;
<p>You get the usual change-by-either-name behavior.&#13;
The <code>copy()</code> method copied the values as-is,&#13;
meaning <code>signal_copy</code> got the same list value&#13;
for <code>'red'</code> that <code>signals</code> had.</p>&#13;
&#13;
<p>The solution is <code>deepcopy()</code>:<a data-startref="ix_ch08-dicts-asciidoc6" data-type="indexterm" id="idm45795007145592"/></p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">copy</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code> <code class="o">=</code> <code class="p">{</code><code class="s">'green'</code><code class="p">:</code> <code class="s">'go'</code><code class="p">,</code>&#13;
<code class="gp">... </code><code class="s">'yellow'</code><code class="p">:</code> <code class="s">'go faster'</code><code class="p">,</code>&#13;
<code class="gp">... </code><code class="s">'red'</code><code class="p">:</code> <code class="p">[</code><code class="s">'stop'</code><code class="p">,</code> <code class="s">'smile'</code><code class="p">]}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals_copy</code> <code class="o">=</code> <code class="n">copy</code><code class="o">.</code><code class="n">deepcopy</code><code class="p">(</code><code class="n">signals</code><code class="p">)</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code>&#13;
<code class="go">{'green': 'go',</code>&#13;
<code class="go">'yellow': 'go faster',</code>&#13;
<code class="go">'red': ['stop', 'smile']}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals_copy</code>&#13;
<code class="go">{'green': 'go',</code>&#13;
<code class="go">'yellow':'go faster',</code>&#13;
<code class="go">'red': ['stop', 'smile']}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code><code class="p">[</code><code class="s">'red'</code><code class="p">][</code><code class="mi">1</code><code class="p">]</code> <code class="o">=</code> <code class="s">'sweat'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals</code>&#13;
<code class="go">{'green': 'go',</code>&#13;
<code class="go">'yellow': 'go faster',</code>&#13;
<code class="go">red': ['stop', 'sweat']}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">signals_copy</code>&#13;
<code class="go">{'green': 'go',</code>&#13;
<code class="go">'yellow': 'go faster',</code>&#13;
<code class="go">red': ['stop', 'smile']}</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Compare Dictionaries" data-type="sect2"><div class="sect2" id="dict_compare">&#13;
<h2>Compare Dictionaries</h2>&#13;
&#13;
<p><a data-primary="!= (not-equal-to operator)" data-type="indexterm" id="idm45795007002280"/><a data-primary="== (equality operator)" data-type="indexterm" id="idm45795007001608"/><a data-primary="dictionaries" data-secondary="comparing" data-type="indexterm" id="idm45795007000936"/><a data-primary="equality operator (==)" data-type="indexterm" id="idm45795006999992"/>Much like lists and tuples in the previous chapter,&#13;
dictionaries can be compared with the simple&#13;
comparison operators <code>==</code> and <code>!=</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">=</code> <code class="p">{</code><code class="mi">1</code><code class="p">:</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">:</code><code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">:</code><code class="mi">3</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">b</code> <code class="o">=</code> <code class="p">{</code><code class="mi">3</code><code class="p">:</code><code class="mi">3</code><code class="p">,</code> <code class="mi">1</code><code class="p">:</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">:</code><code class="mi">2</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">==</code> <code class="n">b</code>&#13;
<code class="go">True</code></pre>&#13;
&#13;
<p>Other operators won’t work:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">=</code> <code class="p">{</code><code class="mi">1</code><code class="p">:</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">:</code><code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">:</code><code class="mi">3</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">b</code> <code class="o">=</code> <code class="p">{</code><code class="mi">3</code><code class="p">:</code><code class="mi">3</code><code class="p">,</code> <code class="mi">1</code><code class="p">:</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">:</code><code class="mi">2</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">&lt;=</code> <code class="n">b</code>&#13;
<code class="gt">Traceback (most recent call last):</code>&#13;
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>&#13;
<code class="gr">TypeError</code>: <code class="n">'&lt;=' not supported between instances of 'dict' and 'dict'</code></pre>&#13;
&#13;
<p>Python compares the keys and values one by one.&#13;
The order in which they were originally created doesn’t matter.&#13;
In this example, <code>a</code> and <code>b</code> are equal, except&#13;
key <code>1</code> has the list value <code>[1, 2]</code> in <code>a</code> and&#13;
the list value <code>[1, 1]</code> in <code>b</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">=</code> <code class="p">{</code><code class="mi">1</code><code class="p">:</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">],</code> <code class="mi">2</code><code class="p">:</code> <code class="p">[</code><code class="mi">1</code><code class="p">],</code> <code class="mi">3</code><code class="p">:[</code><code class="mi">1</code><code class="p">]}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">b</code> <code class="o">=</code> <code class="p">{</code><code class="mi">1</code><code class="p">:</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">1</code><code class="p">],</code> <code class="mi">2</code><code class="p">:</code> <code class="p">[</code><code class="mi">1</code><code class="p">],</code> <code class="mi">3</code><code class="p">:[</code><code class="mi">1</code><code class="p">]}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">==</code> <code class="n">b</code>&#13;
<code class="go">False</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Iterate with for and in" data-type="sect2"><div class="sect2" id="dict_iterate">&#13;
<h2>Iterate with for and in</h2>&#13;
&#13;
<p><a data-primary="dictionaries" data-secondary="iterating over" data-type="indexterm" id="idm45795006795032"/><a data-primary="iteration" data-secondary="dictionaries" data-type="indexterm" id="idm45795006794056"/>Iterating over a dictionary&#13;
(or its <code>keys()</code> function)&#13;
returns the keys.&#13;
In this example,&#13;
the keys are the types of cards in the board game Clue&#13;
(Cluedo outside of North America):</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">accusation</code> <code class="o">=</code> <code class="p">{</code><code class="s">'room'</code><code class="p">:</code> <code class="s">'ballroom'</code><code class="p">,</code> <code class="s">'weapon'</code><code class="p">:</code> <code class="s">'lead pipe'</code><code class="p">,</code>&#13;
<code class="gp">... </code>              <code class="s">'person'</code><code class="p">:</code> <code class="s">'Col. Mustard'</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">card</code> <code class="ow">in</code> <code class="n">accusation</code><code class="p">:</code>  <code class="c">#  or, for card in accusation.keys():</code>&#13;
<code class="gp">... </code>    <code class="k">print</code><code class="p">(</code><code class="n">card</code><code class="p">)</code>&#13;
<code class="gp">...</code>&#13;
<code class="go">room</code>&#13;
<code class="go">weapon</code>&#13;
<code class="go">person</code></pre>&#13;
&#13;
<p>To iterate over the values rather than the keys,&#13;
you use the dictionary’s <code>values()</code> function:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">value</code> <code class="ow">in</code> <code class="n">accusation</code><code class="o">.</code><code class="n">values</code><code class="p">():</code>&#13;
<code class="gp">... </code>    <code class="k">print</code><code class="p">(</code><code class="n">value</code><code class="p">)</code>&#13;
<code class="gp">...</code>&#13;
<code class="go">ballroom</code>&#13;
<code class="go">lead pipe</code>&#13;
<code class="go">Col. Mustard</code></pre>&#13;
&#13;
<p>To return both the key and value as a tuple,&#13;
you can use the <code>items()</code> function:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">item</code> <code class="ow">in</code> <code class="n">accusation</code><code class="o">.</code><code class="n">items</code><code class="p">():</code>&#13;
<code class="gp">... </code>    <code class="k">print</code><code class="p">(</code><code class="n">item</code><code class="p">)</code>&#13;
<code class="gp">...</code>&#13;
<code class="go">('room', 'ballroom')</code>&#13;
<code class="go">('weapon', 'lead pipe')</code>&#13;
<code class="go">('person', 'Col. Mustard')</code></pre>&#13;
&#13;
<p>You can assign to a tuple in one step.&#13;
For each tuple returned by <code>items()</code>,&#13;
assign the first value (the key)&#13;
to <code>card</code>, and the second (the value) to <code>contents</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">card</code><code class="p">,</code> <code class="n">contents</code> <code class="ow">in</code> <code class="n">accusation</code><code class="o">.</code><code class="n">items</code><code class="p">():</code>&#13;
<code class="gp">... </code>    <code class="k">print</code><code class="p">(</code><code class="s">'Card'</code><code class="p">,</code> <code class="n">card</code><code class="p">,</code> <code class="s">'has the contents'</code><code class="p">,</code> <code class="n">contents</code><code class="p">)</code>&#13;
<code class="gp">...</code>&#13;
<code class="go">Card weapon has the contents lead pipe</code>&#13;
<code class="go">Card person has the contents Col. Mustard</code>&#13;
<code class="go">Card room has the contents ballroom</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Dictionary Comprehensions" data-type="sect2"><div class="sect2" id="dictionary_comprehensions">&#13;
<h2>Dictionary Comprehensions</h2>&#13;
&#13;
<p><a data-primary="comprehensions" data-secondary="dictionaries" data-type="indexterm" id="idm45795006589032"/><a data-primary="dictionaries" data-secondary="comprehensions" data-type="indexterm" id="idm45795006588312"/>Not to be outdone by those bourgeois lists,&#13;
dictionaries also have comprehensions.&#13;
The simplest form looks familiar:</p>&#13;
<pre>{<em><code>key_expression</code></em> : <em><code>value_expression</code></em> for <em><code>expression</code></em> in <em><code>iterable</code></em>}</pre>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">word</code> <code class="o">=</code> <code class="s">'letters'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">letter_counts</code> <code class="o">=</code> <code class="p">{</code><code class="n">letter</code><code class="p">:</code> <code class="n">word</code><code class="o">.</code><code class="n">count</code><code class="p">(</code><code class="n">letter</code><code class="p">)</code> <code class="k">for</code> <code class="n">letter</code> <code class="ow">in</code> <code class="n">word</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">letter_counts</code>&#13;
<code class="go">{'l': 1, 'e': 2, 't': 2, 'r': 1, 's': 1}</code></pre>&#13;
&#13;
<p>We’re running a loop over each of the seven letters in the string&#13;
<code>'letters'</code> and counting how many times that letter appears.&#13;
Two uses of <code>word.count(letter)</code>&#13;
are a waste of time because we have&#13;
to count all the <code>e</code>’s twice and all the <code>t</code>’s twice.&#13;
But when we&#13;
count the <code>e</code>’s the second time,&#13;
we do no harm because we just replace&#13;
the entry in the dictionary that was already there;&#13;
the same goes for&#13;
counting the <code>t</code>’s.&#13;
So, the following would have been a teeny bit more Pythonic:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">word</code> <code class="o">=</code> <code class="s">'letters'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">letter_counts</code> <code class="o">=</code> <code class="p">{</code><code class="n">letter</code><code class="p">:</code> <code class="n">word</code><code class="o">.</code><code class="n">count</code><code class="p">(</code><code class="n">letter</code><code class="p">)</code> <code class="k">for</code> <code class="n">letter</code> <code class="ow">in</code> <code class="nb">set</code><code class="p">(</code><code class="n">word</code><code class="p">)}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">letter_counts</code>&#13;
<code class="go">{'t': 2, 'l': 1, 'e': 2, 'r': 1, 's': 1}</code></pre>&#13;
&#13;
<p>The dictionary’s keys are in a different order than the previous example&#13;
because iterating <code>set(word)</code> returns letters&#13;
in a different order than iterating&#13;
the string <code>word</code>.</p>&#13;
&#13;
<p>Similar to list comprehensions,&#13;
dictionary comprehensions can also have <code>if</code> tests and multiple&#13;
<code>for</code> clauses:</p>&#13;
<pre>{<em><code>key_expression</code></em> : <em><code>value_expression</code></em> for <em><code>expression</code></em> in <em><code>iterable</code></em> if <em><code>condition</code></em>}</pre>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">vowels</code> <code class="o">=</code> <code class="s">'aeiou'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">word</code> <code class="o">=</code> <code class="s">'onomatopoeia'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">vowel_counts</code> <code class="o">=</code> <code class="p">{</code><code class="n">letter</code><code class="p">:</code> <code class="n">word</code><code class="o">.</code><code class="n">count</code><code class="p">(</code><code class="n">letter</code><code class="p">)</code> <code class="k">for</code> <code class="n">letter</code> <code class="ow">in</code> <code class="nb">set</code><code class="p">(</code><code class="n">word</code><code class="p">)</code>&#13;
<code class="go">	if letter in vowels}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">vowel_counts</code>&#13;
<code class="go">{'e': 1, 'i': 1, 'o': 4, 'a': 2}</code></pre>&#13;
&#13;
<p>See&#13;
<a href="https://oreil.ly/6udkb">PEP-274</a>&#13;
for more examples of dictionary comprehensions.<a data-startref="ix_ch08-dicts-asciidoc0" data-type="indexterm" id="idm45795006405608"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Sets" data-type="sect1"><div class="sect1" id="sets">&#13;
<h1>Sets</h1>&#13;
&#13;
<p><a data-primary="sets" data-type="indexterm" id="ix_ch08-dicts-asciidoc7"/>A<a data-primary="dictionaries" data-secondary="sets versus" data-type="indexterm" id="idm45795006402664"/><a data-primary="keys" data-secondary="sets and" data-type="indexterm" id="idm45795006401688"/><a data-primary="sets" data-secondary="dictionaries versus" data-type="indexterm" id="idm45795006400744"/> <em>set</em> is like a dictionary&#13;
with its values thrown away,&#13;
leaving only the keys.&#13;
As with a dictionary, each key must be unique.&#13;
You use a set when you only want to know that something exists,&#13;
and nothing else about it.&#13;
It’s a bag of keys.&#13;
Use a dictionary if you want to attach some&#13;
information to the key as a value.</p>&#13;
&#13;
<p>At some bygone time, in some places,&#13;
set theory was taught in elementary school&#13;
along with basic mathematics.&#13;
If your school skipped it&#13;
(or you were staring out the window),&#13;
<a data-type="xref" href="#fig_set_ops">Figure 8-1</a>&#13;
shows the ideas of set union and intersection.</p>&#13;
&#13;
<p>Suppose that you take the union of two sets that have some keys in common.&#13;
Because a set must contain only one of each item,&#13;
the union of two&#13;
sets will contain only one of each key.&#13;
<a data-primary="empty set" data-type="indexterm" id="idm45795006396616"/><a data-primary="null set" data-type="indexterm" id="idm45795006395912"/><a data-primary="sets" data-secondary="null/empty" data-type="indexterm" id="idm45795006395240"/>The <em>null</em> or <em>empty</em> set is a set with zero elements.&#13;
In <a data-type="xref" href="#fig_set_ops">Figure 8-1</a>,&#13;
an example of a null set would be female names&#13;
beginning with <code>X</code>.</p>&#13;
&#13;
<figure><div class="figure" id="fig_set_ops">&#13;
<img alt="inp2 0801" src="assets/inp2_0801.png"/>&#13;
<h6><span class="label">Figure 8-1. </span>Common things to do with sets</h6>&#13;
</div></figure>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Create with set()" data-type="sect2"><div class="sect2" id="set_create">&#13;
<h2>Create with set()</h2>&#13;
&#13;
<p><a data-primary="set() function" data-type="indexterm" id="idm45795006388376"/><a data-primary="sets" data-secondary="creating" data-type="indexterm" id="idm45795006387672"/>To create a set, you use the <code>set()</code> function or enclose&#13;
one or more comma-separated values in curly brackets, as shown here:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">empty_set</code> <code class="o">=</code> <code class="nb">set</code><code class="p">()</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">empty_set</code>&#13;
<code class="go">set()</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">even_numbers</code> <code class="o">=</code> <code class="p">{</code><code class="mi">0</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">even_numbers</code>&#13;
<code class="go">{0, 2, 4, 6, 8}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">odd_numbers</code> <code class="o">=</code> <code class="p">{</code><code class="mi">1</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">7</code><code class="p">,</code> <code class="mi">9</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">odd_numbers</code>&#13;
<code class="go">{1, 3, 5, 7, 9}</code></pre>&#13;
&#13;
<p>Sets are unordered.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Because <code>[]</code> creates an empty list,&#13;
you might expect <code>{}</code> to create an empty set.&#13;
Instead, <code>{}</code> creates an empty dictionary.&#13;
That’s also why the interpreter&#13;
prints an empty set as <code>set()</code> instead of <code>{}</code>.&#13;
Why? Dictionaries were in Python first&#13;
and took possession of the curly brackets.&#13;
And possession is nine-tenths of the law.<sup><a data-type="noteref" href="ch08.html#idm45795006303816" id="idm45795006303816-marker">2</a></sup></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Convert with set()" data-type="sect2"><div class="sect2" id="set_convert">&#13;
<h2>Convert with set()</h2>&#13;
&#13;
<p><a data-primary="sets" data-secondary="conversion to" data-type="indexterm" id="idm45795006301288"/>You can create a set from a list, string, tuple, or dictionary,&#13;
discarding any duplicate values.</p>&#13;
&#13;
<p>First, let’s take a look at a string with more than one occurrence of some letters:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="nb">set</code><code class="p">(</code> <code class="s">'letters'</code> <code class="p">)</code>&#13;
<code class="go">{'l', 'r', 's', 't', 'e'}</code></pre>&#13;
&#13;
<p>Notice that the set contains only one <code>'e'</code> or <code>'t'</code>,&#13;
even though <code>'letters'</code> contained two of each.</p>&#13;
&#13;
<p>Now, let’s make a set from a list:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="nb">set</code><code class="p">(</code> <code class="p">[</code><code class="s">'Dasher'</code><code class="p">,</code> <code class="s">'Dancer'</code><code class="p">,</code> <code class="s">'Prancer'</code><code class="p">,</code> <code class="s">'Mason-Dixon'</code><code class="p">]</code> <code class="p">)</code>&#13;
<code class="go">{'Dancer', 'Dasher', 'Mason-Dixon', 'Prancer'}</code></pre>&#13;
&#13;
<p>This time, a set from a tuple:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="nb">set</code><code class="p">(</code> <code class="p">(</code><code class="s">'Ummagumma'</code><code class="p">,</code> <code class="s">'Echoes'</code><code class="p">,</code> <code class="s">'Atom Heart Mother'</code><code class="p">)</code> <code class="p">)</code>&#13;
<code class="go">{'Ummagumma', 'Atom Heart Mother', 'Echoes'}</code></pre>&#13;
&#13;
<p>When you give <code>set()</code> a dictionary, it uses only the keys:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="nb">set</code><code class="p">(</code> <code class="p">{</code><code class="s">'apple'</code><code class="p">:</code> <code class="s">'red'</code><code class="p">,</code> <code class="s">'orange'</code><code class="p">:</code> <code class="s">'orange'</code><code class="p">,</code> <code class="s">'cherry'</code><code class="p">:</code> <code class="s">'red'</code><code class="p">}</code> <code class="p">)</code>&#13;
<code class="go">{'cherry', 'orange', 'apple'}</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Get Length with len()" data-type="sect2"><div class="sect2" id="set_len">&#13;
<h2>Get Length with len()</h2>&#13;
&#13;
<p><a data-primary="len() function" data-secondary="getting length of set with" data-type="indexterm" id="idm45795006189624"/><a data-primary="sets" data-secondary="getting length of" data-type="indexterm" id="idm45795006188680"/>Let’s count our reindeer:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">reindeer</code> <code class="o">=</code> <code class="nb">set</code><code class="p">(</code> <code class="p">[</code><code class="s">'Dasher'</code><code class="p">,</code> <code class="s">'Dancer'</code><code class="p">,</code> <code class="s">'Prancer'</code><code class="p">,</code> <code class="s">'Mason-Dixon'</code><code class="p">]</code> <code class="p">)</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">len</code><code class="p">(</code><code class="n">reindeer</code><code class="p">)</code>&#13;
<code class="go">4</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Add an Item with add()" data-type="sect2"><div class="sect2" id="set_add">&#13;
<h2>Add an Item with add()</h2>&#13;
&#13;
<p><a data-primary="add() function" data-type="indexterm" id="idm45795006146760"/><a data-primary="sets" data-secondary="adding items to" data-type="indexterm" id="idm45795006146056"/>Throw another item into a set with the set <code>add()</code> method:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">s</code> <code class="o">=</code> <code class="nb">set</code><code class="p">((</code><code class="mi">1</code><code class="p">,</code><code class="mi">2</code><code class="p">,</code><code class="mi">3</code><code class="p">))</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">s</code>&#13;
<code class="go">{1, 2, 3}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">s</code><code class="o">.</code><code class="n">add</code><code class="p">(</code><code class="mi">4</code><code class="p">)</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">s</code>&#13;
<code class="go">{1, 2, 3, 4}</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Delete an Item with remove()" data-type="sect2"><div class="sect2" id="set_remove">&#13;
<h2>Delete an Item with remove()</h2>&#13;
&#13;
<p><a data-primary="remove() function" data-secondary="deleting value from set" data-type="indexterm" id="idm45795006102680"/><a data-primary="sets" data-secondary="deleting items from" data-type="indexterm" id="idm45795006101704"/><a data-primary="values" data-secondary="deleting from set" data-type="indexterm" id="idm45795006063288"/>You can delete a value from a set by value:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">s</code> <code class="o">=</code> <code class="nb">set</code><code class="p">((</code><code class="mi">1</code><code class="p">,</code><code class="mi">2</code><code class="p">,</code><code class="mi">3</code><code class="p">))</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">s</code><code class="o">.</code><code class="n">remove</code><code class="p">(</code><code class="mi">3</code><code class="p">)</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">s</code>&#13;
<code class="go">{1, 2}</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="pagebreak-before less_space" data-pdf-bookmark="Iterate with for and in" data-type="sect2"><div class="sect2" id="set_iterate">&#13;
<h2>Iterate with for and in</h2>&#13;
&#13;
<p><a data-primary="in (membership operator)" data-secondary="iterating over all items in set" data-type="indexterm" id="idm45795006050744"/><a data-primary="iteration" data-secondary="sets" data-type="indexterm" id="idm45795006012600"/><a data-primary="sets" data-secondary="iterating over all items in" data-type="indexterm" id="idm45795006011656"/>Like dictionaries, you can iterate over all items in a set:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">furniture</code> <code class="o">=</code> <code class="nb">set</code><code class="p">((</code><code class="s">'sofa'</code><code class="p">,</code> <code class="s">'ottoman'</code><code class="p">,</code> <code class="s">'table'</code><code class="p">))</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">piece</code> <code class="ow">in</code> <code class="n">furniture</code><code class="p">:</code>&#13;
<code class="gp">... </code>    <code class="k">print</code><code class="p">(</code><code class="n">piece</code><code class="p">)</code>&#13;
<code class="gp">...</code>&#13;
<code class="go">ottoman</code>&#13;
<code class="go">table</code>&#13;
<code class="go">sofa</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Test for a Value with in" data-type="sect2"><div class="sect2" id="set_in">&#13;
<h2>Test for a Value with in</h2>&#13;
&#13;
<p><a data-primary="in (membership operator)" data-secondary="test for value in set with" data-type="indexterm" id="idm45795005962536"/><a data-primary="sets" data-secondary="testing for values" data-type="indexterm" id="idm45795005961624"/><a data-primary="values" data-secondary="in set" data-type="indexterm" id="idm45795005960680"/>This is the most common use of a set.&#13;
We’ll make a dictionary called <code>drinks</code>.&#13;
Each key is the name of a mixed drink,&#13;
and the corresponding value is a set of that drink’s ingredients:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">drinks</code> <code class="o">=</code> <code class="p">{</code>&#13;
<code class="gp">... </code>    <code class="s">'martini'</code><code class="p">:</code> <code class="p">{</code><code class="s">'vodka'</code><code class="p">,</code> <code class="s">'vermouth'</code><code class="p">},</code>&#13;
<code class="gp">... </code>    <code class="s">'black russian'</code><code class="p">:</code> <code class="p">{</code><code class="s">'vodka'</code><code class="p">,</code> <code class="s">'kahlua'</code><code class="p">},</code>&#13;
<code class="gp">... </code>    <code class="s">'white russian'</code><code class="p">:</code> <code class="p">{</code><code class="s">'cream'</code><code class="p">,</code> <code class="s">'kahlua'</code><code class="p">,</code> <code class="s">'vodka'</code><code class="p">},</code>&#13;
<code class="gp">... </code>    <code class="s">'manhattan'</code><code class="p">:</code> <code class="p">{</code><code class="s">'rye'</code><code class="p">,</code> <code class="s">'vermouth'</code><code class="p">,</code> <code class="s">'bitters'</code><code class="p">},</code>&#13;
<code class="gp">... </code>    <code class="s">'screwdriver'</code><code class="p">:</code> <code class="p">{</code><code class="s">'orange juice'</code><code class="p">,</code> <code class="s">'vodka'</code><code class="p">}</code>&#13;
<code class="gp">... </code>    <code class="p">}</code></pre>&#13;
&#13;
<p>Even though both are enclosed by curly braces (<code>{</code> and <code>}</code>),&#13;
a set is just a bunch of values,&#13;
and a dictionary contains&#13;
<em>key</em> : <em>value</em> pairs.</p>&#13;
&#13;
<p>Which drinks contain vodka?</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">name</code><code class="p">,</code> <code class="n">contents</code> <code class="ow">in</code> <code class="n">drinks</code><code class="o">.</code><code class="n">items</code><code class="p">():</code>&#13;
<code class="gp">... </code>    <code class="k">if</code> <code class="s">'vodka'</code> <code class="ow">in</code> <code class="n">contents</code><code class="p">:</code>&#13;
<code class="gp">... </code>        <code class="k">print</code><code class="p">(</code><code class="n">name</code><code class="p">)</code>&#13;
<code class="gp">...</code>&#13;
<code class="go">screwdriver</code>&#13;
<code class="go">martini</code>&#13;
<code class="go">black russian</code>&#13;
<code class="go">white russian</code></pre>&#13;
&#13;
<p>We want something with vodka but are lactose intolerant,&#13;
and think vermouth tastes like kerosene:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">name</code><code class="p">,</code> <code class="n">contents</code> <code class="ow">in</code> <code class="n">drinks</code><code class="o">.</code><code class="n">items</code><code class="p">():</code>&#13;
<code class="gp">... </code>    <code class="k">if</code> <code class="s">'vodka'</code> <code class="ow">in</code> <code class="n">contents</code> <code class="ow">and</code> <code class="ow">not</code> <code class="p">(</code><code class="s">'vermouth'</code> <code class="ow">in</code> <code class="n">contents</code> <code class="ow">or</code>&#13;
<code class="gp">... </code>        <code class="s">'cream'</code> <code class="ow">in</code> <code class="n">contents</code><code class="p">):</code>&#13;
<code class="gp">... </code>        <code class="k">print</code><code class="p">(</code><code class="n">name</code><code class="p">)</code>&#13;
<code class="gp">...</code>&#13;
<code class="go">screwdriver</code>&#13;
<code class="go">black russian</code></pre>&#13;
&#13;
<p>We’ll rewrite this a bit more succinctly in the next section.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Combinations and Operators" data-type="sect2"><div class="sect2" id="set_operators">&#13;
<h2>Combinations and Operators</h2>&#13;
&#13;
<p><a data-primary="&amp; (set intersection operator)" data-type="indexterm" id="ix_ch08-dicts-asciidoc8"/><a data-primary="set intersection operator (&amp;)" data-type="indexterm" id="ix_ch08-dicts-asciidoc9"/><a data-primary="sets" data-secondary="checking for combinations of set values" data-type="indexterm" id="ix_ch08-dicts-asciidoc10"/>What if you want to check for combinations of set values?&#13;
Suppose that you want to find any drink that has orange juice or vermouth?&#13;
Let’s use the <em>set intersection operator</em>,&#13;
which is an ampersand (<code>&amp;</code>):</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">name</code><code class="p">,</code> <code class="n">contents</code> <code class="ow">in</code> <code class="n">drinks</code><code class="o">.</code><code class="n">items</code><code class="p">():</code>&#13;
<code class="gp">... </code>    <code class="k">if</code> <code class="n">contents</code> <code class="o">&amp;</code> <code class="p">{</code><code class="s">'vermouth'</code><code class="p">,</code> <code class="s">'orange juice'</code><code class="p">}:</code>&#13;
<code class="gp">... </code>        <code class="k">print</code><code class="p">(</code><code class="n">name</code><code class="p">)</code>&#13;
<code class="gp">...</code>&#13;
<code class="go">screwdriver</code>&#13;
<code class="go">martini</code>&#13;
<code class="go">manhattan</code></pre>&#13;
&#13;
<p>The result of the <code>&amp;</code> operator is a set&#13;
that contains all of the&#13;
items that appear in both lists that you compare.&#13;
If neither of those ingredients were in <code>contents</code>,&#13;
the <code>&amp;</code> returns an empty set,&#13;
which is considered <code>False</code>.</p>&#13;
&#13;
<p>Now, let’s rewrite the example from the previous section,&#13;
in which we&#13;
wanted vodka but neither cream nor vermouth:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">name</code><code class="p">,</code> <code class="n">contents</code> <code class="ow">in</code> <code class="n">drinks</code><code class="o">.</code><code class="n">items</code><code class="p">():</code>&#13;
<code class="gp">... </code>    <code class="k">if</code> <code class="s">'vodka'</code> <code class="ow">in</code> <code class="n">contents</code> <code class="ow">and</code> <code class="ow">not</code> <code class="n">contents</code> <code class="o">&amp;</code> <code class="p">{</code><code class="s">'vermouth'</code><code class="p">,</code> <code class="s">'cream'</code><code class="p">}:</code>&#13;
<code class="gp">... </code>        <code class="k">print</code><code class="p">(</code><code class="n">name</code><code class="p">)</code>&#13;
<code class="gp">...</code>&#13;
<code class="go">screwdriver</code>&#13;
<code class="go">black russian</code></pre>&#13;
&#13;
<p>Let’s save the ingredient sets for these two drinks in variables,&#13;
just to save our delicate fingers some&#13;
typing in the coming examples:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">bruss</code> <code class="o">=</code> <code class="n">drinks</code><code class="p">[</code><code class="s">'black russian'</code><code class="p">]</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">wruss</code> <code class="o">=</code> <code class="n">drinks</code><code class="p">[</code><code class="s">'white russian'</code><code class="p">]</code></pre>&#13;
&#13;
<p>The following are examples of all the set operators.&#13;
Some have special punctuation,&#13;
some have special functions,&#13;
and some have both.&#13;
Let’s use test sets <code>a</code> (contains <code>1</code> and <code>2</code>)&#13;
and <code>b</code> (contains <code>2</code> and <code>3</code>):</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">=</code> <code class="p">{</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">b</code> <code class="o">=</code> <code class="p">{</code><code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">}</code></pre>&#13;
&#13;
<p>As you saw earlier,&#13;
you get the <em>intersection</em>&#13;
(members common to both sets)&#13;
with the special punctuation symbol <code>&amp;</code>.&#13;
<a data-primary="intersection() function" data-type="indexterm" id="idm45795005585592"/>The set <code>intersection()</code> function does the same:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">&amp;</code> <code class="n">b</code>&#13;
<code class="go">{2}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code><code class="o">.</code><code class="n">intersection</code><code class="p">(</code><code class="n">b</code><code class="p">)</code>&#13;
<code class="go">{2}</code></pre>&#13;
&#13;
<p>This snippet uses our saved drink variables:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">bruss</code> <code class="o">&amp;</code> <code class="n">wruss</code>&#13;
<code class="go">{'kahlua', 'vodka'}</code></pre>&#13;
&#13;
<p><a data-primary="ǀ (vertical bar)" data-type="indexterm" id="idm45795005525848"/><a data-primary="union() function" data-type="indexterm" id="idm45795005525352"/><a data-primary="vertical bar (ǀ)" data-type="indexterm" id="idm45795005483160"/>In this example, get the <em>union</em>&#13;
(members of either set)&#13;
by using <code>|</code> or the set <code class="keep-together">union()</code> function:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">|</code> <code class="n">b</code>&#13;
<code class="go">{1, 2, 3}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code><code class="o">.</code><code class="n">union</code><code class="p">(</code><code class="n">b</code><code class="p">)</code>&#13;
<code class="go">{1, 2, 3}</code></pre>&#13;
&#13;
<p>And here’s the alcoholic version:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">bruss</code> <code class="o">|</code> <code class="n">wruss</code>&#13;
<code class="go">{'cream', 'kahlua', 'vodka'}</code></pre>&#13;
&#13;
<p><a data-primary="- (difference)" data-type="indexterm" id="idm45795005424824"/><a data-primary="difference() function" data-type="indexterm" id="idm45795005424216"/>The <em>difference</em>&#13;
(members of the first set but not the second)&#13;
is obtained by using the character <code>-</code> or the&#13;
<code>difference()</code> function:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">-</code> <code class="n">b</code>&#13;
<code class="go">{1}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code><code class="o">.</code><code class="n">difference</code><code class="p">(</code><code class="n">b</code><code class="p">)</code>&#13;
<code class="go">{1}</code></pre>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">bruss</code> <code class="o">-</code> <code class="n">wruss</code>&#13;
<code class="go">set()</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">wruss</code> <code class="o">-</code> <code class="n">bruss</code>&#13;
<code class="go">{'cream'}</code></pre>&#13;
&#13;
<p>By far, the most common set operations&#13;
are union, intersection,&#13;
and difference.&#13;
I’ve included the others for completeness&#13;
in the examples that follow,&#13;
but you might never use them.</p>&#13;
&#13;
<p><a data-primary="‸ (exclusive or)" data-type="indexterm" id="idm45795005360008"/><a data-primary="exclusive or (^)" data-type="indexterm" id="idm45795005359512"/><a data-primary="symmetric_difference () function" data-type="indexterm" id="idm45795005417464"/>The <em>exclusive or</em>&#13;
(items in one set or the other, but not both)&#13;
uses <code>^</code> or <code class="keep-together">symmetric_difference()</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">^</code> <code class="n">b</code>&#13;
<code class="go">{1, 3}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code><code class="o">.</code><code class="n">symmetric_difference</code><code class="p">(</code><code class="n">b</code><code class="p">)</code>&#13;
<code class="go">{1, 3}</code></pre>&#13;
&#13;
<p>This finds the exclusive ingredient in our two russian drinks:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">bruss</code> <code class="o">^</code> <code class="n">wruss</code>&#13;
<code class="go">{'cream'}</code></pre>&#13;
&#13;
<p><a data-primary="&lt;= (subset)" data-type="indexterm" id="idm45795005286600"/><a data-primary="issubset() function" data-type="indexterm" id="idm45795005285992"/><a data-primary="subsets" data-type="indexterm" id="idm45795005285384"/>You can check whether one set is a <em>subset</em> of another&#13;
(all members of the first set are also in the second set)&#13;
by using <code>&lt;=</code> or <code>issubset()</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">&lt;=</code> <code class="n">b</code>&#13;
<code class="go">False</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code><code class="o">.</code><code class="n">issubset</code><code class="p">(</code><code class="n">b</code><code class="p">)</code>&#13;
<code class="go">False</code></pre>&#13;
&#13;
<p>Adding cream to a black russian makes a white russian,&#13;
so <code>wruss</code> is a superset of <code>bruss</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">bruss</code> <code class="o">&lt;=</code> <code class="n">wruss</code>&#13;
<code class="go">True</code></pre>&#13;
&#13;
<p>Is any set a subset of itself?&#13;
Yup.<sup><a data-type="noteref" href="ch08.html#idm45795005210776" id="idm45795005210776-marker">3</a></sup></p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">&lt;=</code> <code class="n">a</code>&#13;
<code class="go">True</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code><code class="o">.</code><code class="n">issubset</code><code class="p">(</code><code class="n">a</code><code class="p">)</code>&#13;
<code class="go">True</code></pre>&#13;
&#13;
<p><a data-primary="&lt;= (subset)" data-type="indexterm" id="idm45795005185320"/><a data-primary="proper subsets" data-type="indexterm" id="idm45795005184712"/>To be a <em>proper subset</em>, the second set&#13;
needs to have all the members of the first and more.&#13;
Calculate it by using <code>&lt;</code>, as in this example:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">&lt;</code> <code class="n">b</code>&#13;
<code class="go">False</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">&lt;</code> <code class="n">a</code>&#13;
<code class="go">False</code></pre>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">bruss</code> <code class="o">&lt;</code> <code class="n">wruss</code>&#13;
<code class="go">True</code></pre>&#13;
&#13;
<p><a data-primary="&gt;= (superset)" data-type="indexterm" id="idm45795005156040"/><a data-primary="issuperset() function" data-type="indexterm" id="idm45795005155432"/><a data-primary="superset" data-type="indexterm" id="idm45795005154824"/>A <em>superset</em> is the opposite of a subset&#13;
(all members of the second&#13;
set are also members of the first).&#13;
This uses <code>&gt;=</code> or <code>issuperset()</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">&gt;=</code> <code class="n">b</code>&#13;
<code class="go">False</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code><code class="o">.</code><code class="n">issuperset</code><code class="p">(</code><code class="n">b</code><code class="p">)</code>&#13;
<code class="go">False</code></pre>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">wruss</code> <code class="o">&gt;=</code> <code class="n">bruss</code>&#13;
<code class="go">True</code></pre>&#13;
&#13;
<p>Any set is a superset of itself:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">&gt;=</code> <code class="n">a</code>&#13;
<code class="go">True</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code><code class="o">.</code><code class="n">issuperset</code><code class="p">(</code><code class="n">a</code><code class="p">)</code>&#13;
<code class="go">True</code></pre>&#13;
&#13;
<p><a data-primary="&gt; (proper superset)" data-type="indexterm" id="idm45795005057304"/><a data-primary="proper superset" data-type="indexterm" id="idm45795005056808"/>And finally, you can find a <em>proper superset</em>&#13;
(the first set has all members of the second, and more)&#13;
by using <code>&gt;</code>, as shown here:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">&gt;</code> <code class="n">b</code>&#13;
<code class="go">False</code></pre>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">wruss</code> <code class="o">&gt;</code> <code class="n">bruss</code>&#13;
<code class="go">True</code></pre>&#13;
&#13;
<p>You can’t be a proper superset of yourself:<a data-startref="ix_ch08-dicts-asciidoc10" data-type="indexterm" id="idm45795004965896"/><a data-startref="ix_ch08-dicts-asciidoc9" data-type="indexterm" id="idm45795004965288"/><a data-startref="ix_ch08-dicts-asciidoc8" data-type="indexterm" id="idm45795004964680"/></p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">&gt;</code> <code class="n">a</code>&#13;
<code class="go">False</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Set Comprehensions" data-type="sect2"><div class="sect2" id="set_comprehensions">&#13;
<h2>Set Comprehensions</h2>&#13;
&#13;
<p><a data-primary="comprehensions" data-secondary="sets" data-type="indexterm" id="idm45795005742520"/><a data-primary="sets" data-secondary="comprehensions" data-type="indexterm" id="idm45795005027320"/>No one wants to be left out, so even sets have comprehensions.&#13;
The simplest version&#13;
looks like the list and dictionary comprehensions that&#13;
you’ve just seen:</p>&#13;
&#13;
<p><code>{</code> <em><code>expression</code></em> <code>for</code> <em><code>expression</code></em> <code>in</code> <em><code>iterable</code></em> <code>}</code></p>&#13;
&#13;
<p>And it can have the optional condition tests:</p>&#13;
&#13;
<p><code>{</code> <em><code>expression</code></em> <code>for</code> <em><code>expression</code></em> <code>in</code> <em><code>iterable</code></em>&#13;
<code>if</code> <em><code>condition</code></em> <code>}</code></p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a_set</code> <code class="o">=</code> <code class="p">{</code><code class="n">number</code> <code class="k">for</code> <code class="n">number</code> <code class="ow">in</code> <code class="nb">range</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code><code class="mi">6</code><code class="p">)</code> <code class="k">if</code> <code class="n">number</code> <code class="o">%</code> <code class="mi">3</code> <code class="o">==</code> <code class="mi">1</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a_set</code>&#13;
<code class="go">{1, 4}</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Create an Immutable Set with frozenset()" data-type="sect2"><div class="sect2" id="frozenset">&#13;
<h2>Create an Immutable Set with frozenset()</h2>&#13;
&#13;
<p><a data-primary="frozenset() function" data-type="indexterm" id="idm45795004869032"/><a data-primary="sets" data-secondary="immutable" data-type="indexterm" id="idm45795004868328"/>If you want to create a set that can’t be changed,&#13;
call the <code>frozenset()</code> function with any iterable argument:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="nb">frozenset</code><code class="p">([</code><code class="mi">3</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">1</code><code class="p">])</code>&#13;
<code class="go">frozenset({1, 2, 3})</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">frozenset</code><code class="p">(</code><code class="nb">set</code><code class="p">([</code><code class="mi">2</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">3</code><code class="p">]))</code>&#13;
<code class="go">frozenset({1, 2, 3})</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">frozenset</code><code class="p">({</code><code class="mi">3</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">})</code>&#13;
<code class="go">frozenset({1, 2, 3})</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">frozenset</code><code class="p">(</code> <code class="p">(</code><code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">1</code><code class="p">)</code> <code class="p">)</code>&#13;
<code class="go">frozenset({1, 2, 3})</code></pre>&#13;
&#13;
<p>Is it really frozen?</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">fs</code> <code class="o">=</code> <code class="nb">frozenset</code><code class="p">([</code><code class="mi">3</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">1</code><code class="p">])</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">fs</code>&#13;
<code class="go">frozenset({1, 2, 3})</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">fs</code><code class="o">.</code><code class="n">add</code><code class="p">(</code><code class="mi">4</code><code class="p">)</code>&#13;
<code class="gt">Traceback (most recent call last):</code>&#13;
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>&#13;
<code class="gr">AttributeError</code>: <code class="n">'frozenset' object has no attribute 'add'</code></pre>&#13;
&#13;
<p>Yes, pretty frosty.<a data-startref="ix_ch08-dicts-asciidoc7" data-type="indexterm" id="idm45795004725448"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Data Structures So Far" data-type="sect1"><div class="sect1" id="data_structure_review">&#13;
<h1>Data Structures So Far</h1>&#13;
&#13;
<p><a data-primary="data structures" data-secondary="comparisons" data-type="indexterm" id="idm45795004723160"/>To review, you <em>make</em>:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>A list by using square brackets (<code>[]</code>)</p>&#13;
</li>&#13;
<li>&#13;
<p>A tuple by using commas and optional parentheses</p>&#13;
</li>&#13;
<li>&#13;
<p>A dictionary or set by using curly brackets (<code>{}</code>)</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>For all but sets,&#13;
you <em>access</em> a single element with square brackets.&#13;
For the list and tuple,&#13;
the value between the square brackets&#13;
is an integer offset.&#13;
For the dictionary, it’s a key.&#13;
For all three, the result is a value.&#13;
For the set, it’s either there or it’s not;&#13;
there’s no index or key:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">marx_list</code> <code class="o">=</code> <code class="p">[</code><code class="s">'Groucho'</code><code class="p">,</code> <code class="s">'Chico'</code><code class="p">,</code> <code class="s">'Harpo'</code><code class="p">]</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">marx_tuple</code> <code class="o">=</code> <code class="p">(</code><code class="s">'Groucho'</code><code class="p">,</code> <code class="s">'Chico'</code><code class="p">,</code> <code class="s">'Harpo'</code><code class="p">)</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">marx_dict</code> <code class="o">=</code> <code class="p">{</code><code class="s">'Groucho'</code><code class="p">:</code> <code class="s">'banjo'</code><code class="p">,</code> <code class="s">'Chico'</code><code class="p">:</code> <code class="s">'piano'</code><code class="p">,</code> <code class="s">'Harpo'</code><code class="p">:</code> <code class="s">'harp'</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">marx_set</code> <code class="o">=</code> <code class="p">{</code><code class="s">'Groucho'</code><code class="p">,</code> <code class="s">'Chico'</code><code class="p">,</code> <code class="s">'Harpo'</code><code class="p">}</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">marx_list</code><code class="p">[</code><code class="mi">2</code><code class="p">]</code>&#13;
<code class="go">'Harpo'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">marx_tuple</code><code class="p">[</code><code class="mi">2</code><code class="p">]</code>&#13;
<code class="go">'Harpo'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">marx_dict</code><code class="p">[</code><code class="s">'Harpo'</code><code class="p">]</code>&#13;
<code class="go">'harp'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'Harpo'</code> <code class="ow">in</code> <code class="n">marx_list</code>&#13;
<code class="go">True</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'Harpo'</code> <code class="ow">in</code> <code class="n">marx_tuple</code>&#13;
<code class="go">True</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'Harpo'</code> <code class="ow">in</code> <code class="n">marx_dict</code>&#13;
<code class="go">True</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'Harpo'</code> <code class="ow">in</code> <code class="n">marx_set</code>&#13;
<code class="go">True</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Make Bigger Data Structures" data-type="sect1"><div class="sect1" id="data_structure_bigger">&#13;
<h1>Make Bigger Data Structures</h1>&#13;
&#13;
<p><a data-primary="data structures" data-secondary="creating complex" data-type="indexterm" id="idm45795004598280"/>We worked up from simple booleans, numbers, and strings to&#13;
lists, tuples, sets, and dictionaries.&#13;
You can combine these built-in data structures into bigger,&#13;
more complex structures of your own.&#13;
Let’s start with three different lists:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">marxes</code> <code class="o">=</code> <code class="p">[</code><code class="s">'Groucho'</code><code class="p">,</code> <code class="s">'Chico'</code><code class="p">,</code> <code class="s">'Harpo'</code><code class="p">]</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">pythons</code> <code class="o">=</code> <code class="p">[</code><code class="s">'Chapman'</code><code class="p">,</code> <code class="s">'Cleese'</code><code class="p">,</code> <code class="s">'Gilliam'</code><code class="p">,</code> <code class="s">'Jones'</code><code class="p">,</code> <code class="s">'Palin'</code><code class="p">]</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">stooges</code> <code class="o">=</code> <code class="p">[</code><code class="s">'Moe'</code><code class="p">,</code> <code class="s">'Curly'</code><code class="p">,</code> <code class="s">'Larry'</code><code class="p">]</code></pre>&#13;
&#13;
<p>We can make a tuple that contains each list&#13;
as an element:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">tuple_of_lists</code> <code class="o">=</code> <code class="n">marxes</code><code class="p">,</code> <code class="n">pythons</code><code class="p">,</code> <code class="n">stooges</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">tuple_of_lists</code>&#13;
<code class="go">(['Groucho', 'Chico', 'Harpo'],</code>&#13;
<code class="go">['Chapman', 'Cleese', 'Gilliam', 'Jones', 'Palin'],</code>&#13;
<code class="go">['Moe', 'Curly', 'Larry'])</code></pre>&#13;
&#13;
<p>And we can make a list that contains the three lists:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">list_of_lists</code> <code class="o">=</code> <code class="p">[</code><code class="n">marxes</code><code class="p">,</code> <code class="n">pythons</code><code class="p">,</code> <code class="n">stooges</code><code class="p">]</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">list_of_lists</code>&#13;
<code class="go">[['Groucho', 'Chico', 'Harpo'],</code>&#13;
<code class="go">['Chapman', 'Cleese', 'Gilliam', 'Jones', 'Palin'],</code>&#13;
<code class="go">['Moe', 'Curly', 'Larry']]</code></pre>&#13;
&#13;
<p>Finally, let’s create a dictionary of lists.&#13;
In this example, let’s use the name of the comedy group as the key&#13;
and the list of members as the value:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">dict_of_lists</code> <code class="o">=</code> <code class="p">{</code><code class="s">'Marxes'</code><code class="p">:</code> <code class="n">marxes</code><code class="p">,</code> <code class="s">'Pythons'</code><code class="p">:</code> <code class="n">pythons</code><code class="p">,</code> <code class="s">'Stooges'</code><code class="p">:</code> <code class="n">stooges</code><code class="p">}</code>&#13;
<code class="go">&gt;&gt; dict_of_lists</code>&#13;
<code class="go">{'Marxes': ['Groucho', 'Chico', 'Harpo'],</code>&#13;
<code class="go">'Pythons': ['Chapman', 'Cleese', 'Gilliam', 'Jones', 'Palin'],</code>&#13;
<code class="go">'Stooges': ['Moe', 'Curly', 'Larry']}</code></pre>&#13;
&#13;
<p>Your only limitations are those in the data types themselves.&#13;
For example, dictionary keys need to be immutable,&#13;
so a list, dictionary, or set&#13;
can’t be a key for another dictionary.&#13;
But a tuple can be.&#13;
For example,&#13;
you could index sites of interest&#13;
by GPS coordinates&#13;
(latitude, longitude, and altitude;&#13;
see <a data-type="xref" href="ch21.html#ch_business">Chapter 21</a> for more mapping examples):</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">houses</code> <code class="o">=</code> <code class="p">{</code>&#13;
<code class="go">        (44.79, -93.14, 285): 'My House',</code>&#13;
<code class="go">        (38.89, -77.03, 13): 'The White House'</code>&#13;
<code class="go">        }</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Coming Up" data-type="sect1"><div class="sect1" id="idm45795004714184">&#13;
<h1>Coming Up</h1>&#13;
&#13;
<p>Back to code structures.&#13;
You’ll learn how to wrap code in <em>functions</em>,&#13;
and how to deal with <em>exceptions</em> when things go awry.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Things to Do" data-type="sect1"><div class="sect1" id="idm45795004404584">&#13;
<h1>Things to Do</h1>&#13;
&#13;
<p>8.1&#13;
<a data-primary="dictionaries" data-secondary="practice exercises" data-type="indexterm" id="idm45795004402600"/><a data-primary="sets" data-secondary="practice exercises" data-type="indexterm" id="idm45795004401592"/>Make an English-to-French dictionary called&#13;
<code>e2f</code>&#13;
and print it.&#13;
Here are your starter words:&#13;
<code>dog</code> is <code>chien</code>,&#13;
<code>cat</code> is <code>chat</code>,&#13;
and <code>walrus</code> is <code>morse</code>.</p>&#13;
&#13;
<p>8.2&#13;
Using your three-word dictionary <code>e2f</code>,&#13;
print the French word for <code>walrus</code>.</p>&#13;
&#13;
<p>8.3&#13;
Make a French-to-English dictionary called&#13;
<code>f2e</code> from <code>e2f</code>.&#13;
Use the <code>items</code> method.</p>&#13;
&#13;
<p>8.4&#13;
Print the English equivalent of the French word <code>chien</code>.</p>&#13;
&#13;
<p>8.5&#13;
Print the set of English words from <code>e2f</code>.</p>&#13;
&#13;
<p>8.6&#13;
Make a multilevel dictionary called <code>life</code>.&#13;
Use these strings for the topmost keys:&#13;
<code>'animals'</code>, <code>'plants'</code>, and <code>'other'</code>.&#13;
Make the <code>'animals'</code> key refer to another dictionary&#13;
with the keys <code>'cats'</code>, <code>'octopi'</code>, and <code>'emus'</code>.&#13;
Make the <code>'cats'</code> key refer to a list of strings with the values&#13;
<code>'Henri'</code>, <code>'Grumpy'</code>, and <code>'Lucy'</code>.&#13;
Make all the other keys refer to empty dictionaries.</p>&#13;
&#13;
<p>8.7&#13;
Print the top-level keys of <code>life</code>.</p>&#13;
&#13;
<p>8.8&#13;
Print the keys for <code>life['animals']</code>.</p>&#13;
&#13;
<p>8.9&#13;
Print the values for <code>life['animals']['cats']</code>.</p>&#13;
&#13;
<p>8.10&#13;
Use a dictionary comprehension to create the dictionary&#13;
<code>squares</code>.&#13;
Use <code>range(10)</code> to return the keys,&#13;
and use the square of each key as its value.</p>&#13;
&#13;
<p>8.11&#13;
Use a set comprehension to create the set <code>odd</code>&#13;
from the odd numbers in <code>range(10)</code>.</p>&#13;
&#13;
<p>8.12&#13;
Use a generator comprehension to return the string&#13;
<code>'Got '</code>&#13;
and a number for the numbers in <code>range(10)</code>.&#13;
Iterate through this by using a <code>for</code> loop.</p>&#13;
&#13;
<p>8.13&#13;
Use <code>zip()</code> to make a dictionary from the key tuple&#13;
<code>('optimist', 'pessimist', 'troll')</code>&#13;
and the values tuple&#13;
<code>('The glass is half full',</code>&#13;
<code>'The glass is half empty',</code>&#13;
<code>'How did you get a glass?')</code>.</p>&#13;
&#13;
<p>8.14&#13;
Use <code>zip()</code> to make a dictionary called <code>movies</code>&#13;
that pairs these lists:&#13;
<code>titles =</code>&#13;
<code>['Creature of Habit',</code>&#13;
<code>'Crewel Fate',</code>&#13;
<code>'Sharks On a Plane']</code>&#13;
and&#13;
<code>plots =</code>&#13;
<code>['A nun turns into a monster',</code>&#13;
<code>'A haunted yarn shop',</code>&#13;
<code>'Check your exits']</code></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<div data-type="footnotes"><p data-type="footnote" id="idm45795008873832"><sup><a href="ch08.html#idm45795008873832-marker">1</a></sup> Also, the final score in the Strontium-Carbon game.</p><p data-type="footnote" id="idm45795006303816"><sup><a href="ch08.html#idm45795006303816-marker">2</a></sup> According to lawyers and exorcists.</p><p data-type="footnote" id="idm45795005210776"><sup><a href="ch08.html#idm45795005210776-marker">3</a></sup> Although, paraphrasing Groucho Marx, “I wouldn’t want to belong to a club that would have someone like me as a member.”</p></div></div></section></body></html>