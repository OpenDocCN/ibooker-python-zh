<html><head></head><body>
<div id="sbo-rt-content"><section data-nutshell-tab="Strings and Things" data-pdf-bookmark="Chapter 9. Strings and Things" data-type="chapter" epub:type="chapter"><div class="chapter" id="strings_and_things">
<h1><span class="label">Chapter 9. </span>Strings and Things</h1>
<p>Python’s<a contenteditable="false" data-primary="str (built-in type)" data-type="indexterm" id="idm44924525580944"/> <span class="code">str</span> type implements Unicode text strings with operators, built-in functions, methods, and dedicated modules. The somewhat similar<a contenteditable="false" data-primary="bytes type" data-type="indexterm" id="idm44924525578960"/> <span class="code">bytes</span> type represents arbitrary binary data as a sequence of bytes, also known as a<a contenteditable="false" data-primary="bytestring/byte string" data-type="indexterm" id="idm44924525577008"/> <em>bytestring</em> or <em>byte string</em>. Many textual operations are possible on objects of either type: since these types are immutable, methods mostly create and return a new string unless returning the subject string unchanged. A mutable sequence of bytes can be represented as a <span class="code">bytearray</span>, briefly introduced in <a data-type="xref" href="ch03.xhtml#bytearray_objects">“bytearray objects”</a>.</p>
<p>This chapter first covers the methods available on these three types, then discusses the string module and string formatting (including formatted string literals), followed by the <span class="code">textwrap</span>, <span class="code">pprint</span>, and <span class="code">reprlib</span> modules. Issues related specifically to Unicode are covered at the end of the chapter.</p>
<section data-pdf-bookmark="Methods of String Objects" data-type="sect1"><div class="sect1" id="methods_of_string_objects">
<h1>Methods of String Objects</h1>
<p><span class="code">str</span>, <span class="code">bytes</span>, and <span class="code">bytearray</span> objects<a contenteditable="false" data-primary="strings" data-secondary="methods of string objects" data-type="indexterm" id="Smethod11"/> are sequences, as covered in <a data-type="xref" href="ch03.xhtml#string">“Strings”</a>; of these, only <span class="code">bytearray</span> objects are mutable. All immutable-sequence operations (repetition, concatenation, indexing, and slicing) apply to instances of all three types, returning a new object of the same type. Unless otherwise specified in <a data-type="xref" href="#significant_str_and_bytes_methods">Table 9-1</a>, methods are present on objects of all three types. Most methods of <span class="code">str</span>, <span class="code">bytes</span>, and <span class="code">bytearray</span> objects return values of the same type, or are specifically intended to convert among representations.</p>
<p>Terms such as “letters,” “whitespace,” and so on refer to the corresponding attributes of the <span class="code">string</span> module, covered in the following section. Although <span class="code">bytearray</span> objects are mutable, their methods returning a <span class="code">bytearray</span> result do not mutate the object but instead return a newly created <span class="code">bytearray</span>, even when the result is the same as the subject string.</p>
<p>For brevity, the term <span class="code">bytes</span> in the following table refers to both <span class="code">bytes</span> and <span class="code">bytearray</span> objects. Take care when mixing these two types, however: while they are generally interoperable, the type of the result usually depends on the order of the operands.</p>
<p>In <a data-type="xref" href="#significant_str_and_bytes_methods">Table 9-1</a>, since integer values in Python can be arbitrarily large, for conciseness we use <span class="code">sys.maxsize</span> for integer default values to mean, in practice, “integer of unlimited magnitude.”</p>
<table class="border" id="significant_str_and_bytes_methods">
<caption><span class="label">Table 9-1. </span>Significant <span class="code">str</span> and <span class="code">bytes</span> methods</caption>
<tbody>
<tr>
<td class="width-18"><span class="code">capitalize</span></td>
<td><span class="code"><em>s</em></span><span class="code">.capitalize()</span><br/>
			Returns<a contenteditable="false" data-primary="capitalize method (string method)" data-type="indexterm" id="idm44924525525712"/> a copy of <span class="code"><em>s</em></span> where the first character, if a letter, is uppercase, and all other letters, if any, are lowercase.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">casefold</span></td>
<td><span class="code"><em>s</em></span><span class="code">.casefold()</span><br/>
<span class="code"><strong>str</strong></span> <strong>only</strong>. Returns<a contenteditable="false" data-primary="casefold (str method)" data-type="indexterm" id="idm44924525518384"/> a string processed by the algorithm described in <a href="https://oreil.ly/PjWUT">section 3.13 of the Unicode standard</a>. This is similar to <span class="code"><em>s</em></span><span class="code">.lower</span> (described later in this table) but also takes into account equivalences such as that between the German <span class="code">'</span>ß<span class="code">'</span> and <span class="code">'ss'</span>, and is thus better for case-insensitive matching when working with text that can include more than just the basic ASCII characters.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">center</span></td>
<td><span class="code"><em>s</em></span><span class="code">.center(<em>n</em>,</span> <span class="code"><em>fillchar</em></span><span class="code">=' ', /)</span><br/>
			Returns<a contenteditable="false" data-primary="center (string method)" data-type="indexterm" id="idm44924525507360"/> a string of length <span class="code">max(len(<em>s</em>),</span> <span class="code"><em>n</em></span><span class="code">)</span>, with a copy of <span class="code"><em>s</em></span> in the central part, surrounded by equal numbers of copies of character <span class="code"><em>fillchar</em></span> on both sides. The default <span class="code">fillchar</span> is a space. For example, <span class="code">'ciao'.center(2)</span> is <span class="code">'ciao'</span> and <span class="code">'x'.center(4, '_')</span> is <span class="code">'_x__'</span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">count</span></td>
<td><span class="code"><em>s</em></span><span class="code">.count(<em>sub</em>,</span> <span class="code"><em>start</em></span><span class="code">=0,</span> <span class="code"><em>end</em></span><span class="code">=sys.maxsize, /)</span><br/>
			Returns<a contenteditable="false" data-primary="count (string method)" data-type="indexterm" id="idm44924525491392"/> the number of nonoverlapping occurrences of substring <span class="code"><em>sub</em></span> in <span class="code"><em>s</em></span><span class="code">[<em>start</em>:<em>end</em>]</span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">decode</span></td>
<td><span class="code"><em>s</em></span><span class="code">.decode(encoding='utf-8', errors='strict')</span><br/>
<span class="code"><strong>bytes</strong></span> <strong>only</strong>. Returns a <span class="code">str</span> object decoded from the <span class="code">bytes</span> <span class="code"><em>s</em></span> according to the given encoding. <span class="code">errors</span> specifies how to handle decoding errors: <span class="code">'strict'</span> causes errors to raise <span class="code">UnicodeError</span> exceptions; <span class="code">'ignore'</span> ignores the malformed values, while <span class="code">'replace'</span> replaces them with question marks (see <a data-type="xref" href="#unicode">“Unicode”</a> for details). Other values can be registered via <span class="code">codecs.register_error</span>, covered in Table 9-10.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">encode</span></td>
<td><span class="code"><em>s</em></span><span class="code">.encode(encoding='utf-8', errors='strict')</span><br/>
<span class="code"><strong>str</strong></span> <strong>only</strong>. Returns<a contenteditable="false" data-primary="encode (str method)" data-type="indexterm" id="idm44924525469536"/> a <span class="code">bytes</span> object obtained from <span class="code">str</span> <span class="code"><em>s</em></span> with the given encoding and error handling. See <a data-type="xref" href="#unicode">“Unicode”</a> for more details.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">endswith</span></td>
<td><span class="code"><em>s</em></span><span class="code">.endswith(<em>suffix</em>,</span> <span class="code"><em>start</em></span><span class="code">=0,</span> <span class="code"><em>end</em></span><span class="code">=sys.maxsize, /)</span><br/>
			Returns<a contenteditable="false" data-primary="endswith (str and bytes method)" data-type="indexterm" id="idm44924525457952"/> <span class="code"><strong>True</strong></span> when <span class="code"><em>s</em></span><span class="code">[<em>start</em>:<em>end</em>]</span> ends with the string <span class="code"><em>suffix</em></span>; otherwise, returns <span class="code"><strong>False</strong></span>. <span class="code"><em>suffix</em></span> can be a tuple of strings, in which case <span class="code">endswith</span> returns <span class="code"><strong>True</strong></span> when <span class="code"><em>s</em></span><span class="code">[<em>start</em>:<em>end</em>]</span> ends with any one of them.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">expandtabs</span></td>
<td><span class="code"><em>s</em></span><span class="code">.expandtabs(tabsize=8)</span><br/>
			Returns<a contenteditable="false" data-primary="expandtabs method (string method)" data-type="indexterm" id="idm44924525443872"/> a copy of <span class="code"><em>s</em></span> where each tab character is changed into one or more spaces, with tab stops every <span class="code"><em>tabsize</em></span> characters.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">find</span></td>
<td><span class="code"><em>s</em></span><span class="code">.find(<em>sub</em>,</span> <span class="code"><em>start</em></span><span class="code">=0,</span> <span class="code"><em>end</em></span><span class="code">=sys.maxsize, /)</span><br/>
			Returns<a contenteditable="false" data-primary="find method" data-secondary="string and bytes types" data-type="indexterm" id="idm44924525433680"/> the lowest index in <span class="code"><em>s</em></span> where substring <span class="code"><em>sub</em></span> is found, such that <span class="code"><em>sub</em></span> is entirely contained in <span class="code"><em>s</em></span><span class="code">[<em>start</em>:<em>end</em>]</span>. For example, <span class="code">'banana'.find('na')</span> returns <span class="code">2</span>, as does <span class="code">'banana'.find('na', 1)</span>, while <span class="code">'banana'.find('na', 3)</span> returns <span class="code">4</span>, as does <span class="code">'banana'.find('na', -2)</span>. <span class="code">find</span> returns <span class="code">-1</span> when <span class="code"><em>sub</em></span> is not found.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">format</span></td>
<td><span class="code"><em>s</em></span><span class="code">.format(<em>*args</em>,</span> <span class="code"><em>**kwargs</em></span><span class="code">)</span><br/>
<span class="code"><strong>str</strong></span> <strong>only</strong>. Formats<a contenteditable="false" data-primary="format (str method)" data-type="indexterm" id="idm44924525414224"/> the positional and named arguments according to formatting instructions contained in the string <span class="code"><em>s</em></span>. See <a data-type="xref" href="#string_formatting">“String Formatting”</a> for further details.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">format_map</span></td>
<td><span class="code"><em>s</em></span>.<span class="code">format_map(mapping)</span><br/>
<span class="code"><strong>str</strong></span> <strong>only</strong>. Formats<a contenteditable="false" data-primary="format_map method (str method)" data-type="indexterm" id="idm44924525405888"/> the mapping argument according to formatting instructions contained in the string <span class="code"><em>s</em></span>. Equivalent to <span class="code"><em>s</em></span><span class="code">.format(**mapping)</span> but uses the mapping directly. See <a data-type="xref" href="#string_formatting">“String Formatting”</a> for formatting details.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">index</span></td>
<td><span class="code"><em>s</em></span><span class="code">.index(<em>sub</em>,</span> <span class="code"><em>start</em></span><span class="code">=0,</span> <span class="code"><em>end</em></span><span class="code">=sys.maxsize, /)</span><br/>
			Like<a contenteditable="false" data-primary="index (string method)" data-type="indexterm" id="idm44924525394544"/> <span class="code">find</span>, but raises <span class="code">ValueError</span> when <span class="code"><em>sub</em></span> is not found.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">isalnum</span></td>
<td><span class="code"><em>s</em></span><span class="code">.isalnum()</span><br/>
			Returns <span class="code"><strong>True</strong></span> when <span class="code">len(<em>s</em>)</span> is greater than <span class="code">0</span> and all characters in <span class="code"><em>s</em></span> are Unicode letters or digits. When <span class="code"><em>s</em></span> is empty, or when at least one character of <span class="code"><em>s</em></span> is neither a letter nor a digit, <span class="code">isalnum</span> returns <span class="code"><strong>False</strong></span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">isalpha</span></td>
<td><span class="code"><em>s</em></span><span class="code">.isalpha()</span><br/>
			Returns <span class="code"><strong>True</strong></span> when <span class="code">len(<em>s</em>)</span> is greater than <span class="code">0</span> and all characters in <span class="code"><em>s</em></span> are letters. When <span class="code"><em>s</em></span> is empty, or when at least one character of <span class="code"><em>s</em></span> is not a letter, <span class="code">isalpha</span> returns <span class="code"><strong>False</strong></span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">isascii</span></td>
<td><span class="code"><em>s</em></span><span class="code">.isascii()</span><br/>
			Returns <span class="code"><strong>True</strong></span> when the string is empty or all characters in the string are ASCII, or <span class="code"><strong>False</strong></span> otherwise. ASCII characters have codepoints in the range U+0000–U+007F.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">isdecimal</span></td>
<td><span class="code"><em>s</em></span><span class="code">.isdecimal()</span><br/>
<span class="code"><strong>str</strong></span> <strong>only</strong>. Returns <span class="code"><strong>True</strong></span> when <span class="code">len(<em>s</em>)</span> is greater than <span class="code">0</span> and all characters in <span class="code"><em>s</em></span> can be used to form decimal-radix numbers. This includes Unicode characters defined as Arabic digits.<sup><a data-type="noteref" href="ch09.xhtml#ch01fn95" id="ch01fn95-marker">a</a></sup></td>
<td> </td>
</tr>
<tr>
<td><span class="code">isdigit</span></td>
<td><span class="code"><em>s</em></span><span class="code">.isdigit()</span><br/>
			Returns <span class="code"><strong>True</strong></span> when <span class="code">len(<em>s</em>)</span> is greater than <span class="code">0</span> and all characters in <span class="code"><em>s</em></span> are Unicode digits. When <span class="code"><em>s</em></span> is empty, or when at least one character of <span class="code"><em>s</em></span> is not a Unicode digit, <span class="code">isdigit</span> returns <span class="code"><strong>False</strong></span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">isidentifier</span></td>
<td><span class="code"><em>s</em></span><span class="code">.isidentifier()</span><br/>
<span class="code"><strong>str</strong></span> <strong>only</strong>. Returns <span class="code"><strong>True</strong></span> when <span class="code"><em>s</em></span> is a valid identifier according to the Python language’s definition; keywords also satisfy the definition, so, for example, <span class="code">'class'.isidentifier()</span> returns <span class="code"><strong>True</strong></span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">islower</span></td>
<td><span class="code"><em>s</em></span><span class="code">.islower()</span><br/>
			Returns <span class="code"><strong>True</strong></span> when all letters in <span class="code"><em>s</em></span> are lowercase. When <span class="code"><em>s</em></span> contains no letters, or when at least one letter of <span class="code"><em>s</em></span> is uppercase, <span class="code">islower</span> returns <span class="code"><strong>False</strong></span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">isnumeric</span></td>
<td><span class="code"><em>s</em></span><span class="code">.isnumeric()</span><br/>
<span class="code"><strong>str</strong></span> <strong>only</strong>. Similar to <span class="code"><em>s</em></span><span class="code">.isdigit()</span>, but uses a broader definition of numeric characters that includes all characters defined as numeric in the Unicode standard (such as fractions).</td>
<td> </td>
</tr>
<tr>
<td><span class="code">isprintable</span></td>
<td><span class="code"><em>s</em></span><span class="code">.isprintable()</span><br/>
<span class="code"><strong>str</strong></span> <strong>only</strong>. Returns <span class="code"><strong>True</strong></span> when all characters in <span class="code"><em>s</em></span> are spaces (<span class="code">'\x20'</span>) or are defined in the Unicode standard as printable. Because the null string contains no unprintable characters, <span class="code">''.isprintable()</span> returns <span class="code"><strong>True</strong></span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">isspace</span></td>
<td><span class="code"><em>s</em></span><span class="code">.isspace()</span><br/>
			Returns <span class="code"><strong>True</strong></span> when <span class="code">len(<em>s</em>)</span> is greater than <span class="code">0</span> and all characters in <span class="code"><em>s</em></span> are whitespace. When <span class="code"><em>s</em></span> is empty, or when at least one character of <span class="code"><em>s</em></span> is not whitespace, <span class="code">isspace</span> returns <span class="code"><strong>False</strong></span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">istitle</span></td>
<td><span class="code"><em>s</em></span><span class="code">.istitle()</span><br/>
			Returns <span class="code"><strong>True</strong></span> when the string <span class="code"><em>s</em></span> is <em>titlecased</em>: i.e., with a capital letter at the start of every contiguous sequence of letters, and all other letters lowercase (e.g., <span class="code">'King Lear'.istitle()</span> returns <span class="code"><strong>True</strong></span>). When <span class="code"><em>s</em></span> contains no letters, or when at least one letter of <span class="code"><em>s</em></span> violates the title case condition, <span class="code">istitle</span> returns <span class="code"><strong>False</strong></span> (e.g., <span class="code">'1900'.istitle()</span> and <span class="code">'Troilus and Cressida'.istitle()</span> return <span class="code"><strong>False</strong></span>).</td>
<td> </td>
</tr>
<tr>
<td><span class="code">isupper</span></td>
<td><span class="code"><em>s</em></span><span class="code">.isupper()</span><br/>
			Returns <span class="code"><strong>True</strong></span> when all letters in <span class="code"><em>s</em></span> are uppercase. When <span class="code"><em>s</em></span> contains no letters, or when at least one letter of <span class="code"><em>s</em></span> is lowercase, <span class="code">isupper</span> returns <span class="code"><strong>False</strong></span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">join</span></td>
<td><span class="code"><em>s</em></span><span class="code">.join(<em>seq</em>, /)</span><br/>
			Returns<a contenteditable="false" data-primary="join (string method)" data-type="indexterm" id="idm44924525274384"/> the string obtained by concatenating the items of <span class="code"><em>seq</em></span> separated by copies of <span class="code"><em>s</em></span> (e.g., <span class="code">''.join(str(x)</span> <span class="code"><strong>for</strong></span> <span class="code">x</span> <span class="code"><strong>in</strong></span> <span class="code">range(7))</span> returns <span class="code">'0123456'</span> and <span class="code">'x'.join('aeiou')</span> returns <span class="code">'axexixoxu'</span>).</td>
<td> </td>
</tr>
<tr>
<td><span class="code">ljust</span></td>
<td><span class="code"><em>s</em></span><span class="code">.ljust(<em>n</em>,</span> <span class="code"><em>fillchar</em></span><span class="code">=' ', /)</span><br/>
			Returns<a contenteditable="false" data-primary="ljust (string method)" data-type="indexterm" id="idm44924525260048"/> a string of length <span class="code">max(len(<em>s</em>),<em>n</em>)</span>, with a copy of <span class="code"><em>s</em></span> at the start, followed by zero or more trailing copies of character <span class="code"><em>fillchar</em></span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">lower</span></td>
<td><span class="code"><em>s</em></span><span class="code">.lower()</span><br/>
			Returns<a contenteditable="false" data-primary="lower (string method)" data-type="indexterm" id="idm44924525251888"/> a copy of <span class="code"><em>s</em></span> with all letters, if any, converted to lowercase.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">lstrip</span></td>
<td><span class="code"><em>s</em></span><span class="code">.lstrip(<em>x</em>=string.whitespace, /)</span><br/>
			Returns<a contenteditable="false" data-primary="lstrip (string method)" data-type="indexterm" id="idm44924525245504"/> a copy of <span class="code"><em>s</em></span> after removing any leading characters found in string <span class="code"><em>x</em></span>. For example, <span class="code">'banana'.lstrip('ab')</span> returns <span class="code">'nana'</span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">removeprefix</span></td>
<td><span class="code"><em>s</em></span><span class="code">.removeprefix(<em>prefix</em>, /)</span><br/>
<span class="version">3.9+</span> When<a contenteditable="false" data-primary="removeprefix (string method)" data-type="indexterm" id="idm44924525236304"/> <span class="code"><em>s</em></span> begins with <span class="code"><em>prefix</em></span>, returns the remainder of <span class="code"><em>s</em></span>; otherwise, returns <span class="code"><em>s</em></span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">removesuffix</span></td>
<td><span class="code"><em>s</em></span><span class="code">.removesuffix(<em>suffix</em>, /)</span><br/>
<span class="version">3.9+</span> When<a contenteditable="false" data-primary="removessuffic method (string method)" data-type="indexterm" id="idm44924525226880"/> <span class="code"><em>s</em></span> ends with <span class="code"><em>suffix</em></span>, returns the rest of <span class="code"><em>s</em></span>; otherwise, returns <span class="code"><em>s</em></span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">replace</span></td>
<td><span class="code"><em>s</em></span><span class="code">.replace(<em>old</em>,</span> <span class="code"><em>new</em></span><span class="code">,</span> <span class="code"><em>count</em></span><span class="code">=sys.maxsize, /)</span><br/>
			Returns<a contenteditable="false" data-primary="replace method (string method)" data-type="indexterm" id="idm44924525215184"/><a contenteditable="false" data-primary="count method" data-secondary="str and bytes types" data-type="indexterm" id="idm44924525214112"/> a copy of <span class="code"><em>s</em></span> with the first <span class="code"><em>count</em></span> (or fewer, if there are fewer) nonoverlapping occurrences of substring <span class="code"><em>old</em></span> replaced by string <span class="code"><em>new</em></span> (e.g., <span class="code">'banana'.replace('a', 'e', 2)</span> returns <span class="code">'benena'</span>).</td>
<td> </td>
</tr>
<tr>
<td><span class="code">rfind</span></td>
<td><span class="code"><em>s</em></span><span class="code">.rfind(<em>sub</em>,</span> <span class="code"><em>start</em></span><span class="code">=0,</span> <span class="code"><em>end</em></span><span class="code">=sys.maxsize, /)</span><br/>
			Returns the highest index in <span class="code"><em>s</em></span> where substring <span class="code"><em>sub</em></span> is found, such that <span class="code"><em>sub</em></span> is entirely contained in <span class="code"><em>s</em></span><span class="code">[<em>start</em>:<em>end</em>]</span>. <span class="code">rfind</span> returns <span class="code">-1</span> if <span class="code"><em>sub</em></span> is not found.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">rindex</span></td>
<td><span class="code"><em>s</em></span><span class="code">.rindex(<em>sub</em>,</span> <span class="code"><em>start</em></span><span class="code">=0,</span> <span class="code"><em>end</em></span><span class="code">=sys.maxsize, /)</span><br/>
			Like <span class="code">rfind</span>, but raises <span class="code">ValueError</span> if <span class="code"><em>sub</em></span> is not found.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">rjust</span></td>
<td><span class="code"><em>s</em></span><span class="code">.rjust(<em>n</em>,</span> <span class="code"><em>fillchar</em></span><span class="code">=' ', /)</span><br/>
			Returns<a contenteditable="false" data-primary="rjust method (string method)" data-type="indexterm" id="idm44924525179440"/> a string of length <span class="code">max(len(<em>s</em>),<em>n</em>)</span>, with a copy of <span class="code"><em>s</em></span> at the end, preceded by zero or more leading copies of character <span class="code"><em>fillchar</em></span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">rstrip</span></td>
<td><span class="code"><em>s</em></span><span class="code">.rstrip(<em>x</em>=string.whitespace, /)</span><br/>
			Returns<a contenteditable="false" data-primary="rstrip method (string method)" data-type="indexterm" id="idm44924525170736"/> a copy of <span class="code"><em>s</em></span>, removing trailing characters that are found in string <span class="code"><em>x</em></span>. For example, <span class="code">'banana'.rstrip('ab')</span> returns <span class="code">'banan'</span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">split</span></td>
<td><span class="code"><em>s</em></span><span class="code">.split(sep=None</span>, <span class="code">maxsplit=sys.maxsize)</span><br/>
			Returns<a contenteditable="false" data-primary="split (string method)" data-type="indexterm" id="idm44924525161536"/> a list <span class="code"><em>L</em></span> of up to <span class="code">maxsplit+1</span> strings. Each item of <span class="code"><em>L</em></span> is a “word” from <span class="code"><em>s</em></span>, where string <span class="code">sep</span> separates words. When <span class="code"><em>s</em></span> has more than <span class="code">maxsplit</span> words, the last item of <span class="code"><em>L</em></span> is the substring of <span class="code"><em>s</em></span> that follows the first <span class="code">maxsplit</span> words. When <span class="code">sep</span> is <span class="code"><strong>None</strong></span>, any string of whitespace separates words (e.g., <span class="code">'four score and seven years'.split(<strong>None</strong>, 3)</span> returns <span class="code">['four', 'score', 'and', 'seven years']</span>).<br/>
			Note the difference between splitting on <span class="code"><strong>None</strong></span> (any run of whitespace characters is a separator) and splitting on <span class="code">' '</span> (where each single space character, <em>not</em> other whitespace such as tabs and newlines, and <em>not</em> strings of spaces, is a separator). For example:
			<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="n">x</code><code> </code><code class="o">=</code><code> </code><code class="s1">'</code><code class="s1">a  bB</code><code class="s1">'</code><code>  </code><em><code class="c1"># two spaces between a and bB</code></em><code>
</code><code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="n">x</code><code class="o">.</code><code class="n">split</code><code class="p">(</code><code class="p">)</code><code>    </code><em><code class="c1"># or x.split(</code></em><em><code class="c1">None</code></em><em><code class="c1">)</code></em></pre>
<pre data-type="programlisting">
<strong>['a', 'bB']</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="n">x</code><code class="o">.</code><code class="n">split</code><code class="p">(</code><code class="s1">' '</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>['a', '', 'bB']</strong></pre>
			In the first case, the two-spaces string in the middle is a single separator; in the second case, each single space is a separator, so that there is an empty string between the two spaces.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">splitlines</span></td>
<td><span class="code"><em>s</em></span><span class="code">.splitlines(keepends=<strong>False</strong>)</span><br/>
			Like<a contenteditable="false" data-primary="splitlines (string method)" data-type="indexterm" id="idm44924525082432"/> <span class="code"><em>s</em></span><span class="code">.split('\n')</span>. When <span class="code">keepends</span> is <span class="code"><strong>True</strong></span>, however, the trailing <span class="code">'\n'</span> is included in each item of the resulting list (except the last one, if <span class="code"><em>s</em></span> does not end with <span class="code">'\n'</span>).</td>
<td> </td>
</tr>
<tr>
<td><span class="code">startswith</span></td>
<td><span class="code"><em>s</em></span><span class="code">.startswith(<em>prefix</em>,</span> <span class="code"><em>start</em></span><span class="code">=0,</span> <span class="code"><em>end</em></span><span class="code">=sys.maxsize, /)</span><br/>
			Returns<a contenteditable="false" data-primary="startswith (string method)" data-type="indexterm" id="idm44924525053696"/> <span class="code"><strong>True</strong></span> when <span class="code"><em>s</em></span><span class="code">[<em>start</em>:<em>end</em>]</span> starts with string <span class="code"><em>prefix</em></span>; otherwise, returns <span class="code"><strong>False</strong></span>. <span class="code"><em>prefix</em></span> can be a tuple of strings, in which case <span class="code">startswith</span> returns <span class="code"><strong>True</strong></span> when <span class="code"><em>s</em></span><span class="code">[<em>start</em>:<em>end</em>]</span> starts with any one of them.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">strip</span></td>
<td><span class="code"><em>s</em></span><span class="code">.strip(<em>x</em>=string.whitespace, /)</span><br/>
			Returns<a contenteditable="false" data-primary="strip (string method)" data-type="indexterm" id="idm44924525039040"/> a copy of <span class="code"><em>s</em></span>, removing both leading and trailing characters that are found in string <span class="code"><em>x</em></span>. For example, <span class="code">'banana'.strip('ab')</span> returns <span class="code">'nan'</span>.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">swapcase</span></td>
<td><span class="code"><em>s</em></span><span class="code">.swapcase()</span><br/>
			Returns<a contenteditable="false" data-primary="swapcase (string method)" data-type="indexterm" id="idm44924525031232"/> a copy of <span class="code"><em>s</em></span> with all uppercase letters converted to lowercase and vice versa.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">title</span></td>
<td><span class="code"><em>s</em></span><span class="code">.title()</span><br/>
			Returns<a contenteditable="false" data-primary="title (string method)" data-type="indexterm" id="idm44924525025616"/> a copy of <span class="code"><em>s</em></span> transformed to title case: a capital letter at the start of each contiguous sequence of letters, with all other letters (if any) lowercase.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">translate</span></td>
<td><span class="code"><em>s</em></span><span class="code">.translate(<em>table</em>, /, delete<em>=</em>b'')</span><br/>
			Returns<a contenteditable="false" data-primary="translate (string method)" data-type="indexterm" id="idm44924525018256"/> a copy of <span class="code"><em>s</em></span>, where characters found in <span class="code"><em>table</em></span> are translated or deleted. When <span class="code"><em>s</em></span> is a <span class="code">str</span>, you cannot pass the argument <span class="code">delete</span>; <span class="code"><em>table</em></span> is a <span class="code">dict</span> whose keys are Unicode ordinals and whose values are Unicode ordinals, Unicode strings, or <span class="code"><strong>None</strong></span> (to delete the corresponding character). For example:
			<pre data-code-language="python" data-type="programlisting">
<code class="n">tbl</code><code> </code><code class="o">=</code><code> </code><code class="p">{</code><code class="nb">ord</code><code class="p">(</code><code class="s1">'</code><code class="s1">a</code><code class="s1">'</code><code class="p">)</code><code class="p">:</code><strong><code class="kc">None</code></strong><code class="p">,</code><code> </code><code class="nb">ord</code><code class="p">(</code><code class="s1">'</code><code class="s1">n</code><code class="s1">'</code><code class="p">)</code><code class="p">:</code><code class="s1">'</code><code class="s1">ze</code><code class="s1">'</code><code class="p">}</code><code>
</code><code class="nb">print</code><code class="p">(</code><code class="s1">'</code><code class="s1">banana</code><code class="s1">'</code><code class="o">.</code><code class="n">translate</code><code class="p">(</code><code class="n">tbl</code><code class="p">)</code><code class="p">)</code><code>  </code><em><code class="c1"># prints:</code></em><code class="c1"> </code><em><code class="c1">'bzeze'</code></em></pre>
			When <span class="code"><em>s</em></span> is a <span class="code">bytes</span>, <span class="code"><em>table</em></span> is a <span class="code">bytes</span> object of length 256; the result of <span class="code"><em>s</em></span><span class="code">.translate(<em>t</em>,</span> <span class="code"><em>b</em></span><span class="code">)</span> is a <span class="code">bytes</span> object with each item <span class="code"><em>b</em></span> of <span class="code"><em>s</em></span> omitted if <span class="code"><em>b</em></span> is one of the items of <span class="code">delete</span>, and otherwise changed to <span class="code"><em>t</em></span><span class="code">[ord(<em>b</em>)]</span>.<br/>
<span class="code">bytes</span> and <span class="code">str</span> each have a class method named <span class="code">maketrans</span> which you can use to build tables suitable for the respective <span class="code">translate</span> methods.</td>
<td> </td>
</tr>
<tr>
<td><span class="code">upper</span></td>
<td><span class="code"><em>s</em></span><span class="code">.upper()</span><br/>
			Returns<a contenteditable="false" data-primary="upper (string method)" data-type="indexterm" id="idm44924524930560"/> a copy of <span class="code"><em>s</em></span> with all letters, if any, converted to uppercase.<a contenteditable="false" data-primary="" data-startref="Smethod11" data-type="indexterm" id="idm44924524928448"/></td>
<td> </td>
</tr>
</tbody>
<tbody><tr class="footnotes"><td colspan="3"><p data-type="footnote" id="ch01fn95"><sup><a href="ch09.xhtml#ch01fn95-marker">a</a></sup> This does <em>not</em> include punctuation marks used as a radix, such as a dot (<span class="code">.</span>) or comma (<span class="code">,</span>).</p></td></tr></tbody></table>
</div></section>
<section data-pdf-bookmark="The string Module" data-type="sect1"><div class="sect1" id="the_string_module">
<h1>The string Module</h1>
<p>The<a contenteditable="false" data-primary="strings" data-secondary="string module" data-type="indexterm" id="idm44924524925664"/><a contenteditable="false" data-primary="string module" data-type="indexterm" id="idm44924524924256"/><a contenteditable="false" data-primary="standard library modules" data-secondary="string" data-type="indexterm" id="idm44924524923152"/> <span class="code">string</span> module supplies several useful string attributes, listed in <a data-type="xref" href="#predefined_constants_in_the_string_modu">Table 9-2</a>.</p>
<table class="border" id="predefined_constants_in_the_string_modu">
<caption><span class="label">Table 9-2. </span>Predefined constants in the <span class="code">string</span> module</caption>
<tbody>
<tr>
<td><span class="code">ascii_letters</span></td>
<td>The string <span class="code">ascii_lowercase+ascii_uppercase</span> (the following two constants, concatenated)</td>
</tr>
<tr>
<td><span class="code">ascii_lowercase</span></td>
<td>The string <span class="code">'abcdefghijklmnopqrstuvwxyz'</span></td>
</tr>
<tr>
<td><span class="code">ascii_uppercase</span></td>
<td>The string <span class="code">'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span></td>
</tr>
<tr>
<td><span class="code">digits</span></td>
<td>The string <span class="code">'0123456789'</span></td>
</tr>
<tr>
<td><span class="code">hexdigits</span></td>
<td>The string <span class="code">'0123456789abcdefABCDEF'</span></td>
</tr>
<tr>
<td><span class="code">octdigits</span></td>
<td>The string <span class="code">'01234567'</span></td>
</tr>
<tr>
<td><span class="code">punctuation</span></td>
<td>The string <span class="code">'!"#$%&amp;\'()*+,-./:;&lt;=&gt;?@[\]^_'{|}~'</span> (i.e., all ASCII characters that are deemed punctuation characters in the C locale; does not depend on which locale is active)</td>
</tr>
<tr>
<td><span class="code">printable</span></td>
<td>The string of those ASCII characters that are deemed printable (i.e., digits, letters, punctuation, and whitespace)</td>
</tr>
<tr>
<td><span class="code">whitespace</span></td>
<td>A string containing all ASCII characters that are deemed whitespace: at least space, tab, linefeed, and carriage return, but more characters (e.g., certain control characters) may be present, depending on the active locale</td>
</tr>
</tbody>
</table>
<p>You should not rebind these attributes; the effects of doing so are undefined, since other parts of the Python library may rely on them.</p>
<p>The module <span class="code">string</span> also supplies the class <span class="code">Formatter</span>, covered in the following section.</p>
</div></section>
<section data-pdf-bookmark="String Formatting" data-type="sect1"><div class="sect1" id="string_formatting">
<h1>String Formatting</h1>
<p>Python<a contenteditable="false" data-primary="strings" data-secondary="string formatting" data-type="indexterm" id="Sformat09"/> provides a flexible mechanism for formatting strings (but <em>not</em> bytestrings: for those, see <a data-type="xref" href="#legacy_string_formatting_with_percent">“Legacy String Formatting with %”</a>). A <em>format string</em> is simply a string containing <em>replacement fields</em> enclosed in braces (<span class="code">{}</span>), made up of a <em>value part</em>, an optional <em>conversion part</em>, and an optional <em>format specifier</em>:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="p">{</code><em><code class="n">value</code><code class="o">-</code><code class="n">part</code></em><code class="p">[</code><code class="err">!</code><em><code class="n">conversion</code><code class="o">-</code><code class="n">part</code></em><code class="p">]</code><code class="p">[</code><code class="p">:</code><em><code class="nb">format</code><code class="o">-</code><code class="n">specifier</code></em><code class="p">]</code><code class="p">}</code></pre>
<p>The value part differs depending on the string type:</p>
<ul>
<li>
<p>For formatted string literals, or <em>f-strings</em>, the value part is evaluated as a Python expression (see the following section for details); expressions cannot end in an exclamation mark.</p>
</li>
<li>
<p>For other strings, the value part selects an argument, or an element of an argument, to the <span class="code">format</span> method.</p>
</li>
</ul>
<p>The optional conversion part is an exclamation mark (<span class="code">!</span>) followed by one of the letters <span class="code">s</span>, <span class="code">r</span>, or <span class="code">a</span> (described in <a data-type="xref" href="#value_conversion">“Value Conversion”</a>).</p>
<p>The optional format specifier begins with a colon (<span class="code">:</span>) and determines how the converted value is rendered for interpolation in the format string in place of the original replacement field.</p>
<section data-pdf-bookmark="Formatted String Literals (F-Strings)" data-type="sect2"><div class="sect2" id="formatted_string_literals_left_parenthe">
<h2>Formatted String Literals (F-Strings)</h2>
<p>This<a contenteditable="false" data-primary="formatted string literals (f-strings)" data-type="indexterm" id="idm44924524836736"/><a contenteditable="false" data-primary="f-strings (formatted string literals)" data-type="indexterm" id="idm44924524835568"/> feature allows you to insert values to be interpolated inline surrounded by braces. To create a formatted string literal, put an <span class="code">f</span> before the opening quote mark (this is why they’re called <em>f-strings</em>) of your string, e.g., <span class="code">f</span><span class="code">'{value}'</span>:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="n">name</code> <code class="o">=</code> <code class="s1">'Dawn'</code>
<code class="o">&gt;&gt;&gt;</code> <code class="nb">print</code><code class="p">(</code><code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">name</code><code class="si">!r}</code><code class="s1"> is </code><code class="si">{</code><code class="nb">len</code><code class="p">(</code><code class="n">name</code><code class="p">)</code><code class="si">}</code><code class="s1"> characters long'</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'Dawn' is 4 characters long</strong></pre>
<p>You can use nested braces to specify components of formatting expressions:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><strong><code class="k">for</code></strong><code> </code><code class="n">width</code><code> </code><strong><code class="ow">in</code></strong><code> </code><code class="mi">8</code><code class="p">,</code><code> </code><code class="mi">11</code><code class="p">:</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>     </code><strong><code class="k">for</code></strong><code> </code><code class="n">precision</code><code> </code><strong><code class="ow">in</code></strong><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="mi">5</code><code class="p">:</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>         </code><code class="nb">print</code><code class="p">(</code><code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="mf">2.7182818284</code><code class="si">:</code><code class="si">{</code><code class="n">width</code><code class="si">}</code><code class="s1">.</code><code class="si">{</code><code class="n">precision</code><code class="si">}</code><code class="si">}</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code></pre>
<pre data-type="programlisting">
<strong>     2.7</strong>
<strong>    2.72</strong>
<strong>   2.718</strong>
<strong>  2.7183</strong>
<strong>        2.7</strong>
<strong>       2.72</strong>
<strong>      2.718</strong>
<strong>     2.7183</strong></pre>
<p>We have tried to update most of the examples in the book to use f-strings, since they are the most compact way to format strings in Python. Do remember, though, that these string literals are <em>not</em> constants—they evaluate each time a statement containing them is executed, which involves runtime overhead.</p>
<p>The values to be formatted inside formatted string literals are already inside quotes: therefore, take care to avoid syntax errors when using value-part expressions that themselves contain string quotes. With four different string quotes, plus the ability to use escape sequences, most things are possible, though admittedly readability can suffer.</p>
<div data-type="tip">
<h1>F-Strings Don’t Help Internationalization</h1>
<p>Given<a contenteditable="false" data-primary="format (str method)" data-type="indexterm" id="idm44924524731152"/><a contenteditable="false" data-primary="file and text operations" data-secondary="internationalization" data-type="indexterm" id="idm44924524730016"/><a contenteditable="false" data-primary="internationalization (i18n)" data-type="indexterm" id="idm44924524728672"/><a contenteditable="false" data-primary="i18n (internationalization)" data-type="indexterm" id="idm44924524695264"/> a format whose contents will have to accommodate multiple languages, it’s much better to use the <span class="code">format</span> method, since the values to be interpolated can then be computed independently before submitting them for formatting.</p>
</div>
<section data-pdf-bookmark="Debug printing with f-strings" data-type="sect3"><div class="sect3" id="debug_printing_with_f_strings">
<h3>Debug printing with f-strings</h3>
<p><span class="version">3.8+</span> As<a contenteditable="false" data-primary="debugging" data-secondary="using f-strings" data-type="indexterm" id="idm44924524690512"/> a convenience for debugging, the last nonblank character of the value expression in a formatted string literal can be followed by an equals sign (<span class="code">=</span>), optionally surrounded by spaces. In this case the text of the expression itself and the equals sign, including any leading and trailing spaces, are output before the value. In the presence of the equals sign, when no format is specified, Python uses the <span class="code">repr()</span> of the value as output; otherwise, Python uses the <span class="code">str()</span> of the value unless an <span class="code">!r</span> value conversion is specified:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="n">a</code> <code class="o">=</code> <code class="s1">'*-'</code>
<code class="o">&gt;&gt;&gt;</code> <code class="n">s</code> <code class="o">=</code> <code class="mi">12</code>
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">a</code><code class="o">*</code><code class="n">s</code><code class="si">=}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>"a*s='*-*-*-*-*-*-*-*-*-*-*-*-'"</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">a</code><code class="o">*</code><code class="n">s</code> <code class="si">= :</code><code class="s1">30</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'a*s = *-*-*-*-*-*-*-*-*-*-*-*-      '</strong></pre>
<p>Note that this form is <em>only</em> available in formatted string literals.</p>
<p>Here’s a simple f-string example. Notice that all text, including any whitespace, surrounding the replacement fields is copied literally into the result:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="n">n</code> <code class="o">=</code> <code class="mi">10</code>
<code class="o">&gt;&gt;&gt;</code> <code class="n">s</code> <code class="o">=</code> <code class="p">(</code><code class="s1">'zero'</code><code class="p">,</code> <code class="s1">'one'</code><code class="p">,</code> <code class="s1">'two'</code><code class="p">,</code> <code class="s1">'three'</code><code class="p">)</code>
<code class="o">&gt;&gt;&gt;</code> <code class="n">i</code> <code class="o">=</code> <code class="mi">2</code>
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s1">'start </code><code class="si">{</code><code class="s2">"-"</code><code class="o">*</code><code class="n">n</code><code class="si">}</code><code class="s1"> : </code><code class="si">{</code><code class="n">s</code><code class="p">[</code><code class="n">i</code><code class="p">]</code><code class="si">}</code><code class="s1"> end'</code></pre>
<pre data-type="programlisting">
<strong>'start ---------- : two end'</strong></pre>
</div></section>
</div></section>
<section data-pdf-bookmark="Formatting Using format Calls" data-type="sect2"><div class="sect2" id="formatting_using_format_calls">
<h2>Formatting Using format Calls</h2>
<p>The<a contenteditable="false" data-primary="format calls" data-type="indexterm" id="idm44924524553536"/> same formatting operations available in formatted string literals can also be performed by a call to the string’s <span class="code">format</span> method. In these cases, rather than the value appearing inline, the replacement field begins with a value part that selects an argument of that call. You can specify both positional and named arguments. Here’s an example of a simple <span class="code">format</span> method call:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="n">name</code> <code class="o">=</code> <code class="s1">'Dawn'</code>
<code class="o">&gt;&gt;&gt;</code> <code class="nb">print</code><code class="p">(</code><code class="s1">'</code><code class="si">{name}</code><code class="s1"> is </code><code class="si">{n}</code><code class="s1"> characters long'</code>
<code class="o">...</code> <code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">name</code><code class="o">=</code><code class="n">name</code><code class="p">,</code> <code class="n">n</code><code class="o">=</code><code class="nb">len</code><code class="p">(</code><code class="n">name</code><code class="p">)))</code></pre>
<pre data-type="programlisting">
<strong>'Dawn' is 4 characters long</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="s2">"This is a </code><code class="si">{1}</code><code class="s2">, </code><code class="si">{0}</code><code class="s2">, type of </code><code class="si">{type}</code><code class="s2">"</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="s2">"green"</code><code class="p">,</code> <code class="s2">"large"</code><code class="p">,</code> 
<code class="o">...</code>                                             <code class="nb">type</code><code class="o">=</code><code class="s2">"vase"</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'This is a large, green, type of vase'</strong></pre>
<p>For simplicity, none of the replacement fields in this example contain a conversion part or a format specifier.</p>
<p>As mentioned previously, the argument selection mechanism when using the <span class="code">format</span> method can handle both positional and named arguments. The simplest replacement field is the empty pair of braces (<span class="code">{}</span>), representing an <em>automatic</em> positional argument specifier. Each such replacement field automatically refers to the value of the next positional argument to <span class="code">format</span>:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="s1">'First: </code><code class="si">{}</code><code class="s1"> second: </code><code class="si">{}</code><code class="s1">'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code> <code class="s1">'two'</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'First: 1 second: two'</strong></pre>
<p>To repeatedly select an argument, or use it out of order, use numbered replacement fields to specify the argument’s position in the list of arguments (counting from zero):</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="s1">'Second: </code><code class="si">{1}</code><code class="s1">, first: </code><code class="si">{0}</code><code class="s1">'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="mi">42</code><code class="p">,</code> <code class="s1">'two'</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'Second: two, first: 42'</strong></pre>
<p>You cannot mix automatic and numbered replacement fields: it’s an either-or choice.</p>
<p>For named arguments, use argument names. If desired, you can mix them with (automatic or numbered) positional arguments:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="s1">'a: </code><code class="si">{a}</code><code class="s1">, 1st: </code><code class="si">{}</code><code class="s1">, 2nd: </code><code class="si">{}</code><code class="s1">, a again: </code><code class="si">{a}</code><code class="s1">'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code> <code class="s1">'two'</code><code class="p">,</code> <code class="n">a</code><code class="o">=</code><code class="mi">3</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'a: 3, 1st: 1, 2nd: two, a again: 3'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="s1">'a: </code><code class="si">{a}</code><code class="s1"> first:</code><code class="si">{0}</code><code class="s1"> second: </code><code class="si">{1}</code><code class="s1"> first: </code><code class="si">{0}</code><code class="s1">'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code> <code class="s1">'two'</code><code class="p">,</code> <code class="n">a</code><code class="o">=</code><code class="mi">3</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'a: 3 first:1 second: two first: 1'</strong></pre>
<p>If an argument is a sequence, you can use numeric indices to select a specific element of the argument as the value to be formatted. This applies to both positional (automatic or numbered) and named arguments:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="s1">'p0[1]: {[1]} p1[0]: {[0]}'</code><code class="o">.</code><code class="n">format</code><code class="p">((</code><code class="s1">'zero'</code><code class="p">,</code> <code class="s1">'one'</code><code class="p">),</code>
<code class="o">...</code>                                    <code class="p">(</code><code class="s1">'two'</code><code class="p">,</code> <code class="s1">'three'</code><code class="p">))</code></pre>
<pre data-type="programlisting">
<strong>'p0[1]: one p1[0]: two'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="s1">'p1[0]: </code><code class="si">{1[0]}</code><code class="s1"> p0[1]: </code><code class="si">{0[1]}</code><code class="s1">'</code><code class="o">.</code><code class="n">format</code><code class="p">((</code><code class="s1">'zero'</code><code class="p">,</code> <code class="s1">'one'</code><code class="p">),</code>
<code class="o">...</code>                                      <code class="p">(</code><code class="s1">'two'</code><code class="p">,</code> <code class="s1">'three'</code><code class="p">))</code></pre>
<pre data-type="programlisting">
<strong>'p1[0]: two p0[1]: one'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="s1">'</code><code class="si">{}</code><code class="s1"> </code><code class="si">{}</code><code class="s1"> </code><code class="si">{a[2]}</code><code class="s1">'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="n">a</code><code class="o">=</code><code class="p">(</code><code class="mi">5</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">3</code><code class="p">))</code></pre>
<pre data-type="programlisting">
<strong>'1 2 3'</strong></pre>
<p>If an argument is a composite object, you can select its individual attributes as values to be formatted by applying attribute-access dot notation to the argument selector. Here is an example using complex numbers, which have <span class="code">real</span> and <span class="code">imag</span> attributes that hold the real and imaginary parts, respectively:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="s1">'First r: {.real} Second i: </code><code class="si">{a.imag}</code><code class="s1">'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="mi">1</code><code class="o">+</code><code class="mi">2</code><code class="n">j</code><code class="p">,</code> <code class="n">a</code><code class="o">=</code><code class="mi">3</code><code class="o">+</code><code class="mi">4</code><code class="n">j</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'First r: 1.0 Second i: 4.0'</strong></pre>
<p>Indexing and attribute-selection operations can be used multiple times, if required.</p>
</div></section>
<section data-pdf-bookmark="Value Conversion" data-type="sect2"><div class="sect2" id="value_conversion">
<h2>Value Conversion</h2>
<p>You<a contenteditable="false" data-primary="value conversion" data-type="indexterm" id="idm44924524155184"/> may apply a default conversion to the value via one of its methods. You indicate this by following any selector with<a contenteditable="false" data-primary="!s format marker" data-type="indexterm" id="idm44924524110464"/><a contenteditable="false" data-primary="!r format marker" data-type="indexterm" id="idm44924524109328"/><a contenteditable="false" data-primary="!a format marker" data-type="indexterm" id="idm44924524108224"/> <span class="code">!s</span> to apply the object’s <span class="code">__str__</span> method, <span class="code">!r</span> for its <span class="code">__repr__</span> method, or <span class="code">!a</span> for the <span class="code">ascii</span> built-in:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="s2">"String: </code><code class="si">{0!s}</code><code class="s2"> Repr: </code><code class="si">{0!r}</code><code class="s2"> ASCII: </code><code class="si">{0!a}</code><code class="s2">"</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="s2">"banana 😀"</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>"String: banana 😀 Repr: 'banana 😀' ASCII: 'banana\\U0001f600'"</strong></pre>
<p>When a conversion is present, the conversion is applied to the value before it is formatted. Since the same value is required multiple times, in this example a <span class="code">format</span> call makes much more sense than a formatted string literal, which would require the value to be repeated three times.</p>
</div></section>
<section data-pdf-bookmark="Value Formatting: The Format Specifier" data-type="sect2"><div class="sect2" id="value_formatting_the_format_specifier">
<h2>Value Formatting: The Format Specifier</h2>
<p>The<a contenteditable="false" data-primary="value formatting" data-type="indexterm" id="idm44924524062576"/><a contenteditable="false" data-primary="format specifier" data-secondary="f-strings" data-type="indexterm" id="fspec09"/> final (optional) portion of the replacement field, known as the <em>format specifier</em> and introduced by a colon (<span class="code">:</span>), provides any further required formatting of the (possibly converted) value. The absence of a colon in the replacement field means that the converted value (after representation as a string if not already in string form) is used with no further formatting. If present, a format specifier should be provided conforming to the syntax:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="p">[</code><code class="p">[</code><em><code class="n">fill</code></em><code class="p">]</code><em><code class="n">align</code></em><code class="p">]</code><code class="p">[</code><em><code class="n">sign</code></em><code class="p">]</code><code class="p">[</code><code class="n">z</code><code class="p">]</code><code class="p">[</code><code class="c1">#][0][</code><em><code class="c1">width</code></em><code class="c1">][</code><em><code class="c1">grouping_option</code></em><code class="c1">][.</code><em><code class="c1">precision</code></em><code class="c1">][</code><em><code class="c1">type</code></em><code class="c1">]</code></pre>
<p>Details are provided in the following subsections.</p>
<section data-pdf-bookmark="Fill and alignment" data-type="sect3"><div class="sect3" id="fill_and_alignment">
<h3>Fill and alignment</h3>
<p>The<a contenteditable="false" data-primary="fill character (f-strings)" data-type="indexterm" id="idm44924524018384"/> default fill character is the<a contenteditable="false" data-primary="whitespace" data-type="indexterm" id="idm44924524017280"/> space. To use an alternative fill character (which cannot be an opening or closing brace), begin the format specifier with the fill character. The fill character, if any, should be followed by an<a contenteditable="false" data-primary="alignment indicators" data-type="indexterm" id="idm44924524016112"/> <em>alignment indicator</em> (see <a data-type="xref" href="#alignment_indicators">Table 9-3</a>).</p>
<table class="border" id="alignment_indicators">
<caption><span class="label">Table 9-3. </span>Alignment indicators</caption>
<thead>
<tr>
<th>Character</th>
<th>Significance as alignment indicator</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="code">'&lt;'</span></td>
<td>Align<a contenteditable="false" data-primary="'&lt;' (align left)" data-type="indexterm" id="idm44924523984416"/><a contenteditable="false" data-primary="align left ('&lt;')" data-type="indexterm" id="idm44924523983312"/><a contenteditable="false" data-primary="&lt; (less than symbol)" data-secondary="alignment indicator (f-strings)" data-type="indexterm" id="idm44924523982208"/><a contenteditable="false" data-primary="less than symbol (&lt;)" data-secondary="alignment indicator (f-strings)" data-type="indexterm" id="idm44924523980864"/> value on left of field</td>
</tr>
<tr>
<td><span class="code">'&gt;'</span></td>
<td>Align<a contenteditable="false" data-primary="'&gt;' (align right)" data-type="indexterm" id="idm44924523977648"/><a contenteditable="false" data-primary="align right ('&gt;')" data-type="indexterm" id="idm44924523976512"/><a contenteditable="false" data-primary="&gt; (greater than symbol)" data-secondary="alignment indicator (f-strings)" data-type="indexterm" id="idm44924523975408"/> value on right of field</td>
</tr>
<tr>
<td><span class="code">'^'</span></td>
<td>Align<a contenteditable="false" data-primary="'^' (align center)" data-type="indexterm" id="idm44924523972224"/><a contenteditable="false" data-primary="align center ('^')" data-type="indexterm" id="idm44924523971088"/><a contenteditable="false" data-primary="^ (alignment indicator) (f-strings)" data-type="indexterm" id="idm44924523969984"/> value at center of field</td>
</tr>
<tr>
<td><span class="code">'='</span></td>
<td>Only<a contenteditable="false" data-primary="'=' (add fill characters)" data-type="indexterm" id="idm44924523967072"/><a contenteditable="false" data-primary="add fill characters ('=')" data-type="indexterm" id="idm44924523965968"/><a contenteditable="false" data-primary="= (equal sign)" data-secondary="alignment indicator (f-strings)" data-type="indexterm" id="idm44924523964896"/><a contenteditable="false" data-primary="equal sign (=)" data-secondary="alignment indicator (f-strings)" data-type="indexterm" id="idm44924523963552"/> for numeric types: add fill characters between the sign and the first digit of the numeric value</td>
</tr>
</tbody>
</table>
<p>If the first and second characters are <em>both</em> valid alignment indicators, then the first is used as the fill character and the second is used to set the alignment.</p>
<p>When no alignment is specified, values other than numbers are left-aligned. Unless a field width is specified later in the format specifier (see <a data-type="xref" href="#field_width">“Field width”</a>), no fill characters are added, whatever the fill and alignment may be:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="n">s</code> <code class="o">=</code> <code class="s1">'a string'</code>
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">s</code><code class="si">:</code><code class="s1">&gt;12s</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'    a string'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">s</code><code class="si">:</code><code class="s1">&gt;&gt;12s</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'&gt;&gt;&gt;&gt;a string'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">s</code><code class="si">:</code><code class="s1">&gt;&lt;12s</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'a string&gt;&gt;&gt;&gt;'</strong></pre>
</div></section>
<section data-pdf-bookmark="Sign indication" data-type="sect3"><div class="sect3" id="sign_indication">
<h3>Sign indication</h3>
<p>For<a contenteditable="false" data-primary="sign indication" data-type="indexterm" id="idm44924523883824"/><a contenteditable="false" data-primary="positive numbers" data-type="indexterm" id="idm44924523882800"/><a contenteditable="false" data-primary="negative numbers" data-type="indexterm" id="idm44924523881696"/><a contenteditable="false" data-primary="numbers" data-type="indexterm" id="idm44924523880592"/> numeric values only, you can indicate how positive and negative numbers are differentiated by including a sign indicator (see <a data-type="xref" href="#sign_indicators">Table 9-4</a>).</p>
<table class="border" id="sign_indicators">
<caption><span class="label">Table 9-4. </span>Sign indicators</caption>
<thead>
<tr>
<th>Character</th>
<th>Significance as sign indicator</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="code">'+'</span></td>
<td>Insert <span class="code">+</span> as sign for positive numbers; <span class="code">-</span> as sign for negative numbers</td>
</tr>
<tr>
<td><span class="code">'-'</span></td>
<td>Insert <span class="code">-</span> as sign for negative numbers; do not insert any sign for positive numbers (default behavior if no sign indicator is included)</td>
</tr>
<tr>
<td><span class="code">' '</span></td>
<td>Insert a space character as sign for positive numbers; <span class="code">-</span> as sign for negative numbers</td>
</tr>
</tbody>
</table>
<p>The space is the default sign indication. If a fill is specified, it will appear between the sign, if any, and the numerical value; place the sign indicator <em>after</em> the <span class="code">=</span> to avoid it being used as a fill character:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="n">n</code><code> </code><code class="o">=</code><code> </code><code class="o">-</code><code class="mi">1234</code><code>
</code><code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">n</code><code class="si">:</code><code class="s1">12</code><code class="si">}</code><code class="s1">'</code><code>    </code><em><code class="c1"># 12 spaces before the number</code></em></pre>
<pre data-type="programlisting">
<strong>'       -1234'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="o">-</code><code class="n">n</code><code class="si">:</code><code class="s1">+12</code><code class="si">}</code><code class="s1">'</code><code>  </code><em><code class="c1"># - to flip n's sign, + as sign indicator</code></em><code class="c1"> </code></pre>
<pre data-type="programlisting">
<strong>'       +1234'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">n</code><code class="si">:</code><code class="s1">+=12</code><code class="si">}</code><code class="s1">'</code><code>  </code><em><code class="c1"># + as fill character between sign and number</code></em></pre>
<pre data-type="programlisting">
<strong>'-+++++++1234'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<em><code class="c1"># + as sign indicator, spaces fill between sign and number</code></em><code>
</code><code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">n</code><code class="si">:</code><code class="s1">=+12</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'-       1234'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<em><code class="c1"># * as fill between sign and number, + as sign indicator</code></em><code>
</code><code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">n</code><code class="si">:</code><code class="s1">*=+12</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'-*******1234'</strong></pre>
</div></section>
<section data-pdf-bookmark="Zero normalization (z)" data-type="sect3"><div class="sect3" id="zero_normalization_left_parenthesiszrig">
<h3>Zero normalization (z)</h3>
<p><span class="version">3.11+</span> Some<a contenteditable="false" data-primary="zero normalization (z) (f-strings)" data-type="indexterm" id="idm44924523687888"/><a contenteditable="false" data-primary="negative zero" data-type="indexterm" id="idm44924523686784"/><a contenteditable="false" data-primary="normalization strategies" data-type="indexterm" id="idm44924523685680"/> numeric formats are capable of representing a negative zero, which is often a surprising and unwelcome result. Such negative zeros will be normalized to positive zeros when a <span class="code">z</span> character appears in this position in the format specifier:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="n">x</code> <code class="o">=</code> <code class="o">-</code><code class="mf">0.001</code>
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">x</code><code class="si">:</code><code class="s1">.1f</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'-0.0'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">x</code><code class="si">:</code><code class="s1">z.1f</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'0.0'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">x</code><code class="si">:</code><code class="s1">+z.1f</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'+0.0'</strong></pre>
</div></section>
<section data-pdf-bookmark="Radix indicator (#)" data-type="sect3"><div class="sect3" id="radix_indicator_left_parenthesishashrig">
<h3>Radix indicator (#)</h3>
<p>For<a contenteditable="false" data-primary="radix indicator (#) (f-strings)" data-type="indexterm" id="idm44924523609392"/><a contenteditable="false" data-primary="# (radix indicator) (f-strings)" data-type="indexterm" id="idm44924523607904"/> numeric <em>integer</em> formats only, you can include a radix indicator, the <span class="code">#</span> character. If present, this indicates that the digits of binary-formatted numbers should be preceded by <span class="code">'0b'</span>, those of octal-formatted numbers by <span class="code">'0o'</span>, and those of hexadecimal-formatted numbers by <span class="code">'0x'</span>. For example, <span class="code">'{23:x}'</span> is <span class="code">'17'</span>, while <span class="code">'{23:#x}'</span> is <span class="code">'0x17'</span>, clearly identifying the value as hexadecimal.</p>
</div></section>
<section data-pdf-bookmark="Leading zero indicator (0)" data-type="sect3"><div class="sect3" id="leading_zero_indicator_left_parenthesis">
<h3>Leading zero indicator (0)</h3>
<p>For<a contenteditable="false" data-primary="leading zero indicator (0) (f-strings)" data-type="indexterm" id="idm44924523552096"/><a contenteditable="false" data-primary="0 (leading zero indicator) (f-strings)" data-type="indexterm" id="idm44924523551120"/> <em>numeric types only</em>, when the field width starts with a zero, the numeric value will be padded with leading zeros rather than leading spaces:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s2">"</code><code class="si">{</code><code class="o">-</code><code class="mf">3.1314</code><code class="si">:</code><code class="s2">12.2f</code><code class="si">}</code><code class="s2">"</code></pre>
<pre data-type="programlisting">
<strong>'       -3.13'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s2">"</code><code class="si">{</code><code class="o">-</code><code class="mf">3.1314</code><code class="si">:</code><code class="s2">012.2f</code><code class="si">}</code><code class="s2">"</code></pre>
<pre data-type="programlisting">
<strong>'-00000003.13'</strong></pre>
</div></section>
<section data-pdf-bookmark="Field width" data-type="sect3"><div class="sect3" id="field_width">
<h3>Field width</h3>
<p>You<a contenteditable="false" data-primary="field width (f-strings)" data-type="indexterm" id="idm44924523495872"/> can specify the width of the field to be printed. If the width specified is less than the length of the value, the length of the value is used (but for string values, see the upcoming section <a data-type="xref" data-xrefstyle="select:nopage" href="#precision_specification">“Precision specification”</a>). If alignment is not specified, the value is left justified (except for numbers, which are right justified):</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="n">s</code> <code class="o">=</code> <code class="s1">'a string'</code>
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">s</code><code class="si">:</code><code class="s1">^12s</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'  a string  '</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">s</code><code class="si">:</code><code class="s1">.&gt;12s</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'....a string'</strong></pre>
<p>Using nested braces, when calling the <span class="code">format</span> method, the field width can be a format argument too:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="s1">'{:.&gt;</code><code class="si">{}</code><code class="s1">s}'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">s</code><code class="p">,</code> <code class="mi">20</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'............a string'</strong></pre>
<p>See <a data-type="xref" href="#nested_format_specifications">“Nested Format Specifications”</a> for a fuller discussion of this technique.</p>
</div></section>
<section data-pdf-bookmark="Grouping option" data-type="sect3"><div class="sect3" id="grouping_option">
<h3>Grouping option</h3>
<p>For<a contenteditable="false" data-primary="grouping option" data-type="indexterm" id="idm44924523389072"/> numeric values in the decimal (default) format type, you can insert either a comma (<strong>,</strong>) or an underscore (<strong>_</strong>) to request that each group of<a contenteditable="false" data-primary="digit grouping (f-strings)" data-type="indexterm" id="idm44924523386944"/> three digits (<em>digit group</em>) in the integer portion of the result be separated by that character. For example:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="mf">12345678.9</code><code class="si">:</code><code class="s1">,</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'12,345,678.9'</strong></pre>
<p>This behavior ignores system locale; for a locale-aware use of digit grouping and decimal point character, see format type <span class="code">n</span> in <a data-type="xref" href="#integer_format_types">Table 9-5</a>.</p>
</div></section>
<section data-pdf-bookmark="Precision specification" data-type="sect3"><div class="sect3" id="precision_specification">
<h3>Precision specification</h3>
<p>The<a contenteditable="false" data-primary="precision specification (f-strings)" data-type="indexterm" id="idm44924523358624"/> precision (e.g., <span class="code">.2</span>) has different meanings for different format types (see the following subsection for details), with <span class="code">.6</span> as the default for most numeric formats. For the <span class="code">f</span> and <span class="code">F</span> format types, it specifies the number of digits following the decimal point to which the value should be rounded in formatting; for the <span class="code">g</span> and <span class="code">G</span> format types, it specifies the number of <a contenteditable="false" data-primary="significant digits" data-type="indexterm" id="idm44924523333056"/><em>significant</em> digits to which the value should<a contenteditable="false" data-primary="rounding values" data-type="indexterm" id="idm44924523331696"/> be <em>rounded</em>; for nonnumeric values, it specifies<a contenteditable="false" data-primary="truncation" data-type="indexterm" id="idm44924523330144"/> <em>truncation</em> of the value to its leftmost characters before formatting. For example:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="n">x</code><code> </code><code class="o">=</code><code> </code><code class="mf">1.12345</code><code>
</code><code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="sa">f</code><code class="s1">'</code><code class="s1">as f: </code><code class="si">{</code><code class="n">x</code><code class="si">:</code><code class="s1">.4f</code><code class="si">}</code><code class="s1">'</code><code>  </code><em><code class="c1"># rounds to 4 digits after decimal point</code></em></pre>
<pre data-type="programlisting">
<strong>'as f: 1.1235'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="sa">f</code><code class="s1">'</code><code class="s1">as g: </code><code class="si">{</code><code class="n">x</code><code class="si">:</code><code class="s1">.4g</code><code class="si">}</code><code class="s1">'</code><code>  </code><em><code class="c1"># rounds to 4 significant digits</code></em></pre>
<pre data-type="programlisting">
<strong>'as g: 1.123'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="sa">f</code><code class="s1">'</code><code class="s1">as s: </code><code class="si">{</code><code class="s2">"</code><code class="s2">1234567890</code><code class="s2">"</code><code class="si">:</code><code class="s1">.6s</code><code class="si">}</code><code class="s1">'</code><code>  </code><em><code class="c1"># string truncated to 6 characters</code></em></pre>
<pre data-type="programlisting">
<strong>'as s: 123456'</strong></pre>
</div></section>
<section data-pdf-bookmark="Format type" data-type="sect3"><div class="sect3" id="format_type">
<h3>Format type</h3>
<p>The format specification ends with an optional<a contenteditable="false" data-primary="format types" data-type="indexterm" id="idm44924523237552"/> <em>format type</em>, which determines how the value gets represented in the given width and at the given precision. In the absence of an explicit format type, the value being formatted determines the default format type.</p>
<p>The <span class="code">s</span> format type is always used to format Unicode strings.</p>
<p>Integer numbers<a contenteditable="false" data-primary="integer numbers" data-type="indexterm" id="idm44924523234320"/> have a range of acceptable format types, listed in <a data-type="xref" href="#integer_format_types">Table 9-5</a>.</p>
<table class="border" id="integer_format_types">
<caption><span class="label">Table 9-5. </span>Integer format types</caption>
<thead>
<tr>
<th>Format type</th>
<th>Formatting description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="code">b</span></td>
<td>Binary format—a series of ones and zeros</td>
</tr>
<tr>
<td><span class="code">c</span></td>
<td>The Unicode character whose ordinal value is the formatted value</td>
</tr>
<tr>
<td><span class="code">d</span></td>
<td>Decimal (the default format type)</td>
</tr>
<tr>
<td><span class="code">n</span></td>
<td>Decimal format, with locale-specific separators (commas in the UK and US) when system locale is set</td>
</tr>
<tr>
<td><span class="code">o</span></td>
<td>Octal format—a series of octal digits</td>
</tr>
<tr>
<td><span class="code">x</span> or <span class="code">X</span></td>
<td>Hexadecimal format—a series of hexadecimal digits, with the letters, respectively, in lower- or uppercase</td>
</tr>
</tbody>
</table>
<p>Floating-point numbers<a contenteditable="false" data-primary="floating-point numbers" data-secondary="formatting" data-type="indexterm" id="idm44924523193824"/> have a different set of format types, shown in <a data-type="xref" href="#floating_point_format_types">Table 9-6</a>.</p>
<table class="border" id="floating_point_format_types">
<caption><span class="label">Table 9-6. </span>Floating-point format types</caption>
<thead>
<tr>
<th>Format type</th>
<th>Formatting description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="code">e</span> or <span class="code">E</span></td>
<td>Exponential format—scientific notation, with an integer part between one and nine, using <span class="code">e</span> or <span class="code">E</span> just before the exponent</td>
</tr>
<tr>
<td><span class="code">f</span> or <span class="code">F</span></td>
<td>Fixed-point format with infinities (<span class="code">inf</span>) and nonnumbers (<span class="code">nan</span>) in lower- or uppercase</td>
</tr>
<tr>
<td><span class="code">g</span> or <span class="code">G</span></td>
<td>General format (the default format type)—uses a fixed-point format when possible, otherwise exponential format; uses lower- or uppercase representations for <span class="code">e</span>, <span class="code">inf</span>, and <span class="code">nan</span>, depending on the case of the format type</td>
</tr>
<tr>
<td><span class="code">n</span></td>
<td>Like general format, but uses locale-specific separators, when system locale is set, for groups of three digits and decimal points</td>
</tr>
<tr>
<td><span class="code">%</span></td>
<td>Percentage format—multiplies the value by 100 and formats it as fixed-point followed by <span class="code">%</span></td>
</tr>
</tbody>
</table>
<p>When no format type is specified, a <span class="code">float</span> uses the <span class="code">g</span> format, with at least one digit after the decimal point and a default precision of <span class="code">12</span>.</p>
<p>The following code takes a list of numbers and displays each right justified in a field width of nine characters; it specifies that each number’s sign will always display, adds a comma between each group of three digits, and rounds each number to exactly two digits after the decimal point, converting <span class="code">int</span>s to <span class="code">float</span>s<a contenteditable="false" data-primary="" data-startref="fspec09" data-type="indexterm" id="idm44924523166672"/> as needed:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><strong><code class="k">for</code></strong><code> </code><code class="n">num</code><code> </code><strong><code class="ow">in</code></strong><code> </code><code class="p">[</code><code class="mf">3.1415</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mi">42</code><code class="p">,</code><code> </code><code class="mf">1024.0</code><code class="p">]</code><code class="p">:</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>     </code><code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">num</code><code class="si">:</code><code class="s1">&gt;+9,.2f</code><code class="si">}</code><code class="s1">'</code><code> </code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code></pre>
<pre data-type="programlisting">
<strong>'    +3.14'</strong>
<strong>'   -42.00'</strong>
<strong>'+1,024.00'</strong></pre>
</div></section>
</div></section>
<section data-pdf-bookmark="Nested Format Specifications" data-type="sect2"><div class="sect2" id="nested_format_specifications">
<h2>Nested Format Specifications</h2>
<p>In<a contenteditable="false" data-primary="nested format specifications" data-type="indexterm" id="idm44924523131664"/> some cases you’ll want to use expression values to help determine the precise format used: you can use nested formatting to achieve this. For example, to format a string in a field four characters wider than the string itself, you can pass a value for the width to <span class="code">format</span>, as in:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="n">s</code> <code class="o">=</code> <code class="s1">'a string'</code>
<code class="o">&gt;&gt;&gt;</code> <code class="s1">'{0:&gt;</code><code class="si">{1}</code><code class="s1">s}'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">s</code><code class="p">,</code> <code class="nb">len</code><code class="p">(</code><code class="n">s</code><code class="p">)</code><code class="o">+</code><code class="mi">4</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'    a string'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="s1">'{0:_^</code><code class="si">{1}</code><code class="s1">s}'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">s</code><code class="p">,</code> <code class="nb">len</code><code class="p">(</code><code class="n">s</code><code class="p">)</code><code class="o">+</code><code class="mi">4</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'__a string__'</strong></pre>
<p>With some care, you can use width specification and nested formatting to print a sequence of tuples into well-aligned columns. For example:</p>
<pre data-code-language="python" data-type="programlisting">
<strong><code class="k">def</code></strong><code> </code><code class="nf">columnar_strings</code><code class="p">(</code><code class="n">str_seq</code><code class="p">,</code><code> </code><code class="n">widths</code><code class="p">)</code><code class="p">:</code><code>
</code><code>    </code><strong><code class="k">for</code></strong><code> </code><code class="n">cols</code><code> </code><strong><code class="ow">in</code></strong><code> </code><code class="n">str_seq</code><code class="p">:</code><code>
</code><code>        </code><code class="n">row</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">c</code><code class="si">:</code><code class="si">{</code><code class="n">w</code><code class="si">}</code><code class="s1">.</code><code class="si">{</code><code class="n">w</code><code class="si">}</code><code class="s1">s</code><code class="si">}</code><code class="s1">'</code><code>
</code><code>               </code><strong><code class="k">for</code></strong><code> </code><code class="n">c</code><code class="p">,</code><code> </code><code class="n">w</code><code> </code><strong><code class="ow">in</code></strong><code> </code><code class="nb">zip</code><code class="p">(</code><code class="n">cols</code><code class="p">,</code><code> </code><code class="n">widths</code><code class="p">)</code><code class="p">]</code><code>
</code><code>        </code><code class="nb">print</code><code class="p">(</code><code class="s1">'</code><code class="s1"> </code><code class="s1">'</code><code class="o">.</code><code class="n">join</code><code class="p">(</code><code class="n">row</code><code class="p">)</code><code class="p">)</code></pre>
<p>Given this function, the following code:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="n">c</code> <code class="o">=</code> <code class="p">[</code>
        <code class="s1">'four score and'</code><code class="o">.</code><code class="n">split</code><code class="p">(),</code>
        <code class="s1">'seven years ago'</code><code class="o">.</code><code class="n">split</code><code class="p">(),</code>
        <code class="s1">'our forefathers brought'</code><code class="o">.</code><code class="n">split</code><code class="p">(),</code>
        <code class="s1">'forth on this'</code><code class="o">.</code><code class="n">split</code><code class="p">(),</code>
    <code class="p">]</code>

<code class="n">columnar_strings</code><code class="p">(</code><code class="n">c</code><code class="p">,</code> <code class="p">(</code><code class="mi">8</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">8</code><code class="p">))</code></pre>
<p>prints:</p>
<pre data-type="programlisting">
<strong>four     score    and</strong>
<strong>seven    years    ago</strong>
<strong>our      forefath brought</strong>
<strong>forth    on       this</strong></pre>
</div></section>
<section data-pdf-bookmark="Formatting of User-Coded Classes" data-type="sect2"><div class="sect2" id="formatting_of_user_coded_classes">
<h2>Formatting of User-Coded Classes</h2>
<p>Values<a contenteditable="false" data-primary="user-coded classes" data-type="indexterm" id="idm44924522870528"/> are ultimately formatted by a call to their <span class="code">__format__</span> method with the format specifier as an argument. Built-in types either implement their own method or inherit from <span class="code">object</span>, whose rather unhelpful <span class="code">format</span> method only accepts an empty string as an argument:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="nb">object</code><code class="p">()</code><code class="o">.</code><code class="fm">__format__</code><code class="p">(</code><code class="s1">''</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'&lt;object object at 0x110045070&gt;'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="kn">import</code> <code class="nn">math</code>
<code class="o">&gt;&gt;&gt;</code> <code class="n">math</code><code class="o">.</code><code class="n">pi</code><code class="o">.</code><code class="fm">__format__</code><code class="p">(</code><code class="s1">'18.6'</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'           3.14159'</strong></pre>
<p>You can use this knowledge to implement an entirely different formatting mini-language of your own, should you so choose. The following simple example demonstrates the passing of format specifications and the return of a (constant) formatted string result. The interpretation of the format specification is under your control, and you may choose to implement whatever formatting notation you choose:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="k">class</code><code> </code><code class="nc">S</code><code class="p">:</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>     </code><code class="k">def</code><code> </code><code class="fm">__init__</code><code class="p">(</code><code class="bp">self</code><code class="p">,</code><code> </code><code class="n">value</code><code class="p">)</code><code class="p">:</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>         </code><code class="bp">self</code><code class="o">.</code><code class="n">value</code><code> </code><code class="o">=</code><code> </code><code class="n">value</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>     </code><strong><code class="k">def</code></strong><code> </code><code class="fm">__format__</code><code class="p">(</code><code class="bp">self</code><code class="p">,</code><code> </code><code class="n">fstr</code><code class="p">)</code><code class="p">:</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>         </code><strong><code class="n">match</code></strong><code> </code><code class="n">fstr</code><code class="p">:</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>             </code><strong><code class="n">case</code></strong><code> </code><code class="s1">'</code><code class="s1">U</code><code class="s1">'</code><code class="p">:</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>                 </code><strong><code class="k">return</code></strong><code> </code><code class="bp">self</code><code class="o">.</code><code class="n">value</code><code class="o">.</code><code class="n">upper</code><code class="p">(</code><code class="p">)</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>             </code><strong><code class="n">case</code></strong><code> </code><code class="s1">'</code><code class="s1">L</code><code class="s1">'</code><code class="p">:</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>                 </code><strong><code class="k">return</code></strong><code> </code><code class="bp">self</code><code class="o">.</code><code class="n">value</code><code class="o">.</code><code class="n">lower</code><code class="p">(</code><code class="p">)</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>             </code><strong><code class="n">case</code></strong><code> </code><code class="s1">'</code><code class="s1">T</code><code class="s1">'</code><code class="p">:</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>                 </code><strong><code class="k">return</code></strong><code> </code><code class="bp">self</code><code class="o">.</code><code class="n">value</code><code class="o">.</code><code class="n">title</code><code class="p">(</code><code class="p">)</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>             </code><strong><code class="n">case</code></strong><code> </code><code class="n">_</code><code class="p">:</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>                 </code><strong><code class="k">return</code></strong><code> </code><code class="ne">ValueError</code><code class="p">(</code><code class="sa">f</code><code class="s1">'</code><code class="s1">Unrecognized format code</code><code class="s1">'</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>                                   </code><code class="sa">f</code><code class="s1">'</code><code class="s1"> </code><code class="si">{</code><code class="n">fstr</code><code class="si">!r}</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="n">my_s</code><code> </code><code class="o">=</code><code> </code><code class="n">S</code><code class="p">(</code><code class="s1">'</code><code class="s1">random string</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="n">my_s</code><code class="si">:</code><code class="s1">L</code><code class="si">}</code><code class="s1">, </code><code class="si">{</code><code class="n">my_s</code><code class="si">:</code><code class="s1">U</code><code class="si">}</code><code class="s1">, </code><code class="si">{</code><code class="n">my_s</code><code class="si">:</code><code class="s1">T</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'random string, RANDOM STRING, Random String'</strong></pre>
<p>The return value of the <span class="code">__format__</span> method is substituted for the replacement field in the formatted output, allowing any desired interpretation of the format string.</p>
<p>This technique is used in the <span class="code">datetime</span> module, to allow the use of <span class="code">strftime</span>-style format strings. Consequently, the following all give the same result:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><strong><code class="kn">import</code></strong><code> </code><code class="nn">datetime</code><code>
</code><code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="n">d</code><code> </code><code class="o">=</code><code> </code><code class="n">datetime</code><code class="o">.</code><code class="n">datetime</code><code class="o">.</code><code class="n">now</code><code class="p">(</code><code class="p">)</code><code>
</code><code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="n">d</code><code class="o">.</code><code class="fm">__format__</code><code class="p">(</code><code class="s1">'</code><code class="si">%d</code><code class="s1">/</code><code class="si">%m</code><code class="s1">/</code><code class="s1">%</code><code class="s1">y</code><code class="s1">'</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'10/04/22'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="s1">'{:</code><code class="si">%d</code><code class="s1">/</code><code class="si">%m</code><code class="s1">/%y}'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">d</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'10/04/22'</strong></pre>
<pre class="pre" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="sa">f</code><code class="s1">'</code><code class="si">{</code><code class="si">d:</code><code class="s1">%d/%m/%y</code><code class="si">}</code><code class="s1">'</code></pre>
<pre data-type="programlisting">
<strong>'10/04/22'</strong></pre>
<p>To help you format your objects more easily, the <span class="code">string</span> module provides a <span class="code">Formatter</span> class with many helpful methods for handling formatting tasks. See the <a href="https://oreil.ly/aUmUs">online docs</a> for details.</p>
</div></section>
<section data-pdf-bookmark="Legacy String Formatting with %" data-type="sect2"><div class="sect2" id="legacy_string_formatting_with_percent">
<h2>Legacy String Formatting with %</h2>
<p>A<a contenteditable="false" data-primary="legacy string formatting" data-type="indexterm" id="idm44924522491184"/><a contenteditable="false" data-primary="% (percent sign)" data-secondary="legacy string format operator" data-type="indexterm" id="idm44924522490080"/><a contenteditable="false" data-primary="percent sign (%)" data-secondary="legacy string format operator" data-type="indexterm" id="idm44924522488736"/> legacy form of string formatting expression in Python has the syntax:</p>
<pre data-code-language="python" data-type="programlisting">
<em><code class="nb">format</code></em><code> </code><code class="o">%</code><code> </code><em><code class="n">values</code></em></pre>
<p>where <span class="code"><em>format</em></span> is a <span class="code">str</span>, <span class="code">bytes</span>, or <span class="code">bytearray</span> object containing format specifiers, and <span class="code"><em>values</em></span> are the values to format, usually as a tuple.<sup><a data-type="noteref" href="ch09.xhtml#ch01fn96" id="ch01fn96-marker">1</a></sup> Unlike Python’s newer formatting capabilities, you can also use <span class="code">%</span> formatting with <span class="code">bytes</span> and <span class="code">bytearray</span> objects, not just <span class="code">str</span> ones.</p>
<p>The equivalent use in <span class="code">logging</span> would be, for example:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="n">logging</code><code class="o">.</code><code class="n">info</code><code class="p">(</code><em><code class="nb">format</code></em><code class="p">,</code><code> </code><code class="o">*</code><em><code class="n">values</code></em><code class="p">)</code></pre>
<p>with the <span class="code"><em>values</em></span> coming as positional arguments after the <span class="code"><em>format</em></span>.</p>
<p>The legacy string-formatting approach has roughly the same set of features as the C language’s <span class="code">printf</span> and operates in a similar way. Each format specifier is a substring of <span class="code"><em>format</em></span> that starts with a percent sign (<span class="code">%</span>) and ends with one of the conversion characters shown in <a data-type="xref" href="#string_formatting_conversion_characters">Table 9-7</a>.</p>
<table class="border" id="string_formatting_conversion_characters">
<caption><span class="label">Table 9-7. </span>String-formatting conversion characters</caption>
<thead>
<tr>
<th>Character</th>
<th>Output format</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="code">d</span>, <span class="code">i</span></td>
<td>Signed decimal integer</td>
<td>Value must be a number</td>
</tr>
<tr>
<td><span class="code">u</span></td>
<td>Unsigned decimal integer</td>
<td>Value must be a number</td>
</tr>
<tr>
<td><span class="code">o</span></td>
<td>Unsigned octal integer</td>
<td>Value must be a number</td>
</tr>
<tr>
<td><span class="code">x</span></td>
<td>Unsigned hexadecimal integer (lowercase letters)</td>
<td>Value must be a number</td>
</tr>
<tr>
<td><span class="code">X</span></td>
<td>Unsigned hexadecimal integer (uppercase letters)</td>
<td>Value must be a number</td>
</tr>
<tr>
<td><span class="code">e</span></td>
<td>Floating-point value in exponential form (lowercase <span class="code">e</span> for exponent)</td>
<td>Value must be a number</td>
</tr>
<tr>
<td><span class="code">E</span></td>
<td>Floating-point value in exponential form (uppercase <span class="code">E</span> for exponent)</td>
<td>Value must be a number</td>
</tr>
<tr>
<td><span class="code">f</span>, <span class="code">F</span></td>
<td>Floating-point value in decimal form</td>
<td>Value must be a number</td>
</tr>
<tr>
<td><span class="code">g</span>, <span class="code">G</span></td>
<td>Like <span class="code">e</span> or <span class="code">E</span> when <span class="code"><em>exp</em></span> is <span class="code">&gt;=4</span> or <span class="code">&lt;</span> precision; otherwise, like <span class="code">f</span> or <span class="code">F</span></td>
<td><span class="code"><em>exp</em></span> is the exponent of the number being converted</td>
</tr>
<tr>
<td><span class="code">a</span></td>
<td>String</td>
<td>Converts any value with <span class="code">ascii</span></td>
</tr>
<tr>
<td><span class="code">r</span></td>
<td>String</td>
<td>Converts any value with <span class="code">repr</span></td>
</tr>
<tr>
<td><span class="code">s</span></td>
<td>String</td>
<td>Converts any value with <span class="code">str</span></td>
</tr>
<tr>
<td><span class="code">%</span></td>
<td>Literal <span class="code">%</span> character</td>
<td>Consumes no value</td>
</tr>
</tbody>
</table>
<p>The <span class="code">a</span>, <span class="code">r</span>, and <span class="code">s</span> conversion characters are the ones most often used with the <span class="code">logging</span> module. Between the <span class="code">%</span> and the conversion character, you can specify a number of optional modifiers, as we’ll discuss shortly.</p>
<p>What is logged with a formatting expression is <span class="code"><em>format</em></span>, where each format specifier is replaced by the corresponding item of <span class="code"><em>values</em></span> converted to a string according to the specifier. Here are some simple examples:</p>
<pre data-code-language="python" data-type="programlisting">
<strong><code class="kn">import</code></strong><code> </code><code class="nn">logging</code><code>
</code><code class="n">logging</code><code class="o">.</code><code class="n">getLogger</code><code class="p">(</code><code class="p">)</code><code class="o">.</code><code class="n">setLevel</code><code class="p">(</code><code class="n">logging</code><code class="o">.</code><code class="n">INFO</code><code class="p">)</code><code>
</code><code class="n">x</code><code> </code><code class="o">=</code><code> </code><code class="mi">42</code><code>
</code><code class="n">y</code><code> </code><code class="o">=</code><code> </code><code class="mf">3.14</code><code>
</code><code class="n">z</code><code> </code><code class="o">=</code><code> </code><code class="s1">'</code><code class="s1">george</code><code class="s1">'</code><code>
</code><code class="n">logging</code><code class="o">.</code><code class="n">info</code><code class="p">(</code><code class="s1">'</code><code class="s1">result = </code><code class="si">%d</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">x</code><code class="p">)</code><code>        </code><em><code class="c1"># logs:</code></em><code class="c1"> </code><em><code class="c1">result = 42</code></em><code>
</code><code class="n">logging</code><code class="o">.</code><code class="n">info</code><code class="p">(</code><code class="s1">'</code><code class="s1">answers: </code><code class="si">%d</code><code class="s1"> </code><code class="si">%f</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">y</code><code class="p">)</code><code>  </code><em><code class="c1"># logs:</code></em><code class="c1"> </code><em><code class="c1">answers: 42 3.140000</code></em><code>
</code><code class="n">logging</code><code class="o">.</code><code class="n">info</code><code class="p">(</code><code class="s1">'</code><code class="s1">hello </code><code class="si">%s</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">z</code><code class="p">)</code><code>           </code><em><code class="c1"># logs:</code></em><code class="c1"> </code><em><code class="c1">hello george</code></em></pre>
</div></section>
<section data-pdf-bookmark="Format Specifier Syntax" data-type="sect2"><div class="sect2" id="format_specifier_syntax">
<h2>Format Specifier Syntax</h2>
<p>Each<a contenteditable="false" data-primary="format specifier" data-secondary="legacy str formatting" data-type="indexterm" id="idm44924522266896"/> format specifier corresponds to an item in <span class="code"><em>values</em></span> by position. A format specifier can include modifiers to control how the corresponding item in <span class="code"><em>values</em></span> is converted to a string. The components of a format specifier, in order, are:</p>
<ul>
<li>
<p>The mandatory leading <span class="code">%</span> character that marks the start of the specifier</p>
</li>
<li>
<p>Zero or more optional conversion flags:</p>
<dl>
<dt class="plain"><span class="code">'</span><span class="code">#</span><span class="code">'</span></dt>
<dd>The conversion uses an alternate form (if any exists for its type).</dd>
<dt class="plain"><span class="code">'</span><span class="code">0</span><span class="code">'</span></dt>
<dd>The conversion is zero padded.</dd>
<dt class="plain"><span class="code">'</span><span class="code">-</span><span class="code">'</span></dt>
<dd>The conversion is left justified.</dd>
<dt class="plain"><span class="code">' '</span></dt>
<dd>Negative numbers are signed, and a space is placed before a positive number.</dd>
<dt class="plain"><span class="code">'</span><span class="code">+</span><span class="code">'</span></dt>
<dd>A numeric sign (<span class="code">+</span> or <span class="code">-</span>) is placed before any numeric conversion.</dd>
</dl>
</li>
<li>
<p>An optional minimum width of the conversion: one or more digits, or an asterisk (<span class="code">*</span>), meaning that the width is taken from the next item in <span class="code"><em>values</em></span></p>
</li>
<li>
<p>An optional precision for the conversion: a dot (<span class="code">.</span>) followed by zero or more digits or by a <span class="code">*</span>, meaning that the precision is taken from the next item in <span class="code"><em>values</em></span></p>
</li>
<li>
<p>A mandatory conversion type from <a data-type="xref" href="#string_formatting_conversion_characters">Table 9-7</a></p>
</li>
</ul>
<p>There must be exactly as many <span class="code"><em>values</em></span> as <span class="code"><em>format</em></span> has specifiers (plus one extra for each width or precision given by <span class="code">*</span>). When a width or precision is given by <span class="code">*</span>, the <span class="code">*</span> consumes one item in <span class="code"><em>values</em></span>, which must be an integer and is taken as the number of characters to use as the width or precision of that conversion.</p>
<div data-type="tip">
<h1>Always Use %r (or %a) to Log Possibly Erroneous Strings</h1>
<p>Most often, the format specifiers<a contenteditable="false" data-primary="%r format marker" data-type="indexterm" id="idm44924522210544"/><a contenteditable="false" data-primary="%a format marker" data-type="indexterm" id="idm44924522209440"/><a contenteditable="false" data-primary="%s format marder" data-type="indexterm" id="idm44924522208336"/> in your <span class="code"><em>format</em></span> string will all be <span class="code">%s</span>; occasionally, you’ll want to ensure horizontal alignment of the output (for example, in a right-justified, maybe truncated space of exactly six characters, in which case you’d use <span class="code">%6.6s</span>). However, there is an important special case for <span class="code">%r</span> <span class="keep-together">or <span class="code">%a</span></span>.</p>
<p>When you’re logging a string value that might be erroneous (for example, the name of a file that is not found), don’t use <span class="code">%s</span>: when the error is that the string has spurious leading or trailing spaces, or contains some nonprinting characters such as <span class="code">\b</span>, <span class="code">%s</span> can make this hard for you to spot by studying the logs. Use <span class="code">%r</span> or <span class="code">%a</span> instead, so that all characters are clearly shown, possibly via escape sequences. (For f-strings, the corresponding syntax would be <span class="code">{variable!r}</span> or <span class="code">{variable!a}</span>).<a contenteditable="false" data-primary="" data-startref="Sformat09" data-type="indexterm" id="idm44924522197360"/></p>
</div>
</div></section>
</div></section>
<section data-pdf-bookmark="Text Wrapping and Filling" data-type="sect1"><div class="sect1" id="text_wrapping_and_filling">
<h1>Text Wrapping and Filling</h1>
<p>The<a contenteditable="false" data-primary="strings" data-secondary="text wrapping and filing" data-type="indexterm" id="idm44924522194256"/><a contenteditable="false" data-primary="wrapping" data-type="indexterm" id="idm44924522192912"/><a contenteditable="false" data-primary="textwrap module" data-type="indexterm" id="idm44924522191776"/><a contenteditable="false" data-primary="standard library modules" data-secondary="textwrap" data-type="indexterm" id="idm44924522190672"/> <span class="code">textwrap</span> module supplies a class and a few functions to format a string by breaking it into lines of a given maximum length. To fine-tune the filling and wrapping, you can instantiate the <span class="code">TextWrapper</span> class supplied by <span class="code">textwrap</span> and apply detailed control. Most of the time, however, one of the functions exposed by <span class="code">textwrap</span> suffices; the most commonly used functions are covered in <a data-type="xref" href="#useful_functions_of_the_textwrap_module">Table 9-8</a>.</p>
<table class="border" id="useful_functions_of_the_textwrap_module">
<caption><span class="label">Table 9-8. </span>Useful functions of the <span class="code">textwrap</span> module</caption>
<tbody>
<tr>
<td><span class="code">dedent</span></td>
<td><span class="code">dedent(text)</span><br/>
			Takes<a contenteditable="false" data-primary="dedent (textwrap module)" data-type="indexterm" id="idm44924522180560"/> a multiline string and returns a copy in which all lines have had the same amount of leading whitespace removed, so that some lines have no leading whitespace.</td>
</tr>
<tr>
<td><span class="code">fill</span></td>
<td><span class="code">fill(text, width=70)</span><br/>
			Returns<a contenteditable="false" data-primary="fill (textwrap module)" data-type="indexterm" id="idm44924522176928"/> a single multiline string equal to <span class="code">'\n'.join(wrap(text, width))</span>.</td>
</tr>
<tr>
<td><span class="code">wrap</span></td>
<td><span class="code">wrap(text, width=70)</span><br/>
			Returns<a contenteditable="false" data-primary="wrap (textwrap module)" data-type="indexterm" id="idm44924522172224"/> a list of strings (without terminating newlines), each no longer than <span class="code">width</span> characters. <span class="code">wrap</span> also supports other named arguments (equivalent to attributes of instances of class <span class="code">TextWrapper</span>); for such advanced uses, see the <a href="https://oreil.ly/TjsSm">online docs</a>.</td>
</tr>
</tbody>
</table>
</div></section>
<section data-pdf-bookmark="The pprint Module" data-type="sect1"><div class="sect1" id="the_pprint_module">
<h1>The pprint Module</h1>
<p>The<a contenteditable="false" data-primary="strings" data-secondary="pprint module" data-type="indexterm" id="idm44924522166096"/><a contenteditable="false" data-primary="standard library modules" data-secondary="pprint" data-type="indexterm" id="idm44924522164304"/><a contenteditable="false" data-primary="pprint module" data-type="indexterm" id="idm44924522162960"/> <span class="code">pprint</span> module pretty-prints data structures, with formatting that strives to be more readable than that supplied by the built-in function <span class="code">repr</span> (covered in <a data-type="xref" href="ch08.xhtml#pythonapostrophes_core_built_in_functio">Table 8-2</a>). To fine-tune the formatting, you can instantiate the <span class="code">PrettyPrinter</span> class supplied by <span class="code">pprint</span> and apply detailed control, helped by auxiliary functions also supplied by <span class="code">pprint</span>. Most of the time, however, one of the functions exposed by <span class="code">pprint</span> suffices (see <a data-type="xref" href="#useful_functions_of_the_pprint_module">Table 9-9</a>).</p>
<table class="border" id="useful_functions_of_the_pprint_module">
<caption><span class="label">Table 9-9. </span>Useful functions of the <span class="code">pprint</span> module</caption>
<tbody>
<tr>
<td class="width-10"><span class="code">pformat</span></td>
<td><span class="code">pformat(object)</span><br/>
			Returns a string representing the pretty-printing of <span class="code">object</span>.</td>
</tr>
<tr>
<td><span class="code">pp</span>, <span class="code">pprint</span></td>
<td><span class="code">pp(object, stream=<em>sys.stdout</em>)</span>,<br/>
<span class="code">pprint(object, stream=<em>sys.stdout</em>)</span><br/>
			Outputs the pretty-printing of <span class="code">object</span> to open-for-writing file object <span class="code">stream</span>, with a terminating newline.<br/>
			The following statements do exactly the same thing:
			<pre data-code-language="python" data-type="programlisting">
<code class="nb">print</code><code class="p">(</code><code class="n">pprint</code><code class="o">.</code><code class="n">pformat</code><code class="p">(</code><code class="n">x</code><code class="p">))</code>
<code class="n">pprint</code><code class="o">.</code><code class="n">pprint</code><code class="p">(</code><code class="n">x</code><code class="p">)</code></pre>
			Either of these constructs is roughly the same as <span class="code">print(<em>x</em>)</span> in many cases—for example, for a container that can be displayed within a single line. However, with something like <span class="code"><em>x</em>=list(range(30))</span>, <span class="code">print(<em>x</em>)</span> displays <span class="code"><em>x</em></span> in 2 lines, breaking at an arbitrary point, while using the module <span class="code">pprint</span> displays <span class="code">x</span> over 30 lines, one line per item. Use <span class="code">pprint</span> when you prefer the module’s specific display effects to the ones of normal string representation.<br/>
<span class="code">pprint</span> and <span class="code">pp</span> support additional formatting arguments; consult the <a href="https://oreil.ly/xwrN8">online docs</a> for details.</td>
</tr>
</tbody>
</table>
</div></section>
<section data-pdf-bookmark="The reprlib Module" data-type="sect1"><div class="sect1" id="the_reprlib_module">
<h1>The reprlib Module</h1>
<p>The<a contenteditable="false" data-primary="strings" data-secondary="reprlib module" data-type="indexterm" id="idm44924522110512"/><a contenteditable="false" data-primary="reprlib module" data-type="indexterm" id="idm44924522109104"/><a contenteditable="false" data-primary="standard library modules" data-secondary="reprlib " data-type="indexterm" id="idm44924522108000"/> <span class="code">reprlib</span> module supplies an alternative to the built-in function <span class="code">repr</span> (covered in <a data-type="xref" href="ch08.xhtml#pythonapostrophes_core_built_in_functio">Table 8-2</a>), with limits on length for the representation string. To fine-tune the length limits, you can instantiate or subclass the <span class="code">Repr</span> class supplied by the <span class="code">reprlib</span> module and apply detailed control. Most of the time, however, the only function exposed by the module suffices: <span class="code">repr(<em>obj</em>)</span>, which returns a string representing <span class="code"><em>obj</em></span>, with sensible limits on length.</p>
</div></section>
<section data-pdf-bookmark="Unicode" data-type="sect1"><div class="sect1" id="unicode">
<h1>Unicode</h1>
<p>To<a contenteditable="false" data-primary="strings" data-secondary="Unicode" data-type="indexterm" id="Suni09"/><a contenteditable="false" data-primary="Unicode characters" data-secondary="converting bytestrings into" data-type="indexterm" id="Uconvbyte09"/> convert bytestrings into Unicode strings, use the <span class="code">decode</span> method of bytestrings (see <a data-type="xref" href="#significant_str_and_bytes_methods">Table 9-1</a>). The conversion must always be explicit, and is performed using an auxiliary object known as a <em>codec</em> (short for <em>coder–decoder</em>). A codec can also convert Unicode strings to bytestrings using the <span class="code">encode</span> method of strings. To identify a codec, pass the codec name to <span class="code">decode</span> or <span class="code">encode</span>. When you pass no codec name, Python uses a default encoding, normally <span class="code">'utf-8'</span>.</p>
<p>Every conversion has a parameter <span class="code">errors</span>, a string specifying how conversion errors are to be handled. Sensibly, the default is <span class="code">'strict'</span>, meaning any error raises an exception. When <span class="code">errors</span> is <span class="code">'replace'</span>, the conversion replaces each character causing errors with <span class="code">'?'</span> in a bytestring result, or with <span class="code">u'\ufffd'</span> in a Unicode result. When <span class="code">errors</span> is <span class="code">'ignore'</span>, the conversion silently skips characters causing errors. When <span class="code">errors</span> is <span class="code">'xmlcharrefreplace'</span>, the conversion replaces each character causing errors with the XML character reference representation of that character in the result. You may code your own function to implement a conversion error handling strategy and register it under an appropriate name by calling <span class="code">codecs.register_error</span>, covered in the table in the following section.</p>
<section data-pdf-bookmark="The codecs Module" data-type="sect2"><div class="sect2" id="the_codecs_module">
<h2>The codecs Module</h2>
<p>The<a contenteditable="false" data-primary="codecs module" data-type="indexterm" id="idm44924522063712"/><a contenteditable="false" data-primary="standard library modules" data-secondary="codecs" data-type="indexterm" id="idm44924522062576"/> mapping of codec names to codec objects is handled by the <span class="code">codecs</span> module. This module also lets you develop your own codec objects and register them so that they can be looked up by name, just like built-in codecs. It provides a function that lets you look up any codec explicitly as well, obtaining the functions the codec uses for encoding and decoding, as well as factory functions to wrap file-like objects. Such advanced facilities are rarely used, and we do not cover them in this book.</p>
<p>The <span class="code">codecs</span> module, together with the <span class="code">encodings</span> package of the standard Python library, supplies built-in codecs useful to Python developers dealing with internationalization issues. Python comes with over 100 codecs; you can find a complete list, with a brief explanation of each, in the <a href="https://oreil.ly/3iAbC">online docs</a>. It’s <em>not</em> good practice to install a codec as the site-wide default in the module <span class="code">sitecustomize</span>; rather, the preferred usage is to always specify the codec by name whenever converting between byte and Unicode strings. Python’s default Unicode encoding is <span class="code">'utf-8'</span>.</p>
<p>The <span class="code">codecs</span> module supplies codecs implemented in Python for most ISO 8859 encodings, with codec names from <span class="code">'iso8859-1'</span> to <span class="code">'iso8859-15'</span>. A popular codec in Western Europe is <span class="code">'latin-1'</span>, a fast, built-in implementation of the ISO 8859-1 encoding that offers a one-byte-per-character encoding of special characters found in Western European languages (beware that it lacks the Euro currency character <span class="code">'€'</span>; however, if you need that, use <span class="code">'iso8859-15'</span>). On Windows systems only, the codec named <span class="code">'mbcs'</span> wraps the platform’s multibyte character set conversion procedures. The <span class="code">codecs</span> module also supplies various code pages with names from <span class="code">'cp037'</span> to <span class="code">'cp1258'</span>, and Unicode standard encodings <span class="code">'utf-8'</span> (likely to be most often the best choice, thus recommended, and the default) and <span class="code">'utf-16'</span> (which has specific big-endian and little-endian variants: <span class="code">'utf-16-be'</span> and <span class="code">'utf-16-le'</span>). For use with UTF-16, <span class="code">codecs</span> also supplies attributes <span class="code">BOM_BE</span> and <span class="code">BOM_LE</span>, byte-order marks for big-endian and little-endian machines, respectively, and <span class="code">BOM</span>, the byte-order mark for the current platform.</p>
<p>In addition to various functions for more advanced uses, as mentioned earlier, the <span class="code">codecs</span> module supplies a function to let you register your own conversion error handling functions:</p>
<table class="border">
<tbody>
<tr>
<td><span class="code">regis⁠t⁠e⁠r⁠_​e⁠r⁠r⁠or</span></td>
<td><span class="code">register_error(<em>name</em>,</span> <span class="code"><em>func</em></span><span class="code">, /)</span><br/>
<span class="code"><em>name</em></span> must be a string. <span class="code"><em>func</em></span> must be callable with one argument <span class="code"><em>e</em></span> that is an instance of <span class="code">UnicodeDecodeError</span>, and must return a tuple with two items: the Unicode string to insert in the converted string result, and the index from which to continue the conversion (the latter is normally <span class="code"><em>e</em></span><span class="code">.end</span>). The function can use <span class="code"><em>e</em></span><span class="code">.encoding</span>, the name of the codec of this conversion, and <span class="code"><em>e</em></span><span class="code">.object[<em>e</em>.start:<em>e</em>.end]</span>, the substring causing the conversion error.</td>
</tr>
</tbody>
</table>
</div></section>
<section data-pdf-bookmark="The unicodedata Module" data-type="sect2"><div class="sect2" id="the_unicodedata_module">
<h2>The unicodedata Module</h2>
<p>The<a contenteditable="false" data-primary="unicodedata module" data-type="indexterm" id="idm44924522024800"/><a contenteditable="false" data-primary="standard library modules" data-secondary="unicodedata" data-type="indexterm" id="idm44924522023696"/> <span class="code">unicodedata</span> module provides easy access to the Unicode Character Database. Given any Unicode character, you can use functions supplied by <span class="code">unicodedata</span> to obtain the character’s Unicode category, official name (if any), and other relevant information. You can also look up the Unicode character (if any) that corresponds to a given official<a contenteditable="false" data-primary="" data-startref="Suni09" data-type="indexterm" id="idm44924522020784"/><a contenteditable="false" data-primary="" data-startref="Uconvbyte09" data-type="indexterm" id="idm44924522019408"/> name:</p>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><strong><code class="kn">import</code></strong><code> </code><code class="nn">unicodedata</code><code>
</code><code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="n">unicodedata</code><code class="o">.</code><code class="n">name</code><code class="p">(</code><code class="s1">'</code><code class="s1">⚀</code><code class="s1">'</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'DIE FACE-1'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="n">unicodedata</code><code class="o">.</code><code class="n">name</code><code class="p">(</code><code class="s1">'Ⅵ'</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'ROMAN NUMERAL SIX'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="nb">int</code><code class="p">(</code><code class="s1">'Ⅵ'</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>ValueError: invalid literal for int() with base 10: '</strong>Ⅵ<strong>'</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;</code><code class="o">&gt;</code><code> </code><code class="n">unicodedata</code><code class="o">.</code><code class="n">numeric</code><code class="p">(</code><code class="s1">'</code><code class="s1">Ⅵ</code><code class="s1">'</code><code class="p">)</code><code>  </code><em><code class="c1"># use unicodedata to get numeric value</code></em></pre>
<pre data-type="programlisting">
<strong>6.0</strong></pre>
<pre data-code-language="python" data-type="programlisting">
<code class="o">&gt;&gt;&gt;</code> <code class="n">unicodedata</code><code class="o">.</code><code class="n">lookup</code><code class="p">(</code><code class="s1">'RECYCLING SYMBOL FOR TYPE-1 PLASTICS'</code><code class="p">)</code></pre>
<pre data-type="programlisting">
<strong>'</strong>♳<strong>'</strong></pre>
</div></section>
</div></section>
<div data-type="footnotes"><p data-type="footnote" id="ch01fn96"><sup><a href="ch09.xhtml#ch01fn96-marker">1</a></sup> In this book we cover only a subset of this legacy feature, the format specifier, that you must know about to properly use the <span class="code">logging</span> module (discussed in <a data-type="xref" href="ch06.xhtml#the_logging_module">“The logging module”</a>).</p></div></div></section></div></body></html>