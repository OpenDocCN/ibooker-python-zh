<html><head></head><body><section data-pdf-bookmark="Chapter 5. Text Strings" data-type="chapter" epub:type="chapter"><div class="chapter" id="ch_strings">&#13;
<h1><span class="label">Chapter 5. </span>Text Strings</h1>&#13;
&#13;
<blockquote>&#13;
<p><a data-primary="strings" data-type="indexterm" id="ix_ch05-strings-asciidoc0"/>I always liked strange characters.</p>&#13;
<p data-type="attribution">Tim Burton</p>&#13;
</blockquote>&#13;
&#13;
<p>Computer books often give the impression that&#13;
programming is all about math.&#13;
Actually,&#13;
most programmers work with <em>strings</em> of text more often than numbers.&#13;
Logical (and creative!) thinking is often more important than math skills.</p>&#13;
&#13;
<p><a data-primary="sequences" data-secondary="strings as" data-type="indexterm" id="idm45795036752840"/>Strings are our first example of a Python <em>sequence</em>.&#13;
In this case, they’re a sequence of <em>characters</em>.&#13;
<a data-primary="characters, defined" data-type="indexterm" id="idm45795036750648"/>But what’s a character?&#13;
It’s the smallest unit in a writing system,&#13;
and includes letters, digits, symbols, punctuation,&#13;
and even white space or directives like linefeeds.&#13;
A character is defined by its meaning (how it’s used),&#13;
not how it looks.&#13;
It can have more than one visual representation&#13;
(in different <em>fonts</em>),&#13;
and more than one character can have the same appearance&#13;
(such as the visual <code>H</code>,&#13;
which means the <code>H</code> sound in the Latin alphabet&#13;
but the Latin <code>N</code> sound in Cyrillic).</p>&#13;
&#13;
<p>This chapter concentrates on how to make and format simple&#13;
text strings,&#13;
using ASCII (basic character set) examples.&#13;
Two important text topics are deferred to <a data-type="xref" href="ch12.html#ch_munging">Chapter 12</a>:&#13;
<em>Unicode</em> characters&#13;
(like the <code>H</code> and <code>N</code> issue I just mentioned)&#13;
and&#13;
<em>regular expressions</em> (pattern matching).</p>&#13;
&#13;
<p>Unlike other languages,&#13;
strings in Python are <em>immutable</em>.&#13;
You can’t change a string in place,&#13;
but you can copy parts of strings to another string&#13;
to get the same effect.&#13;
We look at how to do this shortly.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="pagebreak-before less_space" data-pdf-bookmark="Create with Quotes" data-type="sect1"><div class="sect1" id="quotes">&#13;
<h1>Create with Quotes</h1>&#13;
&#13;
<p><a data-primary="quotes" data-type="indexterm" id="ix_ch05-strings-asciidoc1"/><a data-primary="strings" data-secondary="creating with quotes" data-type="indexterm" id="ix_ch05-strings-asciidoc2"/>You make a Python string by enclosing characters in matching&#13;
single or double quotes:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">'Snap'</code>&#13;
<code class="go">'Snap'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">"Crackle"</code>&#13;
<code class="go">'Crackle'</code></pre>&#13;
&#13;
<p>The interactive interpreter echoes strings with a single quote,&#13;
but all are treated exactly the same by Python.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Python has a few special types of strings,&#13;
indicated by a letter before the first quote.&#13;
<a data-primary="f-strings" data-type="indexterm" id="idm45795036695112"/><code>f</code> or <code>F</code> starts an <em>f string</em>, used for formatting,&#13;
and described near the end of this chapter.&#13;
<a data-primary="escape sequences" data-type="indexterm" id="idm45795036733960"/><a data-primary="raw string" data-type="indexterm" id="idm45795036733256"/><code>r</code> or <code>R</code> starts a <em>raw string</em>, used&#13;
to prevent <em>escape sequences</em> in the string&#13;
(see <a data-type="xref" href="#escape">“Escape with \”</a> and <a data-type="xref" href="ch12.html#ch_munging">Chapter 12</a> for its&#13;
use in string pattern matching).&#13;
Then, there’s the combination <code>fr</code> (or <code>FR</code>, <code>Fr</code>, or <code>fR</code>)&#13;
that starts a raw f-string.&#13;
<a data-primary="Unicode text strings" data-type="indexterm" id="idm45795036692424"/>A <code>u</code> starts a Unicode string, which is the same&#13;
as a plain string.&#13;
And a <code>b</code> starts a value of type <code>bytes</code> (<a data-type="xref" href="ch12.html#ch_munging">Chapter 12</a>).&#13;
Unless I mention one of these special types,&#13;
I’m always talking about plain old Python Unicode text strings.</p>&#13;
</div>&#13;
&#13;
<p>Why have two kinds of quote characters?&#13;
The main purpose is to create strings&#13;
containing quote characters.&#13;
You can have single quotes inside double-quoted&#13;
strings, or double quotes inside&#13;
single-quoted strings:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">"'Nay!' said the naysayer. 'Neigh?' said the horse."</code>&#13;
<code class="go">"'Nay!' said the naysayer. 'Neigh?' said the horse."</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'The rare double quote in captivity: ".'</code>&#13;
<code class="go">'The rare double quote in captivity: ".'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'A "two by four" is actually 1 1⁄2" × 3 1⁄2".'</code>&#13;
<code class="go">'A "two by four" is actually 1 1⁄2" × 3 1⁄2".'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">"'There's the man that shot my paw!' cried the limping hound."</code>&#13;
<code class="go">"'There's the man that shot my paw!' cried the limping hound."</code></pre>&#13;
&#13;
<p>You can also use three single quotes (<code>'''</code>)&#13;
or three double quotes (<code>"""</code>):</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="sd">'''Boom!'''</code>&#13;
<code class="go">'Boom'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="sd">"""Eek!"""</code>&#13;
<code class="go">'Eek!'</code></pre>&#13;
&#13;
<p>Triple quotes aren’t very useful for short&#13;
strings like these.&#13;
Their most common use is to create&#13;
<em>multiline strings</em>,&#13;
like this classic poem from Edward Lear:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code> <code class="o">=</code>  <code class="s">'''There was a Young Lady of Norway,</code>&#13;
<code class="gp">... </code><code class="s">Who casually sat in a doorway;</code>&#13;
<code class="gp">... </code><code class="s">When the door squeezed her flat,</code>&#13;
<code class="gp">... </code><code class="s">She exclaimed, "What of that?"</code>&#13;
<code class="gp">... </code><code class="s">This courageous Young Lady of Norway.'''</code>&#13;
<code class="go">&gt;&gt;&gt;</code></pre>&#13;
&#13;
<p>(This was entered in the interactive interpreter,&#13;
which prompted us with <code>&gt;&gt;&gt;</code> for the first line&#13;
and continuation prompts <code>...</code>&#13;
until we entered the final triple quotes&#13;
and went to the next line.)</p>&#13;
&#13;
<p>If you tried to create that poem without triple quotes,&#13;
Python would make a fuss when&#13;
you went to the second line:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code> <code class="o">=</code> <code class="s">'There was a young lady of Norway,</code>&#13;
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>&#13;
    <code class="n">poem</code> <code class="o">=</code> <code class="s">'There was a young lady of Norway,</code>&#13;
                                            <code class="o">^</code>&#13;
<code class="gr">SyntaxError</code>: <code class="n">EOL while scanning string literal</code>&#13;
<code class="go">&gt;&gt;&gt;</code></pre>&#13;
&#13;
<p>If you have multiple lines within triple quotes,&#13;
the line ending characters will be preserved in the string.&#13;
If you have leading or trailing spaces,&#13;
they’ll also be kept:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">poem2</code> <code class="o">=</code> <code class="s">'''I do not like thee, Doctor Fell.</code>&#13;
<code class="gp">... </code><code class="s">    The reason why, I cannot tell.</code>&#13;
<code class="gp">... </code><code class="s">    But this I know, and know full well:</code>&#13;
<code class="gp">... </code><code class="s">    I do not like thee, Doctor Fell.</code>&#13;
<code class="gp">... </code><code class="s">'''</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="n">poem2</code><code class="p">)</code>&#13;
<code class="go">I do not like thee, Doctor Fell.</code>&#13;
<code class="go">    The reason why, I cannot tell.</code>&#13;
<code class="go">    But this I know, and know full well:</code>&#13;
<code class="go">    I do not like thee, Doctor Fell.</code>&#13;
&#13;
<code class="go">&gt;&gt;&gt;</code></pre>&#13;
&#13;
<p><a data-primary="print() function" data-secondary="quotes with" data-type="indexterm" id="idm45795036575528"/>By the way,&#13;
there’s a difference between the output of <code>print()</code>&#13;
and the automatic echoing done by the interactive&#13;
interpreter:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">poem2</code>&#13;
<code class="go">'I do not like thee, Doctor Fell.\n    The reason why, I cannot tell.\n    But</code>&#13;
<code class="go">this I know, and know full well:\n    I do not like thee, Doctor Fell.\n'</code></pre>&#13;
&#13;
<p><code>print()</code> strips quotes from strings and prints their contents.&#13;
It’s meant for human output.&#13;
It helpfully adds a space between each of the things it prints,&#13;
and a newline at the end:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">'Give'</code><code class="p">,</code> <code class="s">"us"</code><code class="p">,</code> <code class="s">'''some'''</code><code class="p">,</code> <code class="s">"""space"""</code><code class="p">)</code>&#13;
<code class="go">Give us some space</code></pre>&#13;
&#13;
<p>If you don’t want the space or newline, <a data-type="xref" href="ch14.html#ch_files">Chapter 14</a> explains how to avoid them.</p>&#13;
&#13;
<p><a data-primary="interactive interpreter" data-type="indexterm" id="idm45795036478696"/>The interactive interpreter prints the string with&#13;
individual quotes&#13;
and <em>escape characters</em> such as <code>\n</code>,&#13;
which are explained in <a data-type="xref" href="#escape">“Escape with \”</a>.</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="sd">"""'Guten Morgen, mein Herr!'</code>&#13;
<code class="gp">... </code><code class="sd">said mad king Ludwig to his wig."""</code>&#13;
<code class="go">"'Guten Morgen, mein Herr!'\nsaid mad king Ludwig to his wig."</code></pre>&#13;
&#13;
<p>Finally, there is the <em>empty string</em>, which has no characters&#13;
at all but is perfectly valid.&#13;
You can create an empty string with&#13;
any of the aforementioned quotes:<a data-startref="ix_ch05-strings-asciidoc2" data-type="indexterm" id="idm45795036350344"/><a data-startref="ix_ch05-strings-asciidoc1" data-type="indexterm" id="idm45795036468600"/></p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">''</code>&#13;
<code class="go">''</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">""</code>&#13;
<code class="go">''</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="sd">''''''</code>&#13;
<code class="go">''</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="sd">""""""</code>&#13;
<code class="go">''</code>&#13;
<code class="go">&gt;&gt;&gt;</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Create with str()" data-type="sect1"><div class="sect1" id="str">&#13;
<h1>Create with str()</h1>&#13;
&#13;
<p><a data-primary="str() function" data-type="indexterm" id="idm45795036376664"/><a data-primary="strings" data-secondary="creating with str()" data-type="indexterm" id="idm45795036375960"/>You can make a string from another data type&#13;
by using the <code>str()</code> function:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="nb">str</code><code class="p">(</code><code class="mf">98.6</code><code class="p">)</code>&#13;
<code class="go">'98.6'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">str</code><code class="p">(</code><code class="mf">1.0e4</code><code class="p">)</code>&#13;
<code class="go">'10000.0'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">str</code><code class="p">(</code><code class="bp">True</code><code class="p">)</code>&#13;
<code class="go">'True'</code></pre>&#13;
&#13;
<p>Python uses the <code>str()</code> function&#13;
internally when you call <code>print()</code>&#13;
with objects that are not strings&#13;
and when doing <em>string formatting</em>,&#13;
which you’ll see later in this chapter.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Escape with \" data-type="sect1"><div class="sect1" id="escape">&#13;
<h1>Escape with \</h1>&#13;
&#13;
<p><a data-primary="\ (backslash)" data-type="indexterm" id="idm45795036340472"/><a data-primary="backslash (\)" data-type="indexterm" id="idm45795036339544"/><a data-primary="escape sequences" data-type="indexterm" id="idm45795036338872"/><a data-primary="sequences" data-secondary="escape sequences" data-type="indexterm" id="idm45795036338200"/><a data-primary="strings" data-secondary="escape sequences and" data-type="indexterm" id="idm45795036309736"/>Python lets you <em>escape</em> the meaning of some characters&#13;
within strings&#13;
to achieve effects that would otherwise be difficult to express.&#13;
By preceding a character with a backslash (<code>\</code>),&#13;
you give it a special meaning.&#13;
<a data-primary="\n (new line)" data-type="indexterm" id="idm45795036307656"/>The most common escape sequence is <code>\n</code>,&#13;
which means to begin a new line.&#13;
With this you can create multiline strings&#13;
from a one-line string:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">palindrome</code> <code class="o">=</code> <code class="s">'A man,</code><code class="se">\n</code><code class="s">A plan,</code><code class="se">\n</code><code class="s">A canal:</code><code class="se">\n</code><code class="s">Panama.'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="n">palindrome</code><code class="p">)</code>&#13;
<code class="go">A man,</code>&#13;
<code class="go">A plan,</code>&#13;
<code class="go">A canal:</code>&#13;
<code class="go">Panama.</code></pre>&#13;
&#13;
<p><a data-primary="\t (tab)" data-type="indexterm" id="idm45795036260568"/>You will see the escape sequence <code>\t</code> (tab) used to align text:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">'</code><code class="se">\t</code><code class="s">abc'</code><code class="p">)</code>&#13;
<code class="go">    abc</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">'a</code><code class="se">\t</code><code class="s">bc'</code><code class="p">)</code>&#13;
<code class="go">a    bc</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">'ab</code><code class="se">\t</code><code class="s">c'</code><code class="p">)</code>&#13;
<code class="go">ab	c</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">'abc</code><code class="se">\t</code><code class="s">'</code><code class="p">)</code>&#13;
<code class="go">abc</code></pre>&#13;
&#13;
<p>(The final string has a terminating tab which,&#13;
of course, you can’t see.)</p>&#13;
&#13;
<p>You might also need <code>\'</code> or <code>\"</code> to specify a&#13;
literal single or double&#13;
quote inside a string that’s quoted by the same character:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">testimony</code> <code class="o">=</code> <code class="s">"</code><code class="se">\"</code><code class="s">I did nothing!</code><code class="se">\"</code><code class="s"> he said. </code><code class="se">\"</code><code class="s">Or that other thing.</code><code class="se">\"</code><code class="s">"</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">testimony</code>&#13;
<code class="go">'"I did nothing!" he said. "Or that other thing."'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="n">testimony</code><code class="p">)</code>&#13;
<code class="go">"I did nothing!" he said. "Or that other thing."</code></pre>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">fact</code> <code class="o">=</code> <code class="s">"The world's largest rubber duck was 54'2</code><code class="se">\"</code><code class="s"> by 65'7</code><code class="se">\"</code><code class="s"> by 105'"</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="n">fact</code><code class="p">)</code>&#13;
<code class="go">The world's largest rubber duck was 54'2" by 65'7" by 105'</code></pre>&#13;
&#13;
<p><a data-primary="\ (backslash)" data-type="indexterm" id="idm45795036129432"/><a data-primary="backslash (\)" data-type="indexterm" id="idm45795036128824"/>And if you need a literal backslash,&#13;
type two of them (the first escapes the second):</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">speech</code> <code class="o">=</code> <code class="s">'The backslash (</code><code class="se">\\</code><code class="s">) bends over backwards to please you.'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="n">speech</code><code class="p">)</code>&#13;
<code class="go">The backslash (\) bends over backwards to please you.</code>&#13;
<code class="go">&gt;&gt;&gt;</code></pre>&#13;
&#13;
<p><a data-primary="escape sequences" data-type="indexterm" id="idm45795036100712"/><a data-primary="raw string" data-type="indexterm" id="idm45795036100104"/>As I mentioned early in this chapter,&#13;
a <em>raw string</em> negates these escapes:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">info</code> <code class="o">=</code> <code class="s">r'Type a \n to get a new line in a normal string'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">info</code>&#13;
<code class="go">'Type a \\n to get a new line in a normal string'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="n">info</code><code class="p">)</code>&#13;
<code class="go">Type a \n to get a new line in a normal string</code></pre>&#13;
&#13;
<p>(The extra backslash in the first <code>info</code> output was added by the interactive interpreter.)</p>&#13;
&#13;
<p>A raw string does not undo any real (not <code>'\n'</code>)&#13;
newlines:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code> <code class="o">=</code> <code class="s">r'''Boys and girls, come out to play.</code>&#13;
<code class="gp">... </code><code class="s">The moon doth shine as bright as day.'''</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code>&#13;
<code class="go">'Boys and girls, come out to play.\nThe moon doth shine as bright as day.'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="n">poem</code><code class="p">)</code>&#13;
<code class="go">Boys and girls, come out to play.</code>&#13;
<code class="go">The moon doth shine as bright as day.</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="pagebreak-before less_space" data-pdf-bookmark="Combine by Using +" data-type="sect1"><div class="sect1" id="idm45795036020520">&#13;
<h1>Combine by Using <code>+</code></h1>&#13;
&#13;
<p><a data-primary="+ operator" data-type="indexterm" id="idm45795036029624"/><a data-primary="combining strings" data-type="indexterm" id="idm45795036028920"/><a data-primary="concatenation" data-secondary="strings" data-type="indexterm" id="idm45795036028248"/><a data-primary="strings" data-secondary="combining" data-type="indexterm" id="idm45795036027304"/>You can combine literal strings&#13;
or string variables in Python&#13;
by using the <code>+</code> operator:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">'Release the kraken! '</code> <code class="o">+</code> <code class="s">'No, wait!'</code>&#13;
<code class="go">'Release the kraken! No, wait!'</code></pre>&#13;
&#13;
<p>You can also combine <em>literal strings</em>&#13;
(not string variables)&#13;
just by having one after the other:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">"My word! "</code> <code class="s">"A gentleman caller!"</code>&#13;
<code class="go">'My word! A gentleman caller!'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">"Alas! ""The kraken!"</code>&#13;
<code class="go">'Alas! The kraken!'</code></pre>&#13;
&#13;
<p>If you have a lot of these,&#13;
you can avoid escaping the line endings&#13;
by surrounding them with parentheses:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">vowels</code> <code class="o">=</code> <code class="p">(</code> <code class="s">'a'</code>&#13;
<code class="gp">... </code><code class="s">"e"</code> <code class="s">'''i'''</code>&#13;
<code class="gp">... </code><code class="s">'o'</code> <code class="s">"""u"""</code>&#13;
<code class="gp">... </code><code class="p">)</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">vowels</code>&#13;
<code class="go">'aeiou'</code></pre>&#13;
&#13;
<p>Python does <em>not</em> add spaces for you&#13;
when concatenating strings,&#13;
so in some earlier examples,&#13;
we needed to include spaces explicitly.&#13;
Python <em>does</em> add a space between each argument&#13;
to a <code>print()</code> statement&#13;
and a newline at the end.</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">=</code> <code class="s">'Duck.'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">b</code> <code class="o">=</code> <code class="n">a</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">c</code> <code class="o">=</code> <code class="s">'Grey Duck!'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">+</code> <code class="n">b</code> <code class="o">+</code> <code class="n">c</code>&#13;
<code class="go">'Duck.Duck.Grey Duck!'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="n">a</code><code class="p">,</code> <code class="n">b</code><code class="p">,</code> <code class="n">c</code><code class="p">)</code>&#13;
<code class="go">Duck. Duck. Grey Duck!</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Duplicate with *" data-type="sect1"><div class="sect1" id="idm45795036031000">&#13;
<h1>Duplicate with *</h1>&#13;
&#13;
<p><a data-primary="* (asterisk)" data-secondary="duplicating strings with" data-type="indexterm" id="idm45795035847368"/><a data-primary="asterisk (*)" data-secondary="duplicating strings with" data-type="indexterm" id="idm45795035846456"/><a data-primary="strings" data-secondary="duplicating" data-type="indexterm" id="idm45795035845544"/>You use the <code>*</code> operator to duplicate a string.&#13;
Try typing these lines&#13;
into your interactive interpreter&#13;
and see what they print:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">start</code> <code class="o">=</code> <code class="s">'Na '</code> <code class="o">*</code> <code class="mi">4</code> <code class="o">+</code> <code class="s">'</code><code class="se">\n</code><code class="s">'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">middle</code> <code class="o">=</code> <code class="s">'Hey '</code> <code class="o">*</code> <code class="mi">3</code> <code class="o">+</code> <code class="s">'</code><code class="se">\n</code><code class="s">'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">end</code> <code class="o">=</code> <code class="s">'Goodbye.'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="n">start</code> <code class="o">+</code> <code class="n">start</code> <code class="o">+</code> <code class="n">middle</code> <code class="o">+</code> <code class="n">end</code><code class="p">)</code></pre>&#13;
&#13;
<p>Notice that the <code>*</code> has higher precedence than <code>+</code>,&#13;
so the string is duplicated before the line feed is tacked on.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Get a Character with []" data-type="sect1"><div class="sect1" id="idm45795035774712">&#13;
<h1>Get a Character with []</h1>&#13;
&#13;
<p><a data-primary="offset" data-secondary="character extraction from string" data-type="indexterm" id="idm45795035773144"/><a data-primary="strings" data-secondary="getting single character from" data-type="indexterm" id="idm45795035772200"/>To get a single character from a string,&#13;
specify its <em>offset</em> inside square brackets&#13;
after the string’s name.&#13;
The first (leftmost) offset&#13;
is 0, the next is 1, and so on.&#13;
The last (rightmost) offset&#13;
can be specified with –1,&#13;
so you don’t have to count;&#13;
going to the left are –2, –3, and so on:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code> <code class="o">=</code> <code class="s">'abcdefghijklmnopqrstuvwxyz'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code>&#13;
<code class="go">'a'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code>&#13;
<code class="go">'b'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="o">-</code><code class="mi">1</code><code class="p">]</code>&#13;
<code class="go">'z'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="o">-</code><code class="mi">2</code><code class="p">]</code>&#13;
<code class="go">'y'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="mi">25</code><code class="p">]</code>&#13;
<code class="go">'z'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="mi">5</code><code class="p">]</code>&#13;
<code class="go">'f'</code></pre>&#13;
&#13;
<p>If you specify an offset that is the length&#13;
of the string or longer&#13;
(remember, offsets go from 0 to length–1),&#13;
you’ll get an exception:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="mi">100</code><code class="p">]</code>&#13;
<code class="gt">Traceback (most recent call last):</code>&#13;
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>&#13;
<code class="gr">IndexError</code>: <code class="n">string index out of range</code></pre>&#13;
&#13;
<p>Indexing works the same with the other sequence types&#13;
(lists and tuples), which I cover in <a data-type="xref" href="ch07.html#ch_lists">Chapter 7</a>.</p>&#13;
&#13;
<p>Because strings are immutable,&#13;
you can’t insert a character directly into one&#13;
or change the character at a specific index.&#13;
Let’s try to change <code>'Henny'</code> to <code>'Penny'</code>&#13;
and see what happens:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">name</code> <code class="o">=</code> <code class="s">'Henny'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">name</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code> <code class="o">=</code> <code class="s">'P'</code>&#13;
<code class="gt">Traceback (most recent call last):</code>&#13;
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>&#13;
<code class="gr">TypeError</code>: <code class="n">'str' object does not support item assignment</code></pre>&#13;
&#13;
<p>Instead you need to use some combination of string functions&#13;
such as <code>replace()</code> or a <em>slice</em> (which we look at in a moment):</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">name</code> <code class="o">=</code> <code class="s">'Henny'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">name</code><code class="o">.</code><code class="n">replace</code><code class="p">(</code><code class="s">'H'</code><code class="p">,</code> <code class="s">'P'</code><code class="p">)</code>&#13;
<code class="go">'Penny'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'P'</code> <code class="o">+</code> <code class="n">name</code><code class="p">[</code><code class="mi">1</code><code class="p">:]</code>&#13;
<code class="go">'Penny'</code></pre>&#13;
&#13;
<p>We didn’t change the value of <code>name</code>.&#13;
The interactive interpreter just printed the&#13;
result of the replacement.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Get a Substring with a Slice" data-type="sect1"><div class="sect1" id="string_slice">&#13;
<h1>Get a Substring with a Slice</h1>&#13;
&#13;
<p><a data-primary="offset" data-secondary="substring extraction with slice" data-type="indexterm" id="ix_ch05-strings-asciidoc3"/><a data-primary="slice" data-secondary="substring extraction with" data-type="indexterm" id="ix_ch05-strings-asciidoc4"/><a data-primary="strings" data-secondary="substring extraction with slice" data-type="indexterm" id="ix_ch05-strings-asciidoc5"/><a data-primary="substrings" data-secondary="extraction with slice" data-type="indexterm" id="ix_ch05-strings-asciidoc6"/>You can extract a <em>substring</em>&#13;
(a part of a string)&#13;
from a string by using a <em>slice</em>.&#13;
You define a slice by using square brackets,&#13;
a <em><code>start</code></em> offset,&#13;
an <em><code>end</code></em> offset,&#13;
and an optional <em><code>step</code></em> count between them.&#13;
You can omit some of these.&#13;
The slice will include&#13;
characters from offset <em><code>start</code></em> to one before <em><code>end</code></em>:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p><code>[:]</code> extracts the entire sequence from start to end.</p>&#13;
</li>&#13;
<li>&#13;
<p><code>[</code> <em><code>start</code></em> <code>:]</code> specifies from the&#13;
<em><code>start</code></em> offset to the end.</p>&#13;
</li>&#13;
<li>&#13;
<p><code>[:</code> <em><code>end</code></em> <code>]</code> specifies from the beginning to the&#13;
<em><code>end</code></em> offset minus 1.</p>&#13;
</li>&#13;
<li>&#13;
<p><code>[</code> <em><code>start</code></em> <code>:</code> <em><code>end</code></em> <code>]</code> indicates from the&#13;
<em><code>start</code></em> offset to the <em><code>end</code></em> offset minus 1.</p>&#13;
</li>&#13;
<li>&#13;
<p><code>[</code> <em><code>start</code></em> <code>:</code> <em><code>end</code></em> <code>:</code> <em><code>step</code></em> <code>]</code>&#13;
extracts from the <em><code>start</code></em> offset to the&#13;
<em><code>end</code></em> offset minus 1, skipping characters by <em><code>step</code></em>.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>As before, offsets go 0, 1,&#13;
and so on from the start to the right,&#13;
and –1,–2,&#13;
and so forth from the end to the left.&#13;
If you don’t specify <em><code>start</code></em>, the slice uses 0 (the beginning).&#13;
If you don’t specify <em><code>end</code></em>, it uses the end of the string.</p>&#13;
&#13;
<p>Let’s make a string of the lowercase English letters:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code> <code class="o">=</code> <code class="s">'abcdefghijklmnopqrstuvwxyz'</code></pre>&#13;
&#13;
<p>Using a plain <code>:</code> is the same as&#13;
<code>0:</code> (the entire string):</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[:]</code>&#13;
<code class="go">'abcdefghijklmnopqrstuvwxyz'</code></pre>&#13;
&#13;
<p>Here’s an example from offset 20 to the end:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="mi">20</code><code class="p">:]</code>&#13;
<code class="go">'uvwxyz'</code></pre>&#13;
&#13;
<p>Now, from offset 10 to the end:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="mi">10</code><code class="p">:]</code>&#13;
<code class="go">'klmnopqrstuvwxyz'</code></pre>&#13;
&#13;
<p>And another, offset 12 through 14.&#13;
Python does not include the end offset in the slice.&#13;
The start offset is <em>inclusive</em>,&#13;
and the end offset is <em>exclusive</em>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="mi">12</code><code class="p">:</code><code class="mi">15</code><code class="p">]</code>&#13;
<code class="go">'mno'</code></pre>&#13;
&#13;
<p class="pagebreak-before">The three last characters:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="o">-</code><code class="mi">3</code><code class="p">:]</code>&#13;
<code class="go">'xyz'</code></pre>&#13;
&#13;
<p>In this next example,&#13;
we go from offset 18 to the fourth before the end;&#13;
notice the difference from the previous example,&#13;
in which starting at –3 gets the <code>x</code>,&#13;
but ending at –3 actually stops at –4, the <code>w</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="mi">18</code><code class="p">:</code><code class="o">-</code><code class="mi">3</code><code class="p">]</code>&#13;
<code class="go">'stuvw'</code></pre>&#13;
&#13;
<p>In the following,&#13;
we extract from 6 before the end to 3 before the end:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="o">-</code><code class="mi">6</code><code class="p">:</code><code class="o">-</code><code class="mi">2</code><code class="p">]</code>&#13;
<code class="go">'uvwx'</code></pre>&#13;
&#13;
<p>If you want a step size other than 1,&#13;
specify it after a second colon,&#13;
as shown in the next series of examples.</p>&#13;
&#13;
<p>From the start to the end,&#13;
in steps of 7 characters:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[::</code><code class="mi">7</code><code class="p">]</code>&#13;
<code class="go">'ahov'</code></pre>&#13;
&#13;
<p>From offset 4 to 19,&#13;
by 3:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="mi">4</code><code class="p">:</code><code class="mi">20</code><code class="p">:</code><code class="mi">3</code><code class="p">]</code>&#13;
<code class="go">'ehknqt'</code></pre>&#13;
&#13;
<p>From offset 19 to the end,&#13;
by 4:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="mi">19</code><code class="p">::</code><code class="mi">4</code><code class="p">]</code>&#13;
<code class="go">'tx'</code></pre>&#13;
&#13;
<p>From the start to offset 20 by 5:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[:</code><code class="mi">21</code><code class="p">:</code><code class="mi">5</code><code class="p">]</code>&#13;
<code class="go">'afkpu'</code></pre>&#13;
&#13;
<p>(Again, the <em>end</em> needs to be one more than the actual offset.)</p>&#13;
&#13;
<p>And that’s not all!&#13;
Given a negative step size,&#13;
this handy Python slicer can also step backward.&#13;
This starts at the end and ends at the start,&#13;
skipping nothing:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="o">-</code><code class="mi">1</code><code class="p">::</code><code class="o">-</code><code class="mi">1</code><code class="p">]</code>&#13;
<code class="go">'zyxwvutsrqponmlkjihgfedcba'</code></pre>&#13;
&#13;
<p>It turns out that you can get the same result by using this:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[::</code><code class="o">-</code><code class="mi">1</code><code class="p">]</code>&#13;
<code class="go">'zyxwvutsrqponmlkjihgfedcba'</code></pre>&#13;
&#13;
<p>Slices are more forgiving of bad offsets&#13;
than are single-index lookups&#13;
with <code>[]</code>.&#13;
A slice offset earlier than the beginning of a string&#13;
is treated as <code>0</code>,&#13;
and one after the end is treated as <code>-1</code>,&#13;
as is demonstrated in this next series of examples.</p>&#13;
&#13;
<p>From 50 before the end to the end:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="o">-</code><code class="mi">50</code><code class="p">:]</code>&#13;
<code class="go">'abcdefghijklmnopqrstuvwxyz'</code></pre>&#13;
&#13;
<p>From 51 before the end to 50 before the end:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="o">-</code><code class="mi">51</code><code class="p">:</code><code class="o">-</code><code class="mi">50</code><code class="p">]</code>&#13;
<code class="go">''</code></pre>&#13;
&#13;
<p>From the start to 69 after the start:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[:</code><code class="mi">70</code><code class="p">]</code>&#13;
<code class="go">'abcdefghijklmnopqrstuvwxyz'</code></pre>&#13;
&#13;
<p>From 70 after the start to 70 after the start:<a data-startref="ix_ch05-strings-asciidoc6" data-type="indexterm" id="idm45795035038152"/><a data-startref="ix_ch05-strings-asciidoc5" data-type="indexterm" id="idm45795035037544"/><a data-startref="ix_ch05-strings-asciidoc4" data-type="indexterm" id="idm45795035036936"/><a data-startref="ix_ch05-strings-asciidoc3" data-type="indexterm" id="idm45795035036328"/></p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">letters</code><code class="p">[</code><code class="mi">70</code><code class="p">:</code><code class="mi">71</code><code class="p">]</code>&#13;
<code class="go">''</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Get Length with len()" data-type="sect1"><div class="sect1" id="idm45795035031624">&#13;
<h1>Get Length with len()</h1>&#13;
&#13;
<p><a data-primary="len() function" data-secondary="determining string length with" data-type="indexterm" id="idm45795035562408"/><a data-primary="strings" data-secondary="determining length of" data-type="indexterm" id="idm45795035072248"/>So far,&#13;
we’ve used special punctuation characters&#13;
such as <code>+</code> to manipulate strings.&#13;
But there are only so many of these.&#13;
Now let’s begin to use some of Python’s built-in <em>functions</em>:&#13;
named pieces of code that perform&#13;
certain operations.</p>&#13;
&#13;
<p>The <code>len()</code> function counts characters in a string:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="nb">len</code><code class="p">(</code><code class="n">letters</code><code class="p">)</code>&#13;
<code class="go">26</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">empty</code> <code class="o">=</code> <code class="s">""</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="nb">len</code><code class="p">(</code><code class="n">empty</code><code class="p">)</code>&#13;
<code class="go">0</code></pre>&#13;
&#13;
<p>You can use <code>len()</code> with other sequence types, too,&#13;
as you’ll see in <a data-type="xref" href="ch07.html#ch_lists">Chapter 7</a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Split with split()" data-type="sect1"><div class="sect1" id="string_split">&#13;
<h1>Split with split()</h1>&#13;
&#13;
<p><a data-primary="split() function" data-type="indexterm" id="idm45795034976872"/><a data-primary="strings" data-secondary="splitting" data-type="indexterm" id="idm45795034975944"/>Unlike <code>len()</code>, some functions are specific to strings.&#13;
To use a string function, type the name of the string,&#13;
a dot, the name of the function,&#13;
and any <em>arguments</em> that the function needs:&#13;
<code><em>string</em>.<em>function</em>(<em>arguments</em>)</code>.&#13;
There’s a longer discussion of functions in <a data-type="xref" href="ch09.html#ch_functions">Chapter 9</a>.</p>&#13;
&#13;
<p>You can use the built-in string <code>split()</code>&#13;
function to break a string into a <em>list</em> of smaller strings&#13;
based on some <em>separator</em>.&#13;
We look at lists in <a data-type="xref" href="ch07.html#ch_lists">Chapter 7</a>.&#13;
A list is a sequence of values,&#13;
separated by commas and surrounded by square brackets:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">tasks</code> <code class="o">=</code> <code class="s">'get gloves,get mask,give cat vitamins,call ambulance'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">tasks</code><code class="o">.</code><code class="n">split</code><code class="p">(</code><code class="s">','</code><code class="p">)</code>&#13;
<code class="go">['get gloves', 'get mask', 'give cat vitamins', 'call ambulance']</code></pre>&#13;
&#13;
<p>In the preceding example,&#13;
the string was called <code>tasks</code>&#13;
and the string function was called <code>split()</code>,&#13;
with the single separator argument <code>','</code>.&#13;
If you don’t specify a separator,&#13;
<code>split()</code>&#13;
uses any sequence of white space characters—newlines, spaces, and tabs:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">tasks</code><code class="o">.</code><code class="n">split</code><code class="p">()</code>&#13;
<code class="go">['get', 'gloves,get', 'mask,give', 'cat', 'vitamins,call', 'ambulance']</code></pre>&#13;
&#13;
<p>You still need the parentheses when calling&#13;
<code>split</code> with no arguments—that’s how Python knows you’re calling a function.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Combine by Using join()" data-type="sect1"><div class="sect1" id="join">&#13;
<h1>Combine by Using join()</h1>&#13;
&#13;
<p><a data-primary="join() function" data-type="indexterm" id="idm45795034920808"/><a data-primary="strings" data-secondary="combining" data-type="indexterm" id="idm45795034919880"/>Not too surprisingly,&#13;
the <code>join()</code> function is the opposite of <code>split()</code>:&#13;
it collapses a list of strings into a single string.&#13;
It looks a bit backward because you specify the string that glues&#13;
everything together first,&#13;
and&#13;
then the list of strings to glue:&#13;
<em><code>string</code></em> <code>.join(</code> <em><code>list</code></em> <code>)</code>.&#13;
So, to join the list <code>lines</code> with separating newlines,&#13;
you would say <code>'\n'.join(lines)</code>.&#13;
In the following example,&#13;
let’s join some names in a list with a comma and a space:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">crypto_list</code> <code class="o">=</code> <code class="p">[</code><code class="s">'Yeti'</code><code class="p">,</code> <code class="s">'Bigfoot'</code><code class="p">,</code> <code class="s">'Loch Ness Monster'</code><code class="p">]</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">crypto_string</code> <code class="o">=</code> <code class="s">', '</code><code class="o">.</code><code class="n">join</code><code class="p">(</code><code class="n">crypto_list</code><code class="p">)</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">'Found and signing book deals:'</code><code class="p">,</code> <code class="n">crypto_string</code><code class="p">)</code>&#13;
<code class="go">Found and signing book deals: Yeti, Bigfoot, Loch Ness Monster</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Substitute by Using replace()" data-type="sect1"><div class="sect1" id="replace">&#13;
<h1>Substitute by Using replace()</h1>&#13;
&#13;
<p><a data-primary="replace() function" data-type="indexterm" id="idm45795017275800"/><a data-primary="strings" data-secondary="substring substitution" data-type="indexterm" id="idm45795017275096"/><a data-primary="substrings" data-secondary="substitution with replace()" data-type="indexterm" id="idm45795017274152"/>You use <code>replace()</code> for simple substring substitution.&#13;
Give it the old substring, the new one,&#13;
and how many instances of the old substring to replace.&#13;
It returns the changed string but does not&#13;
modify the original string.&#13;
If you omit this final count argument, it replaces all instances.&#13;
In this example,&#13;
only one string (<code>'duck'</code>)&#13;
is matched and replaced in the returned string:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code> <code class="o">=</code> <code class="s">"a duck goes into a bar..."</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code><code class="o">.</code><code class="n">replace</code><code class="p">(</code><code class="s">'duck'</code><code class="p">,</code> <code class="s">'marmoset'</code><code class="p">)</code>&#13;
<code class="go">'a marmoset goes into a bar...'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code>&#13;
<code class="go">'a duck goes into a bar...'</code></pre>&#13;
&#13;
<p>Change up to 100 of them:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code><code class="o">.</code><code class="n">replace</code><code class="p">(</code><code class="s">'a '</code><code class="p">,</code> <code class="s">'a famous '</code><code class="p">,</code> <code class="mi">100</code><code class="p">)</code>&#13;
<code class="go">'a famous duck goes into a famous bar...'</code></pre>&#13;
&#13;
<p>When you know the exact substring(s) you want to change,&#13;
<code>replace()</code>&#13;
is a good choice.&#13;
But watch out.&#13;
In the second example,&#13;
if we had substituted for the single character string <code>'a'</code>&#13;
rather than the two character string <code>'a '</code>&#13;
(<code>a</code> followed by a space),&#13;
we would have also changed <code>a</code> in the middle of other words:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code><code class="o">.</code><code class="n">replace</code><code class="p">(</code><code class="s">'a'</code><code class="p">,</code> <code class="s">'a famous'</code><code class="p">,</code> <code class="mi">100</code><code class="p">)</code>&#13;
<code class="go">'a famous duck goes into a famous ba famousr...'</code></pre>&#13;
&#13;
<p>Sometimes, you want to ensure that the substring is a whole word,&#13;
or the beginning of a word, and so on.&#13;
In those cases, you need <em>regular expressions</em>,&#13;
which are&#13;
described in numbing detail in <a data-type="xref" href="ch12.html#ch_munging">Chapter 12</a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Strip with strip()" data-type="sect1"><div class="sect1" id="strip">&#13;
<h1>Strip with strip()</h1>&#13;
&#13;
<p><a data-primary="padding characters, removing" data-type="indexterm" id="idm45795017171160"/><a data-primary="strings" data-secondary="stripping padding characters from" data-type="indexterm" id="idm45795017170088"/><a data-primary="strip() function" data-type="indexterm" id="idm45795017169176"/><a data-primary="whitespace characters, stripping" data-type="indexterm" id="idm45795017168504"/>It’s very common to strip leading or trailing “padding”&#13;
characters from a string,&#13;
especially spaces.&#13;
The <code>strip()</code> functions shown here assume that you want to get rid of&#13;
whitespace characters (<code>' '</code>, <code>'\t'</code>, <code>'\n'</code>)&#13;
if you don’t give them an argument.&#13;
<code>strip()</code> strips both ends,&#13;
<code>lstrip()</code> only from the left,&#13;
and <code>rstrip()</code> only from the right.&#13;
Let’s say the string variable <code>world</code>&#13;
contains the string <code>"earth"</code>&#13;
floating in spaces:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">world</code> <code class="o">=</code> <code class="s">"    earth   "</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">world</code><code class="o">.</code><code class="n">strip</code><code class="p">()</code>&#13;
<code class="go">'earth'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">world</code><code class="o">.</code><code class="n">strip</code><code class="p">(</code><code class="s">' '</code><code class="p">)</code>&#13;
<code class="go">'earth'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">world</code><code class="o">.</code><code class="n">lstrip</code><code class="p">()</code>&#13;
<code class="go">'earth   '</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">world</code><code class="o">.</code><code class="n">rstrip</code><code class="p">()</code>&#13;
<code class="go">'    earth'</code></pre>&#13;
&#13;
<p>If the character were not there, nothing happens:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">world</code><code class="o">.</code><code class="n">strip</code><code class="p">(</code><code class="s">'!'</code><code class="p">)</code>&#13;
<code class="go">'    earth   '</code></pre>&#13;
&#13;
<p>Besides no argument (meaning whitespace  characters)&#13;
or a single character,&#13;
you can also tell <code>strip()</code> to remove&#13;
any character in a multicharacter string:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">blurt</code> <code class="o">=</code> <code class="s">"What the...!!?"</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">blurt</code><code class="o">.</code><code class="n">strip</code><code class="p">(</code><code class="s">'.?!'</code><code class="p">)</code>&#13;
<code class="go">'What the'</code></pre>&#13;
&#13;
<p><a data-type="xref" href="app05.html#app_cheatsheets">Appendix E</a> shows some definitions&#13;
of character groups that are useful with <code>strip()</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">string</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">string</code><code class="o">.</code><code class="n">whitespace</code>&#13;
<code class="go">' \t\n\r\x0b\x0c'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">string</code><code class="o">.</code><code class="n">punctuation</code>&#13;
<code class="go">'!"#$%&amp;\'()*+,-./:;&lt;=&gt;?@[\\]^_`{|}~'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">blurt</code> <code class="o">=</code> <code class="s">"What the...!!?"</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">blurt</code><code class="o">.</code><code class="n">strip</code><code class="p">(</code><code class="n">string</code><code class="o">.</code><code class="n">punctuation</code><code class="p">)</code>&#13;
<code class="go">'What the'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">prospector</code> <code class="o">=</code> <code class="s">"What in tarnation ...??!!"</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">prospector</code><code class="o">.</code><code class="n">strip</code><code class="p">(</code><code class="n">string</code><code class="o">.</code><code class="n">whitespace</code> <code class="o">+</code> <code class="n">string</code><code class="o">.</code><code class="n">punctuation</code><code class="p">)</code>&#13;
<code class="go">'What in tarnation'</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Search and Select" data-type="sect1"><div class="sect1" id="str_search">&#13;
<h1>Search and Select</h1>&#13;
&#13;
<p><a data-primary="strings" data-secondary="searching and selecting" data-type="indexterm" id="ix_ch05-strings-asciidoc7"/>Python has a large set of string functions.&#13;
Let’s explore how the most common of them work.&#13;
Our test subject is the following string containing the&#13;
text of the immortal poem&#13;
“What Is Liquid?”&#13;
by Margaret Cavendish, Duchess of Newcastle:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code> <code class="o">=</code> <code class="s">'''All that doth flow we cannot liquid name</code>&#13;
<code class="gp">... </code><code class="s">Or else would fire and water be the same;</code>&#13;
<code class="gp">... </code><code class="s">But that is liquid which is moist and wet</code>&#13;
<code class="gp">... </code><code class="s">Fire that property can never get.</code>&#13;
<code class="gp">... </code><code class="s">Then 'tis not cold that doth the fire put out</code>&#13;
<code class="gp">... </code><code class="s">But 'tis the wet that makes it die, no doubt.'''</code></pre>&#13;
&#13;
<p>Inspiring!</p>&#13;
&#13;
<p>To begin, get the first 13 characters (offsets 0 to 12):</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="p">[:</code><code class="mi">13</code><code class="p">]</code>&#13;
<code class="go">'All that doth'</code></pre>&#13;
&#13;
<p>How many characters are in this poem?&#13;
(Spaces and newlines are included in&#13;
the count.)</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="nb">len</code><code class="p">(</code><code class="n">poem</code><code class="p">)</code>&#13;
<code class="go">250</code></pre>&#13;
&#13;
<p>Does it start with the letters <code>All</code>?</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="o">.</code><code class="n">startswith</code><code class="p">(</code><code class="s">'All'</code><code class="p">)</code>&#13;
<code class="go">True</code></pre>&#13;
&#13;
<p>Does it end with <code>That's all, folks!</code>?</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="o">.</code><code class="n">endswith</code><code class="p">(</code><code class="s">'That</code><code class="se">\'</code><code class="s">s all, folks!'</code><code class="p">)</code>&#13;
<code class="go">False</code></pre>&#13;
&#13;
<p><a data-primary="find() function" data-type="indexterm" id="idm45795016833272"/><a data-primary="index() function" data-secondary="for finding offset of substring" data-type="indexterm" id="idm45795016832440"/><a data-primary="offset" data-secondary="find() function" data-type="indexterm" id="idm45795016831592"/><a data-primary="offset" data-secondary="index() function" data-type="indexterm" id="idm45795016906728"/>Python has two methods (<code>find()</code> and <code>index()</code>)&#13;
for finding the offset of a substring,&#13;
and has two versions of each&#13;
(starting from the beginning or the end).&#13;
They work the same if the substring is found.&#13;
If it isn’t,&#13;
<code>find()</code> returns <code>-1</code>, and <code>index()</code> raises an exception.</p>&#13;
&#13;
<p>Let’s find the offset of the first occurrence&#13;
of the word <code>the</code> in the poem:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">word</code> <code class="o">=</code> <code class="s">'the'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="o">.</code><code class="n">find</code><code class="p">(</code><code class="n">word</code><code class="p">)</code>&#13;
<code class="go">73</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="o">.</code><code class="n">index</code><code class="p">(</code><code class="n">word</code><code class="p">)</code>&#13;
<code class="go">73</code></pre>&#13;
&#13;
<p>And the offset of the last <code>the</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">word</code> <code class="o">=</code> <code class="s">'the'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="o">.</code><code class="n">rfind</code><code class="p">(</code><code class="n">word</code><code class="p">)</code>&#13;
<code class="go">214</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="o">.</code><code class="n">rindex</code><code class="p">(</code><code class="n">word</code><code class="p">)</code>&#13;
<code class="go">214</code></pre>&#13;
&#13;
<p>But if the substring isn’t in there:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">word</code> <code class="o">=</code> <code class="s">"duck"</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="o">.</code><code class="n">find</code><code class="p">(</code><code class="n">word</code><code class="p">)</code>&#13;
<code class="go">-1</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="o">.</code><code class="n">rfind</code><code class="p">(</code><code class="n">word</code><code class="p">)</code>&#13;
<code class="go">-1</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="o">.</code><code class="n">index</code><code class="p">(</code><code class="n">word</code><code class="p">)</code>&#13;
<code class="gt">Traceback (most recent call last):</code>&#13;
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>&#13;
<code class="gr">ValueError</code>: <code class="n">substring not found</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="o">.</code><code class="n">rfind</code><code class="p">(</code><code class="n">word</code><code class="p">)</code>&#13;
<code class="go">-1</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="o">.</code><code class="n">rindex</code><code class="p">(</code><code class="n">word</code><code class="p">)</code>&#13;
<code class="gt">Traceback (most recent call last):</code>&#13;
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>&#13;
<code class="gr">ValueError</code>: <code class="n">substring not found</code></pre>&#13;
&#13;
<p>How many times does the three-letter sequence <code>the</code>&#13;
occur?</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">word</code> <code class="o">=</code> <code class="s">'the'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="o">.</code><code class="n">count</code><code class="p">(</code><code class="n">word</code><code class="p">)</code>&#13;
<code class="go">3</code></pre>&#13;
&#13;
<p>Are all of the characters in the poem either letters or numbers?</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">poem</code><code class="o">.</code><code class="n">isalnum</code><code class="p">()</code>&#13;
<code class="go">False</code></pre>&#13;
&#13;
<p>Nope, there were some punctuation characters.<a data-startref="ix_ch05-strings-asciidoc7" data-type="indexterm" id="idm45795016577144"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Case" data-type="sect1"><div class="sect1" id="case">&#13;
<h1>Case</h1>&#13;
&#13;
<p><a data-primary="case" data-type="indexterm" id="idm45795016597544"/><a data-primary="strings" data-secondary="case" data-type="indexterm" id="idm45795016596840"/>In this section,&#13;
we look at some more uses of the built-in string functions.&#13;
Our test string is again the following:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code> <code class="o">=</code> <code class="s">'a duck goes into a bar...'</code></pre>&#13;
&#13;
<p>Remove <code>.</code> sequences from both ends:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code><code class="o">.</code><code class="n">strip</code><code class="p">(</code><code class="s">'.'</code><code class="p">)</code>&#13;
<code class="go">'a duck goes into a bar'</code></pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Because strings are immutable,&#13;
none of these examples actually changes the&#13;
<code>setup</code> string.&#13;
Each example just takes the value of <code>setup</code>,&#13;
does something to it, and returns the result as a new string.</p>&#13;
</div>&#13;
&#13;
<p><a data-primary="capitalization" data-type="indexterm" id="idm45795016523544"/>Capitalize the first word:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code><code class="o">.</code><code class="n">capitalize</code><code class="p">()</code>&#13;
<code class="go">'A duck goes into a bar...'</code></pre>&#13;
&#13;
<p>Capitalize all the words:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code><code class="o">.</code><code class="n">title</code><code class="p">()</code>&#13;
<code class="go">'A Duck Goes Into A Bar...'</code></pre>&#13;
&#13;
<p>Convert all characters to uppercase:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code><code class="o">.</code><code class="n">upper</code><code class="p">()</code>&#13;
<code class="go">'A DUCK GOES INTO A BAR...'</code></pre>&#13;
&#13;
<p>Convert all characters to lowercase:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code><code class="o">.</code><code class="n">lower</code><code class="p">()</code>&#13;
<code class="go">'a duck goes into a bar...'</code></pre>&#13;
&#13;
<p>Swap uppercase and lowercase:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code><code class="o">.</code><code class="n">swapcase</code><code class="p">()</code>&#13;
<code class="go">'A DUCK GOES INTO A BAR...'</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Alignment" data-type="sect1"><div class="sect1" id="alignment">&#13;
<h1>Alignment</h1>&#13;
&#13;
<p><a data-primary="alignment functions" data-type="indexterm" id="idm45795016357832"/>Now, let’s work with some layout alignment functions.&#13;
The string is aligned within the specified&#13;
total number of spaces (<code>30</code> here).</p>&#13;
&#13;
<p><a data-primary="centering of string" data-type="indexterm" id="idm45795016419528"/>Center the string within 30 spaces:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code><code class="o">.</code><code class="n">center</code><code class="p">(</code><code class="mi">30</code><code class="p">)</code>&#13;
<code class="go">'  a duck goes into a bar...   '</code></pre>&#13;
&#13;
<p><a data-primary="justification" data-type="indexterm" id="idm45795016417160"/><a data-primary="left justification" data-type="indexterm" id="idm45795016416552"/>Left justify:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code><code class="o">.</code><code class="n">ljust</code><code class="p">(</code><code class="mi">30</code><code class="p">)</code>&#13;
<code class="go">'a duck goes into a bar...     '</code></pre>&#13;
&#13;
<p><a data-primary="right justification" data-type="indexterm" id="idm45795016339672"/>Right justify:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">setup</code><code class="o">.</code><code class="n">rjust</code><code class="p">(</code><code class="mi">30</code><code class="p">)</code>&#13;
<code class="go">'     a duck goes into a bar...'</code></pre>&#13;
&#13;
<p>Next, we look at more ways to align a string.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Formatting" data-type="sect1"><div class="sect1" id="str_formatting">&#13;
<h1>Formatting</h1>&#13;
&#13;
<p><a data-primary="formatting" data-secondary="strings" data-type="indexterm" id="ix_ch05-strings-asciidoc8"/><a data-primary="strings" data-secondary="formatting" data-type="indexterm" id="ix_ch05-strings-asciidoc9"/>You’ve seen that you can <em>concatenate</em> strings by using <code>+</code>.&#13;
Let’s look at how to <em>interpolate</em> data values&#13;
into strings using various formats.&#13;
You can use this to produce reports, forms,&#13;
and other outputs where appearances need to be just so.</p>&#13;
&#13;
<p>Besides the functions in the previous section,&#13;
Python has three ways of formatting strings:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p><em>old style</em> (supported in Python 2 and 3)</p>&#13;
</li>&#13;
<li>&#13;
<p><em>new style</em> (Python 2.6 and up)</p>&#13;
</li>&#13;
<li>&#13;
<p><em>f-strings</em> (Python 3.6 and up)</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Old style: %" data-type="sect2"><div class="sect2" id="str_percent">&#13;
<h2>Old style: %</h2>&#13;
&#13;
<p><a data-primary="% (per cent sign)" data-type="indexterm" id="ix_ch05-strings-asciidoc10"/><a data-primary="formatting" data-secondary="old style (%)" data-type="indexterm" id="ix_ch05-strings-asciidoc11"/><a data-primary="per cent sign (%)" data-type="indexterm" id="ix_ch05-strings-asciidoc12"/>The old style of string formatting&#13;
has the form <em><code>format_string</code></em> <code>%</code> <em><code>data</code></em>.&#13;
Inside the format string are interpolation sequences.&#13;
<a data-type="xref" href="#conversion_types_table">Table 5-1</a> illustrates that&#13;
the very simplest sequence is a <code>%</code> followed&#13;
by a letter indicating the data type to be formatted.</p>&#13;
<table id="conversion_types_table">&#13;
<caption><span class="label">Table 5-1. </span>Conversion types</caption>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>%s</code></p></td>&#13;
<td><p>string</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>%d</code></p></td>&#13;
<td><p>decimal integer</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>%x</code></p></td>&#13;
<td><p>hex integer</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>%o</code></p></td>&#13;
<td><p>octal integer</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>%f</code></p></td>&#13;
<td><p>decimal float</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>%e</code></p></td>&#13;
<td><p>exponential float</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>%g</code></p></td>&#13;
<td><p>decimal or exponential float</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>%%</code></p></td>&#13;
<td><p>a literal <code>%</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>You can use a <code>%s</code> for any data type, and&#13;
Python will format it as a string with no extra&#13;
spaces.</p>&#13;
&#13;
<p>Following are some simple examples.&#13;
First, an integer:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%s</code><code class="s">'</code> <code class="o">%</code> <code class="mi">42</code>&#13;
<code class="go">'42'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%d</code><code class="s">'</code> <code class="o">%</code> <code class="mi">42</code>&#13;
<code class="go">'42'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%x</code><code class="s">'</code> <code class="o">%</code> <code class="mi">42</code>&#13;
<code class="go">'2a'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%o</code><code class="s">'</code> <code class="o">%</code> <code class="mi">42</code>&#13;
<code class="go">'52'</code></pre>&#13;
&#13;
<p>A float:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%s</code><code class="s">'</code> <code class="o">%</code> <code class="mf">7.03</code>&#13;
<code class="go">'7.03'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%f</code><code class="s">'</code> <code class="o">%</code> <code class="mf">7.03</code>&#13;
<code class="go">'7.030000'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%e</code><code class="s">'</code> <code class="o">%</code> <code class="mf">7.03</code>&#13;
<code class="go">'7.030000e+00'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%g</code><code class="s">'</code> <code class="o">%</code> <code class="mf">7.03</code>&#13;
<code class="go">'7.03'</code></pre>&#13;
&#13;
<p>An integer and a literal <code>%</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%d%%</code><code class="s">'</code> <code class="o">%</code> <code class="mi">100</code>&#13;
<code class="go">'100%'</code></pre>&#13;
&#13;
<p>Let’s try some string and integer interpolation:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">actor</code> <code class="o">=</code> <code class="s">'Richard Gere'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">cat</code> <code class="o">=</code> <code class="s">'Chester'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">weight</code> <code class="o">=</code> <code class="mi">28</code></pre>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">"My wife's favorite actor is </code><code class="si">%s</code><code class="s">"</code> <code class="o">%</code> <code class="n">actor</code>&#13;
<code class="go">"My wife's favorite actor is Richard Gere"</code></pre>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">"Our cat </code><code class="si">%s</code><code class="s"> weighs </code><code class="si">%s</code><code class="s"> pounds"</code> <code class="o">%</code> <code class="p">(</code><code class="n">cat</code><code class="p">,</code> <code class="n">weight</code><code class="p">)</code>&#13;
<code class="go">'Our cat Chester weighs 28 pounds'</code></pre>&#13;
&#13;
<p>That <code>%s</code> inside the string means to interpolate a string.&#13;
The number of <code>%</code> appearances in the string needs to&#13;
match the number of data items after the&#13;
<code>%</code> that follows the string.&#13;
A single data item such as <code>actor</code> goes right after that&#13;
final <code>%</code>.&#13;
Multiple data must be grouped into a <em>tuple</em>&#13;
(details in <a data-type="xref" href="ch07.html#ch_lists">Chapter 7</a>;&#13;
it’s bounded by parentheses, separated by commas)&#13;
such as <code>(cat, weight)</code>.</p>&#13;
&#13;
<p>Even though <code>weight</code> is an integer,&#13;
the <code>%s</code> inside the string converted it to a string.</p>&#13;
&#13;
<p>You can add other values in the format string&#13;
between the <code>%</code> and the&#13;
type specifier to designate minimum and maximum widths,&#13;
alignment,&#13;
and character filling.&#13;
This is a little language in its own right,&#13;
and more limited than the one in the next two sections. Let’s take a quick look at these values:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>An initial <code>'%'</code> character.</p>&#13;
</li>&#13;
<li>&#13;
<p>An optional <em>alignment</em> character:&#13;
nothing or <code>'+'</code> means right-align,&#13;
and <code>'-'</code> means left-align.</p>&#13;
</li>&#13;
<li>&#13;
<p>An optional <em>minwidth</em> field width to use.</p>&#13;
</li>&#13;
<li>&#13;
<p>An optional <code>'.'</code> character to separate <em>minwidth</em> and <em>maxchars</em>.</p>&#13;
</li>&#13;
<li>&#13;
<p>An optional <em>maxchars</em> (if conversion type is <code>s</code>)&#13;
saying how many characters to print&#13;
from the data value.&#13;
If the conversion type is <code>f</code>, this specifies&#13;
<em>precision</em> (how many digits to print after the decimal point).</p>&#13;
</li>&#13;
<li>&#13;
<p>The <em>conversion type</em> character from the earlier table.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>This is confusing, so here are some examples for a string:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">thing</code> <code class="o">=</code> <code class="s">'woodchuck'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%s</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'woodchuck'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%12s</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'   woodchuck'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%+12s</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'   woodchuck'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%-12s</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'woodchuck   '</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%.3s</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'woo'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%12.3s</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'         woo'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%-12.3s</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'woo         '</code></pre>&#13;
&#13;
<p>Once more with feeling, and a float with <code>%f</code> variants:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">thing</code> <code class="o">=</code> <code class="mf">98.6</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%f</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'98.600000'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%12f</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'   98.600000'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%+12f</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'  +98.600000'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%-12f</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'98.600000   '</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%.3f</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'98.600'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%12.3f</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'      98.600'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%-12.3f</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'98.600      '</code></pre>&#13;
&#13;
<p>And an integer with <code>%d</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">thing</code> <code class="o">=</code> <code class="mi">9876</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%d</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'9876'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%12d</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'        9876'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%+12d</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'       +9876'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%-12d</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'9876        '</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%.3d</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'9876'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%12.3d</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'        9876'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'</code><code class="si">%-12.3d</code><code class="s">'</code> <code class="o">%</code> <code class="n">thing</code>&#13;
<code class="go">'9876        '</code></pre>&#13;
&#13;
<p>For an integer,&#13;
the <code>%+12d</code> just forces the sign to be printed,&#13;
and the format strings with <code>.3</code> in them have no effect&#13;
as they do for a float.<a data-startref="ix_ch05-strings-asciidoc12" data-type="indexterm" id="idm45795015785608"/><a data-startref="ix_ch05-strings-asciidoc11" data-type="indexterm" id="idm45795015716264"/><a data-startref="ix_ch05-strings-asciidoc10" data-type="indexterm" id="idm45795015715656"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="New style: {} and format()" data-type="sect2"><div class="sect2" id="str_format">&#13;
<h2>New style: {} and format()</h2>&#13;
&#13;
<p><a data-primary="{ } (curly brackets)" data-secondary="for string formatting" data-type="indexterm" id="ix_ch05-strings-asciidoc13"/><a data-primary="curly brackets ({ })" data-secondary="for string formatting" data-type="indexterm" id="ix_ch05-strings-asciidoc14"/><a data-primary="format() function" data-type="indexterm" id="ix_ch05-strings-asciidoc15"/><a data-primary="formatting" data-secondary="new style: { } and format()" data-type="indexterm" id="ix_ch05-strings-asciidoc16"/>Old style formatting is still supported.&#13;
In Python 2, which will freeze at version 2.7,&#13;
it will be supported forever.&#13;
For Python 3,&#13;
use the “new style” formatting&#13;
described in this section.&#13;
If you have Python 3.6 or newer,&#13;
<em>f-strings</em> (<a data-type="xref" href="#f_strings">“Newest Style: f-strings”</a>) are even better.</p>&#13;
&#13;
<p>“New style” formatting has the form&#13;
<code><em>format_string</em>.format(<em>data</em>)</code>.</p>&#13;
&#13;
<p>The format string is not exactly the same as the one&#13;
in the previous section.&#13;
The simplest usage is demonstrated here:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">thing</code> <code class="o">=</code> <code class="s">'woodchuck'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'{}'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">thing</code><code class="p">)</code>&#13;
<code class="go">'woodchuck'</code></pre>&#13;
&#13;
<p>The arguments to the <code>format()</code> function need to be&#13;
in the order as the <code>{}</code> placeholders in the format string:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">thing</code> <code class="o">=</code> <code class="s">'woodchuck'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">place</code> <code class="o">=</code> <code class="s">'lake'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'The {} is in the {}.'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">thing</code><code class="p">,</code> <code class="n">place</code><code class="p">)</code>&#13;
<code class="go">'The woodchuck is in the lake.'</code></pre>&#13;
&#13;
<p>With new-style formatting,&#13;
you can also specify the arguments by position like this:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">'The {1} is in the {0}.'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">place</code><code class="p">,</code> <code class="n">thing</code><code class="p">)</code>&#13;
<code class="go">'The woodchuck is in the lake.'</code></pre>&#13;
&#13;
<p>The value <code>0</code> referred to the first argument,&#13;
<code>place</code>,&#13;
and <code>1</code> referred to <code>thing</code>.</p>&#13;
&#13;
<p>The arguments to <code>format()</code>&#13;
can also be named arguments</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">'The {thing} is in the {place}'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">thing</code><code class="o">=</code><code class="s">'duck'</code><code class="p">,</code> <code class="n">place</code><code class="o">=</code><code class="s">'bathtub'</code><code class="p">)</code>&#13;
<code class="go">'The duck is in the bathtub'</code></pre>&#13;
&#13;
<p>or a dictionary:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">d</code> <code class="o">=</code> <code class="p">{</code><code class="s">'thing'</code><code class="p">:</code> <code class="s">'duck'</code><code class="p">,</code> <code class="s">'place'</code><code class="p">:</code> <code class="s">'bathtub'</code><code class="p">}</code></pre>&#13;
&#13;
<p class="pagebreak-before">In the following example,&#13;
<code>{0}</code> is the first argument to <code>format()</code>&#13;
(the dictionary <code>d</code>):</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="s">'The {0[thing]} is in the {0[place]}.'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">d</code><code class="p">)</code>&#13;
<code class="go">'The duck is in the bathtub.'</code></pre>&#13;
&#13;
<p>These examples all printed their arguments with default formats.&#13;
New-style formatting has a slightly different format string&#13;
definition from the old-style one (examples follow):</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>An initial colon (<code>':'</code>).</p>&#13;
</li>&#13;
<li>&#13;
<p>An optional <em>fill</em> character (default <code>' '</code>)&#13;
to pad the value string&#13;
if it’s shorter than <em>minwidth</em>.</p>&#13;
</li>&#13;
<li>&#13;
<p>An optional <em>alignment</em> character.&#13;
This time, left alignment is the default.&#13;
<code>'&lt;'</code> also means left, <code>'&gt;'</code> means right, and <code>'^'</code> means center.</p>&#13;
</li>&#13;
<li>&#13;
<p>An optional <em>sign</em> for numbers.&#13;
Nothing means only prepend a&#13;
minus sign (<code>'-'</code>) for negative numbers.&#13;
<code>' '</code> means prepend a minus sign for negative numbers,&#13;
and a space (<code>' '</code>) for positive ones.</p>&#13;
</li>&#13;
<li>&#13;
<p>An optional <em>minwidth</em>.&#13;
An optional period (<code>'.'</code>) to separate <em>minwidth</em> and <em>maxchars</em>.</p>&#13;
</li>&#13;
<li>&#13;
<p>An optional <em>maxchars</em>.</p>&#13;
</li>&#13;
<li>&#13;
<p>The <em>conversion type</em>.<a data-startref="ix_ch05-strings-asciidoc16" data-type="indexterm" id="idm45795015463416"/><a data-startref="ix_ch05-strings-asciidoc15" data-type="indexterm" id="idm45795015462824"/><a data-startref="ix_ch05-strings-asciidoc14" data-type="indexterm" id="idm45795015462136"/><a data-startref="ix_ch05-strings-asciidoc13" data-type="indexterm" id="idm45795015461448"/></p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">thing</code> <code class="o">=</code> <code class="s">'wraith'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">place</code> <code class="o">=</code> <code class="s">'window'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'The {} is at the {}'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">thing</code><code class="p">,</code> <code class="n">place</code><code class="p">)</code>&#13;
<code class="go">'The wraith is at the window'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'The {:10s} is at the {:10s}'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">thing</code><code class="p">,</code> <code class="n">place</code><code class="p">)</code>&#13;
<code class="go">'The wraith     is at the window    '</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'The {:&lt;10s} is at the {:&lt;10s}'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">thing</code><code class="p">,</code> <code class="n">place</code><code class="p">)</code>&#13;
<code class="go">'The wraith     is at the window    '</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'The {:^10s} is at the {:^10s}'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">thing</code><code class="p">,</code> <code class="n">place</code><code class="p">)</code>&#13;
<code class="go">'The   wraith   is at the   window  '</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'The {:&gt;10s} is at the {:&gt;10s}'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">thing</code><code class="p">,</code> <code class="n">place</code><code class="p">)</code>&#13;
<code class="go">'The     wraith is at the     window'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="s">'The {:!^10s} is at the {:!^10s}'</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">thing</code><code class="p">,</code> <code class="n">place</code><code class="p">)</code>&#13;
<code class="go">'The !!wraith!! is at the !!window!!'</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Newest Style: f-strings" data-type="sect2"><div class="sect2" id="f_strings">&#13;
<h2>Newest Style: f-strings</h2>&#13;
&#13;
<p><a data-primary="f-strings" data-type="indexterm" id="idm45795015438232"/><a data-primary="formatting" data-secondary="f-strings" data-type="indexterm" id="idm45795015362408"/><em>f-strings</em> appeared in Python 3.6,&#13;
and are now the recommended way&#13;
of formatting strings.</p>&#13;
&#13;
<p>To make an f-string:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Type the letter <code>f</code> or <code>F</code> directly before the&#13;
initial quote.</p>&#13;
</li>&#13;
<li>&#13;
<p>Include variable names or expressions within&#13;
curly brackets (<code>{}</code>) to get their values into the string.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>It’s like the previous section’s “new-style” formatting,&#13;
but without the <code>format()</code> function,&#13;
and without empty brackets (<code>{}</code>) or positional ones (<code>{1}</code>)&#13;
in the format string.</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">thing</code> <code class="o">=</code> <code class="s">'wereduck'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">place</code> <code class="o">=</code> <code class="s">'werepond'</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="s">'The {thing} is in the {place}'</code>&#13;
<code class="go">'The wereduck is in the werepond'</code></pre>&#13;
&#13;
<p>As I already mentioned,&#13;
expressions are also allowed&#13;
inside the curly brackets:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="s">'The {thing.capitalize()} is in the {place.rjust(20)}'</code>&#13;
<code class="go">'The Wereduck is in the             werepond'</code></pre>&#13;
&#13;
<p>This means that the things that you could do inside <code>format()</code>&#13;
in the previous section,&#13;
you can now do inside a <code>{}</code> in your main string.&#13;
This seems easier to read.</p>&#13;
&#13;
<p>f-strings use the same formatting language&#13;
(width, padding, alignment) as new-style formatting,&#13;
after a <code>':'</code>.</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="s">'The {thing:&gt;20} is in the {place:.^20}'</code>&#13;
<code class="go">'The             wereduck is in the ......werepond......'</code></pre>&#13;
&#13;
<p>Starting in Python 3.8, f-strings gain a new shortcut&#13;
that’s helpful when you want to print variable&#13;
names as well as their values.&#13;
This is handy when debugging.&#13;
The trick is to have a single <code>=</code>&#13;
after the name in the <code>{}</code>-enclosed&#13;
part of the f-string:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="s">'{thing =}, {place =}'</code>&#13;
<code class="go">thing = 'wereduck', place = 'werepond'</code></pre>&#13;
&#13;
<p>The name can actually be an expression,&#13;
and it will be printed literally:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="s">'{thing[-4:] =}, {place.title() =}'</code>&#13;
<code class="go">thing[-4:] = 'duck', place.title() = 'Werepond'</code></pre>&#13;
&#13;
<p>Finally, the <code>=</code> can be followed by a <code>:</code> and&#13;
the formatting&#13;
arguments like width and alignment:<a data-startref="ix_ch05-strings-asciidoc9" data-type="indexterm" id="idm45795015318232"/><a data-startref="ix_ch05-strings-asciidoc8" data-type="indexterm" id="idm45795015317704"/></p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="s">'{thing = :&gt;4.4}'</code>&#13;
<code class="go">thing = 'were'</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="More String Things" data-type="sect1"><div class="sect1" id="idm45795016309352">&#13;
<h1>More String Things</h1>&#13;
&#13;
<p>Python has many more string functions than I’ve shown here.&#13;
Some will turn up in later chapters (especially <a data-type="xref" href="ch12.html#ch_munging">Chapter 12</a>),&#13;
but you can find all the details&#13;
at the <a href="http://bit.ly/py-docs-strings">standard documentation link</a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Coming Up" data-type="sect1"><div class="sect1" id="idm45795015215704">&#13;
<h1>Coming Up</h1>&#13;
&#13;
<p>You’ll find Froot Loops at the grocery store,&#13;
but Python loops are at the first counter in the next chapter.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Things to Do" data-type="sect1"><div class="sect1" id="idm45795015213992">&#13;
<h1>Things to Do</h1>&#13;
&#13;
<p>5.1&#13;
<a data-primary="strings" data-secondary="practice exercises" data-type="indexterm" id="idm45795015212264"/>Capitalize the word starting with <code>m</code>:</p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">song</code> <code class="o">=</code> <code class="s">"""When an eel grabs your arm,</code>&#13;
<code class="gp">... </code><code class="s">And it causes great harm,</code>&#13;
<code class="gp">... </code><code class="s">That's - a moray!"""</code></pre>&#13;
&#13;
<p>5.2&#13;
Print each list question with its correctly matching answer,&#13;
in the form:</p>&#13;
&#13;
<p>Q: <em>question</em><br/>&#13;
A: <em>answer</em></p>&#13;
&#13;
<pre data-code-language="pycon" data-type="programlisting"><code class="gp">&gt;&gt;&gt; </code><code class="n">questions</code> <code class="o">=</code> <code class="p">[</code>&#13;
<code class="gp">... </code>    <code class="s">"We don't serve strings around here. Are you a string?"</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">"What is said on Father's Day in the forest?"</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">"What makes the sound 'Sis! Boom! Bah!'?"</code>&#13;
<code class="gp">... </code>    <code class="p">]</code>&#13;
<code class="gp">&gt;&gt;&gt; </code><code class="n">answers</code> <code class="o">=</code> <code class="p">[</code>&#13;
<code class="gp">... </code>    <code class="s">"An exploding sheep."</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">"No, I'm a frayed knot."</code><code class="p">,</code>&#13;
<code class="gp">... </code>    <code class="s">"'Pop!' goes the weasel."</code>&#13;
<code class="gp">... </code>    <code class="p">]</code></pre>&#13;
&#13;
<p>5.3&#13;
Write the following poem by using old-style formatting.&#13;
Substitute the strings&#13;
<code>'roast beef'</code>, <code>'ham'</code>, <code>'head'</code>, and <code>'clam'</code>&#13;
into this string:</p>&#13;
&#13;
<pre data-type="programlisting">My kitty cat likes %s,&#13;
My kitty cat likes %s,&#13;
My kitty cat fell on his %s&#13;
And now thinks he's a %s.</pre>&#13;
&#13;
<p>5.4&#13;
Write a form letter by using new-style formatting.&#13;
Save the following string as <code>letter</code>&#13;
(you’ll use it in the next exercise):</p>&#13;
&#13;
<pre data-type="programlisting">Dear {salutation} {name},&#13;
&#13;
Thank you for your letter. We are sorry that our {product}&#13;
{verbed} in your {room}. Please note that it should never&#13;
be used in a {room}, especially near any {animals}.&#13;
&#13;
Send us your receipt and {amount} for shipping and handling.&#13;
We will send you another {product} that, in our tests,&#13;
is {percent}% less likely to have {verbed}.&#13;
&#13;
Thank you for your support.&#13;
&#13;
Sincerely,&#13;
{spokesman}&#13;
{job_title}</pre>&#13;
&#13;
<p>5.5&#13;
Assign values to variable strings named&#13;
<code>'salutation'</code>, <code>'name'</code>, <code>'product'</code>,&#13;
<span class="keep-together"><code>'verbed'</code></span> (past tense verb),&#13;
<code>'room'</code>, <code>'animals'</code>, <code>'percent'</code>,&#13;
<code>'spokesman'</code>, and <code>'job_title'</code>.&#13;
Print <code>letter</code> with these values,&#13;
using <code>letter.format()</code>.</p>&#13;
&#13;
<p>5.6&#13;
After public polls to name things, a pattern emerged:&#13;
an English submarine (Boaty McBoatface),&#13;
an Australian racehorse (Horsey McHorseface),&#13;
and a Swedish train (Trainy McTrainface).&#13;
Use <code>%</code> formatting to print the winning name at the state fair&#13;
for a prize duck, gourd, and spitz.</p>&#13;
&#13;
<p>5.7&#13;
Do the same, with <code>format()</code> formatting.</p>&#13;
&#13;
<p>5.8&#13;
Once more, with feeling, and <em>f strings</em>.<a data-startref="ix_ch05-strings-asciidoc0" data-type="indexterm" id="idm45795015082616"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section></body></html>