["```py\nimport textwrap\nimport httpx\n\nAPI_URL = \"https://en.wikipedia.org/api/rest_v1/page/random/summary\"\nUSER_AGENT = \"random-wikipedia-article/0.1 (Contact: you@example.com)\"\n\ndef main():\n    headers = {\"User-Agent\": USER_AGENT}\n\n    with httpx.Client(headers=headers) as client: ![1](assets/1.png)\n        response = client.get(API_URL, follow_redirects=True) ![2](assets/2.png)\n        response.raise_for_status() ![3](assets/3.png)\n        data = response.json() ![4](assets/4.png)\n\n    print(data[\"title\"], end=\"\\n\\n\")\n    print(textwrap.fill(data[\"extract\"]))\n```", "```py\nimport httpx\nfrom rich.console import Console\n\ndef main():\n    ...\n    console = Console(width=72, highlight=False) ![1](assets/1.png)\n    console.print(data[\"title\"], style=\"bold\", end=\"\\n\\n\") ![2](assets/2.png)\n    console.print(data[\"extract\"])\n```", "```py\n$ uv venv\n$ uv pip install --editable .\n```", "```py\n[project]\nname = \"random-wikipedia-article\"\nversion = \"0.1\"\ndependencies = [\"httpx\", \"rich\"]\n...\n```", "```py\n$ uv pip install --editable .\n```", "```py\n[project]\ndependencies = [\"httpx>=0.27.0\", \"rich>=13.7.1\"]\n```", "```py\n[project]\ndependencies = [\"awesome>=1.2,!=1.3.1\"]\n```", "```py\n[project]\ndependencies = [\"awesome>=1.2,<2\"]\n```", "```py\ndef main():\n    headers = {\"User-Agent\": USER_AGENT}\n    with httpx.Client(headers=headers, http2=True) as client:\n        ...\n```", "```py\n[project]\ndependencies = [\"httpx[http2]>=0.27.0\", \"rich>=13.7.1\"]\n```", "```py\n[project]\nname = \"httpx\"\n\n[project.optional-dependencies]\nhttp2 = [\"h2>=3,<5\"]\nbrotli = [\"brotli\"]\n```", "```py\ntry:\n    import h2\nexcept ImportError:\n    h2 = None\n\n# Check h2 before use.\nif h2 is not None:\n    ...\n```", "```py\nfrom importlib.metadata import metadata\n\nUSER_AGENT = \"{Name}/{Version} (Contact: {Author-email})\"\n\ndef build_user_agent():\n    fields = metadata(\"random-wikipedia-article\") ![1](assets/1.png)\n    return USER_AGENT.format_map(fields) ![2](assets/2.png)\n\ndef main():\n    headers = {\"User-Agent\": build_user_agent()}\n    ...\n```", "```py\nimportlib-metadata; python_version < '3.8'\n```", "```py\n[project]\ndependencies = [\n    \"httpx[http2]>=0.27.0\",\n    \"rich>=13.7.1\",\n    \"importlib-metadata>=7.0.2; python_version < '3.8'\",\n]\n```", "```py\nif sys.version_info >= (3, 8):\n    from importlib.metadata import metadata\nelse:\n    from importlib_metadata import metadata\n```", "```py\n[project]\ndependencies = [\"\"\" \\\n awesome-package; python_full_version <= '3.8.1' \\\n and (implementation_name == 'cpython' or implementation_name == 'pypy') \\\n and sys_platform == 'darwin' \\\n and 'arm' in platform_version \\\n\"\"\"]\n```", "```py\nfrom random_wikipedia_article import build_user_agent\n\ndef test_build_user_agent():\n    assert \"random-wikipedia-article\" in build_user_agent()\n```", "```py\n$ uv pip install pytest\n$ py -m pytest\n========================= test session starts ==========================\nplatform darwin -- Python 3.12.2, pytest-8.1.1, pluggy-1.4.0\nrootdir: ...\nplugins: anyio-4.3.0\ncollected 1 item\n\ntests/test_random_wikipedia_article.py .                          [100%]\n\n========================== 1 passed in 0.22s ===========================\n\n```", "```py\n[project.optional-dependencies]\ntests = [\"pytest>=8.1.1\", \"pytest-sugar>=1.0.0\"] ![1](assets/1.png)\ndocs = [\"sphinx>=7.2.6\"] ![2](assets/2.png)\n```", "```py\n$ uv pip install -e \".[tests]\"\n$ py -m pytest\n\n```", "```py\n$ uv pip install -e \".[dev]\"\n```", "```py\n[project.optional-dependencies]\ntests = [\"pytest>=8.1.1\", \"pytest-sugar>=1.0.0\"]\ndocs = [\"sphinx>=7.2.6\"]\ndev = [\"random-wikipedia-article[tests,docs]\"]\n```", "```py\npytest>=8.1.1\npytest-sugar>=1.0.0\nsphinx>=7.2.6\n```", "```py\n$ uv pip install -r requirements.txt\n\n```", "```py\n# requirements/tests.txt\n-e . ![1](assets/1.png)\npytest>=8.1.1\npytest-sugar>=1.0.0\n\n# requirements/docs.txt\nsphinx>=7.2.6 ![2](assets/2.png)\n\n# requirements/dev.txt\n-r tests.txt ![3](assets/3.png)\n-r docs.txt\n```", "```py\n$ uv pip install -r requirements/dev.txt\n$ py -m pytest\n\n```", "```py\n$ uv pip install .\n$ uv pip freeze\nanyio==4.3.0\ncertifi==2024.2.2\nh11==0.14.0\nh2==4.1.0\nhpack==4.0.0\nhttpcore==1.0.4\nhttpx==0.27.0\nhyperframe==6.0.1\nidna==3.6\nmarkdown-it-py==3.0.0\nmdurl==0.1.2\npygments==2.17.2\nrandom-wikipedia-article @ file:///Users/user/random-wikipedia-article\nrich==13.7.1\nsniffio==1.3.1\n\n```", "```py\n$ uv pip install -r requirements.txt\n```", "```py\n$ pipx run --python=3.12 --spec=pip-tools pip-compile\n```", "```py\n$ uv pip compile --python-version=3.12 pyproject.toml -o requirements.txt\n```", "```py\nhttpx==0.27.0 \\\n--hash=sha256:71d5465162c13681bff01ad59b2cc68dd838ea1f10e51574bac27103f00c91a5 \\\n--hash=sha256:a0cb88a46f32dc874e04ee956e4c2764aba2aa228f650b06788ba6bda2962ab5\n```", "```py\n$ uv pip install -r requirements.txt\n$ uv pip install --no-deps --no-cache .\n\n```", "```py\n$ uv pip compile -p 3.12 pyproject.toml -o requirements.txt -P rich\n\n```", "```py\n$ pipx run --spec=pip-tools pip-sync --python-executable=.venv/bin/python\n```", "```py\n$ .venv/bin/python -m pip install --no-deps --no-cache .\n```", "```py\n$ uv pip sync requirements.txt\n$ uv pip install --no-deps --no-cache .\n\n```", "```py\n$ uv pip compile --extra=dev pyproject.toml -o dev-requirements.txt\n\n```", "```py\n# requirements/tests.in\npytest>=8.1.1\npytest-sugar>=1.0.0\n\n# requirements/docs.in\nsphinx>=7.2.6\n\n# requirements/dev.in\n-r tests.in\n-r docs.in\n```", "```py\n$ uv pip compile requirements/tests.in pyproject.toml -o requirements/tests.txt\n$ uv pip compile requirements/docs.in -o requirements/docs.txt\n$ uv pip compile requirements/dev.in pyproject.toml -o requirements/dev.txt\n\n```"]