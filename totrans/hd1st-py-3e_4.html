<html><head></head><body>
<div id="sbo-rt-content"><section data-pdf-bookmark="Chapter 4. List of Files: Functions, Modules &amp; Files" data-type="chapter" epub:type="chapter"><div class="chapter" id="list_of_files_functionscomma_modules_amp">
<h1><span class="label">Chapter 4. </span>List of Files: <em>Functions, Modules &amp; Files</em></h1>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm46376393189824"><h1>A Note for Early Release Readers</h1>
<p>With Early Release ebooks, you get books in their earliest form—the author’s raw and unedited content as they write—so you can take advantage of these technologies long before the official release of these titles.</p>
<p>This will be Chapter 3 of the final book. Please note that the GitHub repo will be made active later on.</p>
<p>If you have comments about how we might improve the content and/or examples in this book, or if you notice missing material within this chapter, please reach out to the editor at mpotter@oreilly.com.</p>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Image" height="619" src="assets/ch03-1-01.png" width="583"/>
<h6/>
</div></figure>
<p><strong>Your code can’t live in a notebook forever. It wants to be free.</strong> And when it comes to freeing your code and <strong>sharing</strong> it with others, a bespoke <strong>function</strong> is the first step, followed shortly thereafter by a <strong>module,</strong> which lets you organize and share your code. In this chapter, you’ll create a function directly from the code you’ve written so far, and in the process create a <strong>shareable</strong> module, too. You’ll immediately put your module to work as you process the Coach’s swim data with <strong>for</strong> loops, <strong>if</strong> statements, conditional tests, and the <strong>PSL</strong> (Python’s <em>Standard Library</em>). You’ll learn how to <strong>comment</strong> your functions, too (which is always a <em>good idea</em>). There’s lots to be done, so let’s get to it!</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="379" src="assets/ch03-2-01.png" width="744"/>
<h6/>
</div></figure>
<section data-pdf-bookmark="Cubicle Conversation" data-type="sect1"><div class="sect1" id="cubicle_conversation_id00002">
<h1>Cubicle Conversation</h1>
<p><strong>Sam</strong>: I’ve updated the Coach on the progress-to-date.</p>
<p><strong>Alex</strong>: And is he happy?</p>
<p><strong>Sam</strong>: To a point, yes. He’s thrilled things have started. However, as you can imagine, he’s only really interested in the final product, which for the Coach is the bar chart.</p>
<p><strong>Alex</strong>: Which should be easy enough to do now that the most-recent notebook produces the data we need, right?</p>
<p><strong>Mara</strong>: Well... sort of.</p>
<p><strong>Alex</strong>: How come?</p>
<p><strong>Mara</strong>: The current notebook, <code>Times.ipynb</code>, produces data for Darius swimming the 100m Fly in the Under 13 age group. But, there’s a need to perform the conversions and the average calculation for <em>any</em> swimmer’s file.</p>
<p><strong>Alex</strong>: Sure that’s easy: just replace the filename at the top of the notebook with another filename, then press the <em>Run All</em> button and – voila! – you’ve got your data.</p>
<p><strong>Mara</strong>: And you think the Coach will be happy to do that?</p>
<p><strong>Alex</strong>: Errr... I hadn’t thought about how the Coach is going to run this stuff.</p>
<p><strong>Sam</strong>: We are heading in the right direction, in that we do need a mechanism which works with any swimmer’s filename. If that can be produced, we can get on with then creating code for the bar chart.</p>
<p><strong>Alex</strong>: So we have a ways to go yet...</p>
<p><strong>Mara</strong>: Yes, but not far. As you already mentioned, all the code we need is in the <code>Times.ipynb</code> notebook...</p>
<p><strong>Alex</strong>: ...which you don’t want to give to the Coach...</p>
<p><strong>Mara</strong>: ...well, not it it’s current form.</p>
<p><strong>Alex</strong>: Then how?</p>
<p><strong>Sam</strong>: We need a way to package-up the code so it can be used with any filename and accessed outside of the notebook...</p>
<p><strong>Alex</strong>: Ah, but of course: we need a function!</p>
<p><strong>Sam</strong>: Which gets us part of the way.</p>
<p><strong>Mara</strong>: If the function is put inside a Python module it can be shared in lots of places.</p>
<p><strong>Alex</strong>: Sounds good to me. Where do we start?</p>
<p><strong>Mara</strong>: Let’s start by turning the existing notebook code into a function that we can call, then share.</p>
</div></section>
<section data-pdf-bookmark="How to create a function in Python" data-type="sect1"><div class="sect1" id="how_to_create_a_function_in_python">
<h1>How to create a function in Python</h1>
<p>In addition to the actual code for the function, you need to worry about the function’s <em>signature</em>. There are three things to keep in mind. You need to:</p>
<p><span class="inlineimage"><img alt="Images" height="20" src="assets/1-circle.png" width="20"/></span> <strong>Think up a nice, meaningful name</strong></p>
<p>The code in the <code>Times.ipynb</code> notebook first processes the filename, then processes the file’s contents to extract the data required by the Coach. So let’s call this function <code>get_swim_data</code>. It’s a nice name, it’s a meaningful name... golly, it’s nearly perfect!</p>
<p><span class="inlineimage"><img alt="Images" height="20" src="assets/2-circle.png" width="20"/></span> <strong>Decide on the number and names of any parameters</strong></p>
<p>Your new <code>get_swim_data</code> function takes a single parameter which identifies the filename to use. Let’s call this parameter <code>fn</code>.</p>
<p><span class="inlineimage"><img alt="Images" height="20" src="assets/3-circle.png" width="20"/></span> <strong>Indent your function’s code under a def statement</strong></p>
<p>The <strong>def</strong> keyword introduces the function, letting you specify the function’s name and any parameters. Any code indented under the <strong>def</strong> keyword is the function’s code block.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#636466"><strong>It can be useful to think of “def” as shorthand for “define function”.</strong></span></p>
</div>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="anatomy_of_a_function_signature">
<h1>Anatomy of a function signature</h1>
<figure><div class="figure">
<img alt="Image" height="212" src="assets/telescope.png" width="117"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Image" height="388" src="assets/ch03-3-02.png" width="787"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-pdf-bookmark="Be sure to add a comment to your function" data-type="sect1"><div class="sect1" id="be_sure_to_add_a_comment_to_your_functio">
<h1>Be sure to add a comment to your function</h1>
<p>Full disclosure: we told a little white lie... we’ve led you up the garden path to believe all you need to do is copy your code into your function, suitably indented. But, you should <em>also</em> add a comment to the start of your function.</p>
<p>You’ve already seen how a single <code><strong>#</strong></code> character switches on a single-line comment in your code. When you need to add a multi-line comment, you can enclose your comment in <strong>triple-quotes</strong> which, believe it or not, is <em>also</em> a string object.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#636466"><strong>A string can span many lines when your surround it with triple-quotes.</strong></span></p>
</div>
<p>When Python encounters a string object which isn’t assigned to a variable name, it’s simply ignored, which makes using a triple-quoted string <em>perfect</em> for multi-line comments. Here’s an example:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="272" src="assets/ch03-4-01.png" width="934"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Image" height="521" src="assets/ch03-4-02.png" width="616"/>
<h6/>
</div></figure>
<p><strong>Great question (and well spotted).</strong></p>
<p>The <strong>tuple</strong> is one of Python’s built-in data structures, which you briefly met in <a data-type="xref" href="ch01.xhtml#why_pythonquestion_mark_similar_but_diff">Chapter 1</a>. Back then we over-generalized a little, suggesting tuples were quite like lists. We’ll have more to say about tuples later in this book. For now, recall what one looks like:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="108" src="assets/ch03-4-03.png" width="453"/>
<h6/>
</div></figure>
<p>Now, what’s your second question?</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="626" src="assets/ch03-5-01.png" width="835"/>
<h6/>
</div></figure>
<p><strong>That’s another great observation.</strong></p>
<p>No, we haven’t forgotten to declare the parameter’s type. In fact, in Python you don’t need to declare the types of your parameters, as every function parameter can be of <em>any</em> type.</p>
<p>Python is a <em>dynamically-typed</em> language. This means, among other things, that typing decisions are not made until run-time, which is very unlike those <em>stodgy</em> statically-typed languages where everything must be known up-front, at compile-time.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#636466"><strong>Depending on your programming background, this might strike you as controversial. Our advise is not to let this worry you. This page’s “Geek Note” discusses a Python 3 feature which can be thought of as meeting the statically-typed die-hards half-way.</strong></span></p>
</div>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="geek_note_id000001">
<h1>Geek Note</h1>
<figure><div class="figure">
<img alt="Image" height="92" src="assets/cap.png" width="123"/>
<h6/>
</div></figure>
<p>Recent versions of Python 3 have introduced the notion of <strong>type hints</strong>. This extra syntax adds annotations to your function’s signature to <em>indicate</em> the types expected. As an example, here’s how you’d add type hints to your <code>get_swim_data</code> function to indicate a string is expected as input, with a tuple returned:</p>
<pre data-type="programlisting"><span style="color:#3853A4">def</span> <span style="color:#7A5F27">get_swin_data</span><span style="color:#3853A4">(fn</span>: <span style="color:#3F8FA7">str</span><span style="color:#3853A4">)</span> -&gt; <span style="color:#3F8FA7">tuple:</span></pre>
<p>These annotations are “hints” and are otherwise <strong>ignored</strong> by Python: there’s nothing checking at run-time to ensure a string is actually sent as input to the function. This means the use of type hints is <em>optional</em>. Python is dynamically-typed, after all. Some programmers believe type hints are the best thing since sliced bread, whereas others are... less enthusiastic. We’re on the fence and, consequently, use type hints in this book sparingly (if at all).</p>
</div></aside>
</div></section>
<section data-pdf-bookmark="Create a file for your function’s code" data-type="sect1"><div class="sect1" id="create_a_file_for_your_functionapostroph">
<h1>Create a file for your function’s code</h1>
<p>There’s nothing stopping you defining any function within a Jupyter Notebook code cell. In fact, when you are trying to work out what code you need to create, experimenting in a notebook <em>first</em> is our recommended approach.</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="124" src="assets/ch03-6-01.png" width="165"/>
<h6/>
</div></figure>
<p>However, all the code you need to add to your <code>get_swim_data</code> function already exists in your <code>Times.ipynb</code> notebook, so there’s no need for any further experimentation. Instead, let’s use VS Code to create a new Python file called <code>swimclub.py</code>.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#636466"><strong>In VS Code, select “File”, then “New File”, then select “Python File” as the type. When an empty editing window appears, save the file as “swimclub.py”. (And be sure to save the file into your existing “Learning” folder).</strong></span></p>
</div>
<p>Here’s the code we copied into <code>swimclub.py</code>, which we’ve applied a few minor tweaks to (note the annotations):</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="859" src="assets/ch03-6-02.png" width="946"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Image" height="429" src="assets/ch03-7-01.png" width="736"/>
<h6/>
</div></figure>
<p><strong>Yes, that’s it exactly.</strong></p>
<p>There’s just a small addition to apply to the function’s code to ensure it’s really useful.</p>
<section data-pdf-bookmark="Functions can return results to their calling code" data-type="sect2"><div class="sect2" id="functions_can_return_results_to_their_ca">
<h2>Functions can return results to their calling code</h2>
<p>In addition to accepting data <em>on the way in</em>, function’s can deliver data to the code which invoked them (aka data <em>on the way out</em>). Arguments sent into a function are assigned to the parameter names defined in the function’s signature, whereas any results are sent back to the calling code with a <strong>return</strong> statement.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_id000025">
<h1>Sharpen your pencil</h1>
<figure><div class="figure">
<img alt="Image" height="88" src="assets/pencil.png" width="203"/>
<h6/>
</div></figure>
<p>Take a moment to read the code on the previous page then, in the space below, write in the <strong>return</strong> statement you’d add to the end of your function in order to send values back to the function’s caller.</p>
<p>You’ll find our suggested <strong>return</strong> statement on the next page, but do have a go at creating this single line of code yourself before flipping the page:</p>
<p>___________________________________</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution_id000026">
<h1>Sharpen your pencil Solution</h1>
<figure><div class="figure">
<img alt="Image" height="88" src="assets/pencil.png" width="203"/>
<h6/>
</div></figure>
<p>You were to take a moment to read the code from two pages back then, in the space below, write in the <strong>return</strong> statement you’d add to the end of your function in order to send values back to the function’s caller.</p>
<p>Here’s the <strong>return</strong> statement we’d use. How does yours compare?</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="129" src="assets/ch03-8-02.png" width="899"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-pdf-bookmark="Update and save your code before continuing..." data-type="sect2"><div class="sect2" id="update_and_save_your_code_before_continu">
<h2>Update and save your code before continuing...</h2>
<p>Before moving onto the next page, be sure to add the following line of code as the last line in your <code>get_swim_data</code> function within your <code>swimclub.py</code> file. Be careful to match the indentation of this line of code with the indentation used for all the other code in your function:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="155" src="assets/ch03-8-03.png" width="865"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark_id00001">
<h1>Watch It!</h1>
<figure><div class="figure">
<img alt="Image" height="114" src="assets/watch-it.png" width="122"/>
<h6/>
</div></figure>
<p><strong>Remember to save your code often when using the VS Code editor</strong></p>
<p><em>When you use a Jupyter Notebook, you execute your code immediately using</em> <strong>Shift+Enter</strong> <em>without having to save anything beforehand.</em></p>
<p><em>However, when you use an editor to create Python code (as you just did with VS Code and your</em> <code>swimclub.py</code> <em>file), nothing run until you specifically tell Python to run your code. When you do, the</em> <em><strong>latest saved version</strong></em> <em>of your code is executed, so be sure to save early and often when working within an editor.</em></p>
</div></aside>
</div></section>
</div></section>
<section data-pdf-bookmark="Use modules to share code" data-type="sect1"><div class="sect1" id="use_modules_to_share_code">
<h1>Use modules to share code</h1>
<p>If you look at the code in your <code>swimclub.py</code> file, it consists of a single <strong>import</strong> statement, a single constant definition, and a single function. Once you move code into its own file, it becomes is a Python <em>module</em>. Congratulations: you’ve created your first Python module, called swimclub.</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="407" src="assets/ch03-9-01.png" width="584"/>
<h6/>
</div></figure>
<p><strong>That’s pretty much it.</strong></p>
<p>Things can get a lot more complex but, as you’ve just seen, creating a <strong>shareable module</strong> in Python is as simple as popping some code in a file and giving it a name. It’s so easy, there ought to be a law against it. .. <img alt="Image" height="20" src="assets/smile.png" width="20"/></p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_id000008">
<h1>Exercise</h1>
<figure><div class="figure">
<img alt="Image" height="107" src="assets/exercise.png" width="170"/>
<h6/>
</div></figure>
<p>With the code in <code>swimclub.py</code> complete, you were to create another new notebook in your <code>Learning</code> folder, giving it the name <code>Files.ipynb</code>.</p>
<p>In your new notebook’s first cell, you were to type this line of code, being sure to type <strong>Shift+Enter</strong> to execute it:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="95" src="assets/ch03-9-03.png" width="615"/>
<h6/>
</div></figure>
<p>This imports any constants and functions defined in the <code>swimclub</code> module from your <code>swimclub.py</code> file. In the space below, you were to provide the line of code which calls the <code>get_swim_data</code> function from this module, passing the name of Darius’s file from the previous chapter:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="119" src="assets/ch03-9-04.png" width="905"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution_id000009">
<h1>Exercise Solution</h1>
<figure><div class="figure">
<img alt="Image" height="107" src="assets/exercise.png" width="170"/>
<h6/>
</div></figure>
<p>With the code in <code>swimclub.py</code> complete, you were to create another new notebook in your <strong>Learning</strong> folder, giving it the name <strong>Files.ipynb</strong>.</p>
<p>In your new notebook’s first cell, you were to type this line of code, being sure to type <strong>Shift+Enter</strong> to execute it:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="65" src="assets/ch03-10-02.png" width="285"/>
<h6/>
</div></figure>
<p>This imports any constants and functions defined in the <code>swimclub</code> module from your <code>swimclub.py</code> file. In the space below, you were to provide the line of code which calls the <code>get_swim_data</code> function from this module, passing the name of Darius’s file from the previous chapter:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="155" src="assets/ch03-10-03.png" width="885"/>
<h6/>
</div></figure>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Image" height="518" src="assets/ch03-10-04.png" width="973"/>
<h6/>
</div></figure>
<p><strong>This is a fully qualified name.</strong></p>
<p>When you refer to your function with “module DOT function”, you are qualifying the name of your function with the name of the module which contains it. This is very common in practice, although there are other common importing techniques. You’ll see examples of these as you continue to work through this book.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="test_drive_id00011">
<h1>Test Drive</h1>
<figure><div class="figure">
<img alt="Image" height="94" src="assets/car.png" width="191"/>
<h6/>
</div></figure>
<p>If you haven’t done so already, press <strong>Shift+Enter</strong> on each of your notebook’s code cells to execute them. The first cell produces no output as all that happens is the <code>swimclub</code> module is imported. The <strong>import</strong> statement runs the code in the identified module from top-to-bottom. The second cell run your functiona and produces output as shown below:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="393" src="assets/ch03-11-02.png" width="835"/>
<h6/>
</div></figure>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Image" height="484" src="assets/ch03-11-03.png" width="647"/>
<h6/>
</div></figure>
<p><strong>Good eye. Well spotted, too.</strong></p>
<p>This may not be the explanation you’re expecting here, but those parentheses are meant to be there.</p>
<p>Let’s dig into this a little so you can appreciate what’s going on.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="todayapostrophes_interview">
<h1>Today’s Interview</h1>
<figure><div class="figure">
<img alt="Image" height="154" src="assets/mike.png" width="128"/>
<h6/>
</div></figure>
<p>Chatting with Python’s <strong>function.</strong></p>
<p><strong>Head First:</strong> Thank you for taking time out of your busy day to chat to us.</p>
<p><strong>Function:</strong> No problem.</p>
<p><strong>Head First:</strong> How come you’re so busy?</p>
<p><strong>Function:</strong> I’m used everywhere, all the time.</p>
<p><strong>Head First:</strong> And you’ll work with anything?</p>
<p><strong>Function:</strong> If you’re referring to the data I’ll accept then, yes, I’ll happily accept anything you give me.</p>
<p><strong>Head First:</strong> Care to expand?</p>
<p><strong>Function:</strong> Sure. You can send me any number of argument values which I’ll happily match up with my parameters, and all you need to do is ensure you send me the correct number. If I’ve got two parameters, be sure to send me two argument values.</p>
<p><strong>Head First:</strong> What happens if I send, say, one argument or three instead?</p>
<p><strong>Function:</strong> I get cranky.</p>
<p><strong>Head First:</strong> I see. It’s like that, is it?</p>
<p><strong>Function:</strong> Yes. I’m pretty strict on that sort of thing. Unless, of course, one of your two example parameters happens to be declared as <em>optional</em>.</p>
<p><strong>Head First:</strong> What happens then?</p>
<p><strong>Function:</strong> Continuing on with my example of a two-parameter function... if, for instance, the second parameters is optional, I’ll happily accept one or two argument values, no questions asked.</p>
<p><strong>Head First:</strong> And if I call you with a single argument, what’s assigned to the second parameter?</p>
<p><strong>Function:</strong> Typically I’ll assign a default value which has been decided upon by the programmer who created me.</p>
<p><strong>Head First:</strong> That sounds kind of complex.</p>
<p><strong>Function:</strong> It’s not really and – to be honest – it’s not something every function needs, but it’s part of me if you need it. I’m pretty flexible.</p>
<p><strong>Head First:</strong> And what about returning values? Is it the same deal? Can any number of values be returned?</p>
<p><strong>Function:</strong> No.</p>
<p><strong>Head First:</strong> Seriously? No? That’s all you’re going to say on this?</p>
<p><strong>Function:</strong> Well... I thought is was kind of obvious. Think of mathematics where functions return a single result, not multiple results. It’s the same with me. Any number of values in, but only ONE result back.</p>
<p><strong>Head First:</strong> But... emm... err... look at the <code>get_swim_data</code> function call on the previous page. There are <em>seven</em> results returned.</p>
<p><strong>Function:</strong> No there isn’t, there’s only ONE.</p>
<p><strong>Head First:</strong> What the...</p>
<p><strong>Function:</strong> If you look closely, you’ll notice those parentheses surrounding the seven data values, right?</p>
<p><strong>Head First:</strong> Yes, but...</p>
<p><strong>Function:</strong> No “buts” about it. Those parentheses are a single tuple which happens to contain the seven individual data values. As I said, only ONE result is returned, either a single result on it’s own, or a single tuple result with multiple values contained therein.</p>
<p><strong>Head First:</strong> But the code doesn’t convert the seven return values into a tuple.</p>
<p><strong>Function:</strong> Yeah, the code didn’t, <em>but I did</em>. I do it automatically when I see a programmer attempting to return more than ONE result. You can thank me later.</p>
<p><strong>Head First:</strong> No, I’ll thank you now. That’s important to know. Thanks for the chat!</p>
<p><strong>Function:</strong> I’m always happy to clear things up. Bye!</p>
</div></aside>
</div></section>
<section data-pdf-bookmark="Functions return a tuple when required" data-type="sect1"><div class="sect1" id="functions_return_a_tuple_when_required">
<h1>Functions return a tuple when required</h1>
<p>When you call a function which looks like it returns multiple results, it isn’t. Instead, you get back a single tuple containing a collection of results (regardless of how many there are).</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="473" src="assets/ch03-13-01.png" width="904"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Image" height="422" src="assets/ch03-13-02.png" width="734"/>
<h6/>
</div></figure>
<p><strong>That’s a great suggestion.</strong></p>
<p>Not that we’re suggesting there’s a bit of mind reading going on here, but it is a little spooky we had the same idea...</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="behind_the_scenes">
<h1>Behind the Scenes</h1>
<figure><div class="figure">
<img alt="Image" height="148" src="assets/scene.png" width="127"/>
<h6/>
</div></figure>
<p><strong>Up close and personal with Python’s tuple.</strong></p>
<p>Python’s docs state that a <strong>tuple</strong> is an <em>immutable sequence</em>.</p>
<p><strong>Immutable?</strong></p>
<p>You’ve already met two <em>immutable</em> data types: numbers and strings. Both share the characteristic that once a value is created in code, the value <strong>cannot</strong> be changed. For instance, <code>42</code> is always <code>42</code>: it cannot change, it’s <em>immutable</em>. The same thing goes for strings in Python: <code>"hello"</code> is always <code>"hello"</code>: once created, it cannot change, it’s <em>immutable</em>.</p>
<p>Python’s <strong>tuple</strong> takes this idea of immutability and applies it to a collection of data values. It can sometimes help to think of a tuple as a <em>constant list</em>. Once values are assigned to a tuple, the tuple cannot change, it’s <em>immutable</em>.</p>
<p><strong>Sequence?</strong></p>
<p>If you can use the square-bracket notation to access items (or slots) from a collection, then you’re working with a <em>sequence</em>. Python’s list is the most familiar sequence type, but others do exist, including strings and... <strong>tuple</strong>. In addition to supporting the use of square brackets, sequences also maintain the <em>order</em> of the items they contain.</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="362" src="assets/ch03-14-02.png" width="774"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_id000027">
<h1>Sharpen your pencil</h1>
<figure><div class="figure">
<img alt="Image" height="88" src="assets/pencil.png" width="203"/>
<h6/>
</div></figure>
<p>Assume the following line of code has executed in a new, empty code cell in your notebook (hint: go ahead and execute this line of code in your notebook so you can experiment as needed):</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="71" src="assets/ch03-15-02.png" width="848"/>
<h6/>
</div></figure>
<p>Using the square bracket notation, extract the list of swim times from the <code>data</code> tuple, assigning them to a list called <code>times</code>. Then display the contents of the <code>times</code> list. Write the code you used here:</p>
<p>__________________________________________</p>
<p>__________________________________________</p>
<p>__________________________________________</p>
<p>Using Python’s unpacking technology (aka <em>multiple assignment</em>), extract the list of swim times from the <code>data</code> tuple a second time, assigning them to a list called <code>times2</code>. Display the contents of the <code>times2</code> list. Write the code you used here:</p>
<p>__________________________________________</p>
<p>__________________________________________</p>
<p>__________________________________________</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions_id000040">
<h1>there are no Dumb Questions</h1>
<p><span style="color:#412986"><strong>Q:</strong></span> <strong>I just did a “print dir” on my</strong> <code>data</code> <strong>tuple and there’s only two methods that aren’t dunders. Is it the case that you can’t do anything useful with tuples?</strong></p>
<p><span style="color:#412986"><strong>A:</strong></span> No, that’s not the case. Now, that said, if you compare the output from the <strong>print dir</strong> combo mambo for a list to a tuple, it certainly appears that tuples are inferior to lists as they have next to no methods associated with them. But, recall: tuples are immutable, so you can never change a tuple once it’s assigned data (this fact alone reduces the number of methods you need with tuples). As you work through this book you’ll see examples of where it makes sense to use a tuple over a list, and vice versa. Bottom line: you need both.</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution_id000028">
<h1>Sharpen your pencil Solution</h1>
<figure><div class="figure">
<img alt="Image" height="88" src="assets/pencil.png" width="203"/>
<h6/>
</div></figure>
<p>You were to assume the following line of code has executed in a new, empty code cell in your notebook:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="71" src="assets/ch03-16-02.png" width="848"/>
<h6/>
</div></figure>
<p>Using the square bracket notation, you were to extract the list of swim times from the <code>data</code> tuple, assigning them to a list called <code>times</code>. You then were to display the contents of the <code>times</code> list on screen:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="201" src="assets/ch03-16-03.png" width="827"/>
<h6/>
</div></figure>
<p>Using Python’s unpacking technology (aka <em>multiple assignment</em>), you were to extract the list of swim times from the <code>data</code> tuple a second time, assigning them to a list called <code>times2</code>. You then were to display the contents of the <code>times2</code> list on screen:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="393" src="assets/ch03-16-04.png" width="777"/>
<h6/>
</div></figure>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Image" height="615" src="assets/ch03-17-01.png" width="910"/>
<h6/>
</div></figure>
<p><strong>There’s often a “better” way.</strong></p>
<p>The code on the last page works and does what you expect it to. (You did try it out in your notebook, didn’t you?!?). It is possible to make both examples more <em>Pythonic</em> with a couple of small changes, which you’ll explore over the page.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#636466"><strong>“Pythonic”: when code is written to take advantage of what Python has to offer, as opposed to Python code which clearly looks like it been written to conform to some other programming language’s idea of “the right way”.</strong></span></p>
</div>
<p>The hope is, once these changes are applied, your code won’t feel quite so unwieldy.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="behind_the_scenes_id00001">
<h1>Behind the Scenes</h1>
<figure><div class="figure">
<img alt="Image" height="148" src="assets/scene.png" width="127"/>
<h6/>
</div></figure>
<p><strong>Multiple assignment, default variables, and Pythonic code, 1 of 2.</strong></p>
<figure class="informal"><div class="figure">
<img alt="Image" height="492" src="assets/ch03-18-02.png" width="998"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Image" height="451" src="assets/ch03-18-03.png" width="996"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="behind_the_scenes_id00002">
<h1>Behind the Scenes</h1>
<figure><div class="figure">
<img alt="Image" height="148" src="assets/scene.png" width="127"/>
<h6/>
</div></figure>
<p><strong>Multiple assignment, default variables, and Pythonic code, 2 of 2.</strong></p>
<figure class="informal"><div class="figure">
<img alt="Image" height="506" src="assets/ch03-19-02.png" width="948"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Image" height="446" src="assets/ch03-19-03.png" width="975"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark_id00002">
<h1>Watch it!</h1>
<figure><div class="figure">
<img alt="Image" height="114" src="assets/watch-it.png" width="122"/>
<h6/>
</div></figure>
<p><strong>Be careful: don’t rely on the default variable.</strong></p>
<p><em>The use of the default variable is very Pythonic. However, care is needed. Even though you can assign values to the default variable (the single underscore), you can’t rely on the value staying assigned to</em> <code>_</code> <em>for any length of time. Python (and Jupyter) uses</em> <code>_</code> <em>behind the scenes in lots of places, so it’s value can change... and you won’t know. Yikes.</em></p>
<p><em>If you need to remember a value, assign it to a variable with a proper variable name. Don’t rely on the default variable.</em></p>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Image" height="671" src="assets/ch03-20-02.png" width="760"/>
<h6/>
</div></figure>
<p><strong>A list of filenames would be nice.</strong></p>
<p>Your <code>get_swim_data</code> function, part of the <code>swimclub</code> module, takes any swimmer’s filename and returns a tuple of results to you.</p>
<p>What’s needed need now is the full list of filenames which you should be able to get from your underlying operating system. As you can imagine, Python has you covered.</p>
</div></section>
<section data-pdf-bookmark="Let’s determine the list of filenames" data-type="sect1"><div class="sect1" id="letapostrophes_determine_the_list_of_fil">
<h1>Let’s determine the list of filenames</h1>
<p>When it comes to working with your operating system (whether you’re on <em>Windows</em>, <em>macOS</em>, or <em>Linux</em>), the PSL has you covered. The <code>os</code> module lets your Python code talk to your operating system in an platform-independent way, and you’ll now use the <code>os</code> module to grab a list of the files in the <code>swimdata</code> folder.</p>
<p>Be sure to follow along in your <code>Files.ipynb</code> notebook.</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="104" src="assets/ch03-21-01.png" width="521"/>
<h6/>
</div></figure>
<p>You want the names of the files in your <code>swimdata</code> folder, and the <code>os</code> module provides the handy-dandy <code>listdir</code> function to do just that. When you pass in the location of a folder, <code>listdir</code> returns a list of all the files it contains:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="298" src="assets/ch03-21-02.png" width="924"/>
<h6/>
</div></figure>
<p>You’d be forgiven for expecting the <code>swim_files</code> list to contain 60 pieces of data. After all, there are 60 files in your folder. However, on our <em>Mac</em>, we were in for a shock when we double-checked how big <code>swim_files</code> is:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="154" src="assets/ch03-21-03.png" width="543"/>
<h6/>
</div></figure>
</div></section>
<section data-pdf-bookmark="It’s time for a bit of detective work..." data-type="sect1"><div class="sect1" id="itapostrophes_time_for_a_bit_of_detectiv">
<h1>It’s time for a bit of detective work...</h1>
<p>You were expecting your list of files to have 60 filenames, but the <strong>len</strong> BIF is reporting 61 items in your <code>swim_files</code> variable.</p>
<p>In order to begin to try and work out what’s happening here, let’s first display the value of <code>swim_files</code> list on screen:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="93" src="assets/ch03-22-01.png" width="138"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Image" height="640" src="assets/ch03-22-02.png" width="973"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Image" height="433" src="assets/ch03-22-03.png" width="551"/>
<h6/>
</div></figure>
<p><strong>What a great idea.</strong></p>
<p>Let’s use the combo mambo to see what’s built into lists.</p>
</div></section>
<section data-pdf-bookmark="What can you do to lists?" data-type="sect1"><div class="sect1" id="what_can_you_do_to_listsquestion_mark">
<h1>What can you do to lists?</h1>
<p>Here’s the <strong>print dir</strong> combo mambo output for your <code>swim_files</code> list:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="232" src="assets/ch03-23-01.png" width="933"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark_id00003">
<h1>Watch it!</h1>
<figure><div class="figure">
<img alt="Image" height="114" src="assets/watch-it.png" width="122"/>
<h6/>
</div></figure>
<p><strong>Care is needed with the list built-ins (especially if they change your list).</strong></p>
<p><em>If you’re rubbing your hands in glee at the prospect of using the</em> <em><strong>sort</strong></em> <em>method to reorder your list, take a step back. The</em> <em><strong>sort</strong></em> <em>method performs it’s reordering “in-place”, which means the new order</em> <em><strong>overwrites</strong></em> <em>(!!) what was previously in the list. The old list ordering is lost forever... and there’s no undo.</em></p>
<p><em>If you’d like to maintain the existing ordering in your list but still need to sort, there’s a BIF which can help here. The</em> <em><strong>sorted</strong></em> <em>BIF returns a ordered copy of your list’s data, all the while leaving the existing list ordering intact. There’s no undo here, either, as your original list is unchanged.</em></p>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Image" height="484" src="assets/ch03-23-03.png" width="1002"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Image" height="836" src="assets/ch03-24-01.png" width="672"/>
<h6/>
</div></figure>
<p><strong>Yes, that’s a potential issue.</strong></p>
<p>As the <code>swimdata.zip</code> file was initially created on a Mac, the <code>.DS_Store</code> file was automatically added to the ZIP archive. This type of OS-specific issue is always a concern.</p>
<p>Before moving on, it’s important to <em>remove</em> that unwanted filename from the <code>swim_files</code> list.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_id000010">
<h1>Exercise</h1>
<figure><div class="figure">
<img alt="Image" height="107" src="assets/exercise.png" width="170"/>
<h6/>
</div></figure>
<p>Here’s the list of built-in methods available when working with lists:</p>
<pre data-type="programlisting">'append', 'clear', 'copy', 'count', 'extend', 'index',
'insert', 'pop', 'remove', 'reverse', 'sort'</pre>
<p>You already know what the <strong>append</strong> and <strong>sort</strong> methods do, but what of the others?</p>
<p>Using the <strong>help</strong> BIF, spend some time in your notebook to learn what some of these other methods do. Your goal is to identify the method to use to delete that unwanted <code>.DS_Store</code> filename from your list. When you think you’ve identified a method, write its name in the space below:</p>
<p>_______________________________________</p>
<p>_______________________________________</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="relax_id00002">
<h1>Relax</h1>
<figure><div class="figure">
<img alt="Image" height="146" src="assets/cup.png" width="169"/>
<h6/>
</div></figure>
<p>Don’t stress yourself if, as a result of completing the above exercise, you identify more than one way to accomplish the assigned task. This is OK, as sometimes the same outcome can be accomplished in many different ways. There’s rarely an absolutely right way to do something. As with most things, you should concentrate on getting your code to do what you need it to do <em>first</em> before attempting any sort of optimization.</p>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Image" height="437" src="assets/ch03-25-04.png" width="631"/>
<h6/>
</div></figure>
<p><strong>There sure is.</strong></p>
<p>You’ll get to see most of the list built-in methods in action as you progress though this book. However, for now, concentrate on just enough to complete the exercise.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution_id000011">
<h1>Exercise Solution</h1>
<figure><div class="figure">
<img alt="Image" height="107" src="assets/exercise.png" width="170"/>
<h6/>
</div></figure>
<p>You were shown the list of built-in methods available when working with lists:</p>
<pre data-type="programlisting">'append', 'clear', 'copy', 'count', 'extend', 'index', 
'insert', 'pop', 'remove', 'reverse', 'sort'</pre>
<p>You already knew what the <strong>append</strong> and <strong>sort</strong> methods do, but what of the others?</p>
<p>Using the <strong>help</strong> BIF, you were to spend some time in your notebook to learn what some of these other methods do. Your goal was to identify the method to use to delete that unwanted <code>.DS_Store</code> filename from your list. You were to write the method’s name in the space below:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="219" src="assets/ch03-26-02.png" width="783"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions_id000041">
<h1>there are no Dumb Questions</h1>
<p><span style="color:#412986"><strong>Q:</strong></span> <strong>If I unzip</strong> <code>swimdata.zip</code> <strong>on something other than a Mac, will I still see that Mac-specific</strong> <code>.DS_Store</code><strong>?</strong></p>
<p><span style="color:#412986"><strong>A:</strong></span> Unfortunately, yes. The ZIP archive was created on an Apple device, so the <code>.DS_Store</code> file is always going to be there.</p>
<p><span style="color:#412986"><strong>Q:</strong></span> <strong>Can’t we avoid this issue by asking the Coach to use something other than a Mac for this?</strong></p>
<p><span style="color:#412986"><strong>A:</strong></span> We asked, and the Coach told us he’d rather eat glass...</p>
<p><span style="color:#412986"><strong>Q:</strong></span> <strong>I can see the relationship between tuples and lists, in that they are somewhat similar. I guess a list is also a sequence, but it is immutable?</strong></p>
<p><span style="color:#412986"><strong>A:</strong></span> Lists are indeed a sequence, but – no – lists are not immutable. Rather, lists are <em>mutable</em>, in that they can dynamically change as your code runs (unlike tuples).</p>
<p><span style="color:#412986"><strong>Q:</strong></span> <strong>I guess lists are way more useful than tuples, right?</strong></p>
<p><span style="color:#412986"><strong>A:</strong></span> It depends. Both lists and tuples have their uses. Overall, lists see more action than tuples, in that lists support many more use-cases. But it’s not the case that lists are “better” or “more useful” than tuples: lists and tuples are designed for different purposes.</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="test_drive_id00012">
<h1>Test Drive</h1>
<figure><div class="figure">
<img alt="Image" height="94" src="assets/car.png" width="191"/>
<h6/>
</div></figure>
<p>Of the eleven methods built-into every Python list, the one which caught our eye was <strong>remove</strong>.</p>
<p>Here’s what the <strong>help</strong> BIF reported about <strong>remove</strong>:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="264" src="assets/ch03-27-02.png" width="856"/>
<h6/>
</div></figure>
<p>Sure enough, when the <strong>remove</strong> method is invoked against the <strong>swim_files</strong> list (with <code>.DS_Store</code> given as the filename ear-marked for the chop) the list <em>shrinks</em> from 61 items to 60:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="392" src="assets/ch03-27-03.png" width="898"/>
<h6/>
</div></figure>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Image" height="840" src="assets/ch03-28-01.png" width="778"/>
<h6/>
</div></figure>
<p><strong>That would be nice, wouldn’t it?</strong></p>
<p>We could throw caution to the wind and dive into creating some bar charts, but it might be too soon for that.</p>
<p>Your <code>get_swim_data</code> function has worked so far, but can you be sure it’ll work for <em>any</em> swimmer’s file? Let’s spend a moment ensuring our <code>get_swim_data</code> function works as expected no matter the data file it’s presented with.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_id000029">
<h1>Sharpen your pencil</h1>
<figure><div class="figure">
<img alt="Image" height="88" src="assets/pencil.png" width="203"/>
<h6/>
</div></figure>
<p>Let’s see if you can confirm your <code>get_swim_data</code> function works with any swimmer’s file. Write a <strong>for</strong> loop which processes the filenames in <code>swim_files</code> one at a time. On each loop iteration, display the name of the file currently being processed, then arrange to call your <code>get_swim_data</code> function with the current filename. You do not need to display the data returned from your function, but you do need to call it.</p>
<p>Write the code you used here and note down anything your learned from running your <strong>for</strong> loop in the space below:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="740" src="assets/ch03-29-02.png" width="877"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution_id000030">
<h1>Sharpen your pencil Solution</h1>
<figure><div class="figure">
<img alt="Image" height="88" src="assets/pencil.png" width="203"/>
<h6/>
</div></figure>
<p>You were to try out your <code>get_swim_data</code> function on all the files in your <code>swim_files</code> list..</p>
<p>You were to write a <strong>for</strong> loop which processes the filenames in <code>swim_files</code> one at a time. On each iteration, you were to display the name of the file currently being processed, then arrange to call your <code>get_swim_data</code> function with the current filename. You didn’t need to display the data returned from your function, but you do need to call it.</p>
<p>Here’s the code which we came up with after experimenting in our <code>Files.ipynb</code> notebook, together with the output generated by the code:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="840" src="assets/ch03-30-02.png" width="954"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-pdf-bookmark="Is the issue with your data or your code?" data-type="sect1"><div class="sect1" id="is_the_issue_with_your_data_or_your_code">
<h1>Is the issue with your data or your code?</h1>
<p>Now that you’ve identified the offending file, let’s take a look at its contents to see if you can get to the root of the problem. Here’s the <code>Abi-10-50m-Back.txt</code> file opened in VS Code:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="266" src="assets/ch03-31-01.png" width="953"/>
<h6/>
</div></figure>
<p>Here’s the line of code which is throwing the error. Can you see what the issue is?</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="143" src="assets/ch03-31-02.png" width="654"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Image" height="495" src="assets/ch03-31-03.png" width="868"/>
<h6/>
</div></figure>
<p><strong>An incorrect assumption is the problem.</strong></p>
<p>Your code, as written, assumes every swim time conforms to the <em>mins:secs.hundredths</em> format, but this is clearly not the case with Abi’s 50m swim times, and this is why you’re getting that <span style="color:#bf0033"><code><strong>ValueError</strong></code></span>.</p>
<p>Now that you know what the problem is, what’s the solution?</p>
</div></section>
<section data-pdf-bookmark="Cubicle Conversation" data-type="sect1"><div class="sect1" id="cubicle_conversation_id00003">
<h1>Cubicle Conversation</h1>
<p><strong>Sam</strong>: What are our options here?</p>
<p><strong>Alex</strong>: We could fix the data, right?</p>
<p><strong>Mara</strong>: How so?</p>
<p><strong>Alex</strong>: We could pre-process each data file to make sure there’s no missing minutes, perhaps by prefixing a zero and a colon when the minutes are missing? That way, we won’t have to change any code.</p>
<p><strong>Mara</strong>: That would work, but...</p>
<p><strong>Sam</strong>: ...it would be messy. Also, I’m not too keen to preprocessing all the files, as the vast majority won’t need to be changed, which feels like it might be wasteful.</p>
<p><strong>Mara</strong>: And although, as a strategy, we wouldn’t have to change any existing code, we would have to create the code to do the pre-processing, perhaps as a separate utility.</p>
<p><strong>Sam</strong>: Recall, too, that the data is in a fixed format, and that it’s generated by the Coach’s smart stopwatch. We really shouldn’t mess with the data, so let’s leave it as is.</p>
<p><strong>Alex</strong>: So, we’re looking at changing our <code>get_swim_data</code> function, then?</p>
<p><strong>Mara</strong>: Yes, I think that’s a better strategy.</p>
<p><strong>Sam</strong>: Me, too.</p>
<p><strong>Alex</strong>: So, what do we need to do?</p>
<p><strong>Mara</strong>: We need to identify where in our code the changes need to be made...</p>
<p><strong>Sam</strong>: ...and what those code changes need to be.</p>
<p><strong>Alex</strong>: OK, sounds good. So were’s going to take a closer look at our <code>get_swim_data</code> function so we can decide what code needs to change?</p>
<p><strong>Mara</strong>: Yes, then we can use an <strong>if</strong> statement to make a decision based on whether or not the swim time currently being processed has a minute value.</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="387" src="assets/ch03-32-01.png" width="424"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_id000031">
<h1>Sharpen your pencil</h1>
<figure><div class="figure">
<img alt="Image" height="88" src="assets/pencil.png" width="203"/>
<h6/>
</div></figure>
<p>Here’s the most recent version of the code from your <code>swimclub.py</code> module.</p>
<p>Grab your pencil and encircle the area of the code you think needs to incorporate an <strong>if</strong> statement:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="656" src="assets/ch03-33-02.png" width="926"/>
<h6/>
</div></figure>
</div></aside>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#636466"><strong>Flip the page to see our selection.</strong></span> <img alt="Image" height="18" src="assets/arrow.png" width="72"/></p>
</div>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution_id000032">
<h1>Sharpen your pencil Solution</h1>
<figure><div class="figure">
<img alt="Image" height="88" src="assets/pencil.png" width="203"/>
<h6/>
</div></figure>
<p>You were shown the most recent version of the code from your <code>swimclub.py</code> module.</p>
<p>Grabbing your pencil, you were asked to encircle the area of the code you think needs to incorporate an <strong>if</strong> statement:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="664" src="assets/ch03-34-02.png" width="928"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-pdf-bookmark="Decisions, decisions, decisions" data-type="sect1"><div class="sect1" id="decisionscomma_decisionscomma_decisions">
<h1>Decisions, decisions, decisions</h1>
<p>That’s what <strong>if</strong> statements do, day-in and day-out: they make decisions.</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="765" src="assets/ch03-35-01.png" width="720"/>
<h6/>
</div></figure>
<p><strong>Yes, that is what’s needed here.</strong></p>
<p>Let’s take a closer look at the two possible swim time formats.</p>
<p>First up, here is one of the times recorded for Darius in his file:</p>
<p><code>'1:30.96'</code></p>
<p>And here’s a time taken from Abi’s data:</p>
<p><code>'43.35'</code></p>
<p>It’s easy to spot the difference: <em>Abi’s data doesn’t show any minutes</em>. With this in mind, it’s possible to come up with a condition to check when making a decision. Can you work out what it is? (Hint: consider your BFF, the colon).</p>
</div></section>
<section data-pdf-bookmark="Let’s look for the colon “in” the string" data-type="sect1"><div class="sect1" id="letapostrophes_look_for_the_colon_questi">
<h1>Let’s look for the colon “in” the string</h1>
<p>If the colon appears in any swim time string, then the time has a minute value. Although strings come with lots of built-in methods, including methods which can perform a search, let’s not use any of these here. As searching is such a common requirement, Python provides the <strong>in</strong> operator. You’ve seen <strong>in</strong> before, with <strong>for</strong>:</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#636466"><strong>The “find” and “index” string methods both perform searching.</strong></span></p>
</div>
<figure class="informal"><div class="figure">
<img alt="Image" height="120" src="assets/ch03-36-01.png" width="893"/>
<h6/>
</div></figure>
<p>Using <strong>in</strong> with <strong>for</strong> identifies the sequence being iterated over. However, when <strong>in</strong> is used outside a loop it takes on <em>searching</em> powers. Consider these example uses of <strong>in</strong>:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="752" src="assets/ch03-36-02.png" width="925"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Image" height="524" src="assets/ch03-37-01.png" width="677"/>
<h6/>
</div></figure>
<p><strong>We love the</strong> <code><strong>in</strong></code> <strong>keyword, too.</strong></p>
<p>It’s a Python superpower.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_id000012">
<h1>Exercise</h1>
<figure><div class="figure">
<img alt="Image" height="107" src="assets/exercise.png" width="170"/>
<h6/>
</div></figure>
<p>As previewed in <a data-type="xref" href="ch01.xhtml#why_pythonquestion_mark_similar_but_diff">Chapter 1</a>, here’s the general structure of a simple <strong>if</strong> statement:</p>
<pre data-type="programlisting">if &lt;some condition&gt;:
    Code to execute when &lt;some condition&gt; is True
else:
    Code to execute when &lt;some condition&gt; is False</pre>
<p>Now that you know about the <strong>in</strong> keyword, can you come with a conditional statement which checks to see when the colon appears in the current swim time (which is stored in a variable named <code>t</code>)? Fill-in the blank space below:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="264" src="assets/ch03-37-03.png" width="807"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution_id000013">
<h1>Exercise Solution</h1>
<figure><div class="figure">
<img alt="Image" height="107" src="assets/exercise.png" width="170"/>
<h6/>
</div></figure>
<p>Here’s the general structure of a simple <strong>if</strong> statement:</p>
<pre data-type="programlisting">if &lt;some condition&gt;:
   Code to execute when &lt;some condition&gt; is True
else:
   Code to execute when &lt;some condition&gt; is False</pre>
<p>Now that you know about the <strong>in</strong> keyword, you were asked to you come with a conditional statement which checks to see when the colon appears in the current swim time (which is stored in a variable named <code>t</code>)? You were to fill-in the blank space below:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="201" src="assets/ch03-38-02.png" width="643"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark_id00004">
<h1>Watch It!</h1>
<figure><div class="figure">
<img alt="Image" height="114" src="assets/watch-it.png" width="122"/>
<h6/>
</div></figure>
<p><strong>Be sure to write your if statements in a Pythonic way</strong></p>
<p><em>If you are coming to Python from one of the C-like languages, your fingers might insist on coding extra parentheses around the condition. Or perhaps you’ll feel the need to explicitly check to see if the condition evaluates to</em> <strong>True</strong> <em>(or</em> <strong>False</strong> <em>). Don’t be tempted to do either. The Python interpreter won’t stop you doing what’s shown below, but you need to resist, resist, resist!</em></p>
<figure class="informal"><div class="figure">
<img alt="Image" height="159" src="assets/ch03-38-04.png" width="687"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_id000033">
<h1>Sharpen your pencil</h1>
<figure><div class="figure">
<img alt="Image" height="88" src="assets/pencil.png" width="203"/>
<h6/>
</div></figure>
<p>There’s one final task, and that’s to work out the code which runs when the condition evaluates to <strong>False</strong>. Here’s your <strong>if</strong> statement so far. Can you come up with the code which needs to be added to the <strong>else</strong> code block? Experiment in your notebook, then add the code below. As always, our solution is over the page.</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="368" src="assets/ch03-39-02.png" width="811"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions_id000042">
<h1>there are no Dumb Questions</h1>
<p><strong><span style="color:#412986"><strong>Q:</strong></span></strong> <strong>I’m guessing “True” and “False” are Python’s boolean values? Can I use 1 and 0 in their place?</strong></p>
<p><span style="color:#412986"><strong>A:</strong></span> Sort of. Within a <em>boolean context</em>, <code>1</code> evaluates to <strong>True</strong> and <code>0</code> evaluates to <strong>False</strong>. That said, Python programmers rarely use <code>1</code> and <code>0</code> in this way. This has to do with the fact that any value in Python can be used within a boolean context.</p>
<p><span style="color:#412986"><strong>Q:</strong></span> <strong>Is there a way to check what a value evaluates to within a boolean context?</strong></p>
<p><span style="color:#412986"><strong>A:</strong></span> Yes, there’s a BIF for that. It’s called <strong>bool</strong>. You can use it interactively (or in your code) to check any value’s boolean evaluation.</p>
<p><span style="color:#412986"><strong>Q:</strong></span> <strong>What about using “true” and “false”, i.e., all lowercase? How do those values evaluate?</strong></p>
<p><span style="color:#412986"><strong>A:</strong></span> Not the way you might expect. Using <code>true</code> and <code>false</code> is a bad idea, as case is significant. <strong>True</strong> is a boolean value, as is <strong>False</strong>, whereas <code>true</code> and <code>false</code> are not. They’re valid variable names, <em>not</em> booleans. And as variables, they exist, which means they’ll always evaluate to <strong>True</strong> (how can something that exists be anything other than <strong>True</strong>?). And, yes, we agree that something called <code>false</code> evaluating to <strong>True</strong> is a little on the weird side. Life lesson: don’t ever use lowercase <code>true</code> nor <code>false</code> as variable names.</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution_id000034">
<h1>Sharpen your pencil Solution</h1>
<figure><div class="figure">
<img alt="Image" height="88" src="assets/pencil.png" width="203"/>
<h6/>
</div></figure>
<p>You had one final task, and that was to work out the code which runs when the condition evaluates to <strong>False</strong>. You were given your <strong>if</strong> statement so far, and were to come up with the code which needs to be added to the <strong>else</strong> code block. Here’s what we used. Is your code similar, the same, or entirely different?</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="428" src="assets/ch03-40-02.png" width="878"/>
<h6/>
</div></figure>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Image" height="448" src="assets/ch03-40-03.png" width="572"/>
<h6/>
</div></figure>
<p><strong>Absolutely, after a bit of housekeeping.</strong></p>
<p>Be sure to add the above code to your <code>get_swim_data</code> function within your <code>swimclub.py</code> module, and don’t forget to <strong>save</strong> your file.</p>
<p>With that done, return to your notebook and follow along with the <em>Test Drive</em> on the next page.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="test_drive_id00013">
<h1>Test Drive</h1>
<figure><div class="figure">
<img alt="Image" height="94" src="assets/car.png" width="191"/>
<h6/>
</div></figure>
<p>In order to use the latest version of your <code>swimclub</code> module, you need to reload it. The easiest way to do this is to clear all of your notebook’s cell, restart your notebook, then run every cell. At the top of VS Code, notice the following options, which you should click on in the order shown (1, then 2, and then 3):</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="208" src="assets/ch03-41-02.png" width="856"/>
<h6/>
</div></figure>
<p>Once you complete the three steps above, your <strong>for</strong> loop produces (hopefully) 60 lines of output. This time, hopefully, there is no runtime error:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="669" src="assets/ch03-41-03.png" width="908"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-pdf-bookmark="Did you end up with 60 processed files?" data-type="sect1"><div class="sect1" id="did_you_end_up_with_60_processed_filesqu">
<h1>Did you end up with 60 processed files?</h1>
<p>You are likely feeling confident that your most recent code is processing all the files in your <code>swimdata</code> folder. We are, too. However, it is often nice to double-check these things. As always, there’s any number of ways to do this, but let’s number the results from your <strong>for</strong> loop by adding an enumeration, starting from 1, to each line of output displayed on screen.</p>
<p>To do so, let’s use yet another BIF created for this very purpose called <strong>enumerate</strong>:</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="808" src="assets/ch03-42-01.png" width="919"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions_id000043">
<h1>there are no Dumb Questions</h1>
<p><span style="color:#412986"><strong>Q:</strong></span> <strong>This may be nitpicking, but why did we do a restart on our notebook? Surely typing</strong> <code>import swimclub</code> <strong>into an empty cell reloads the previously imported module’s newest code?</strong></p>
<p><span style="color:#412986"><strong>A:</strong></span> (We hope you’re sitting down...) No, it doesn’t. The Python interpreter implements an aggressive caching scheme for imported modules which, for all intents and purposes, effectively forbids the re-importation of an already imported module even if the module’s code has changed in the meantime. Although there are some techniques for overriding this default module caching behavior, in our experience, the safest thing to do is to <em>always</em> restart a notebook after a change to a module’s code. This way you are guaranteed to be running the code you think you’re running.</p>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Image" height="763" src="assets/ch03-43-01.png" width="927"/>
<h6/>
</div></figure>
</div></section>
<section data-pdf-bookmark="The Coach’s code is taking shape..." data-type="sect1"><div class="sect1" id="the_coachapostrophes_code_is_taking_shap">
<h1>The Coach’s code is taking shape...</h1>
<p>Your <code>swimclub</code> module is now ready. Given the name of a file which contains a collection of swim time strings, your new module can produce usable data. The Coach is expecting to see some bar charts created from this data, so let’s dive into implementing that functionality in the next chapter.</p>
<p>As always, you can move on after you’ve reviewed the chapter summary, then tried your hand at this chapter’s crossword.</p>
<figure class="informal"><div class="figure">
<img alt="Image" height="287" src="assets/ch03-44-01.png" width="716"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="chapter_review_bullet_points_id0003">
<h1>Chapter Review Bullet Points</h1>
<ul>
<li><p>The <strong>def</strong> keyword defines a new, bespoke function.</p></li>
<li><p><strong>Triple-quoted</strong> strings are often used to add a multi-line comments to code, and are often found at the top of a function’s code block (right after the function signature).</p></li>
<li><p>When you put code in it’s own file (with a <code>.py</code> extension), you create a <strong>module</strong>.</p></li>
<li><p>The <strong>import</strong> statements lets you reuse a module, e.g., <code>import swimclub</code>.</p></li>
<li><p>Use a <strong>fully qualified name</strong> to invoke a function from a module, e.g., <code>swimclub.get_swim_data</code>.</p></li>
<li><p>The <strong>return</strong> statement allows a bespoke function to return a result.</p></li>
<li><p>If a function tries to return more than one result, the collection of returned values are <strong>bundled</strong> <strong>together</strong> as a single <strong>tuple</strong>. This is due to the fact that Python function’s only ever return a single result.</p></li>
<li><p>A tuple is an <strong>immutable sequence</strong> data structure. Once a tuple is assigned values, the tuple cannot change.</p></li>
<li><p>Lists are like tuples, expect for the fact that lists are <strong>mutable</strong>.</p></li>
<li><p>The <code>os</code> module (included as part of the PSL) lets your Python code talk to your underlying operating system.</p></li>
<li><p>Although lists come with a handy <strong>sort</strong> method, be careful using it as the ordering is applied <em>in-place</em>. If you want to keep any list’s current order, use the <strong>sorted</strong> BIF instead.</p></li>
<li><p>Lists come built-in with lots of methods (not just <strong>sort</strong>), including the useful <strong>remove</strong> method.</p></li>
<li><p>The <strong>in</strong> operator is one of our favorites, and should be one of yours, too. It’s great at searching (aka <em>checking for membership</em>).</p></li>
<li><p>When you need to make a decision, nothing beats the <strong>if else</strong> combo.</p></li>
<li><p>An often overlooked, but truly wonderful, BIF is <strong>enumerate</strong>. It can be used to number the iterations of any <strong>for</strong> loop.</p></li>
</ul>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="the_module_crossword">
<h1>The Module Crossword</h1>
<figure class="informal"><div class="figure">
<img alt="Image" height="103" src="assets/ch03-45-01.png" width="133"/>
<h6/>
</div></figure>
<p><em>The answers to the clues are found in this chapter’s pages, and the solution is, as always, on the next page.</em></p>
<figure class="informal"><div class="figure">
<img alt="Image" height="617" src="assets/ch03-45-02.png" width="616"/>
<h6/>
</div></figure>
<p><strong>Across</strong></p>
<p>4. A place to put 9 across.</p>
<p>7. A BIF which provides numbers on iteration.</p>
<p>8. From <code>os</code>: list a folder’s content.</p>
<p>9. A named chunk of code.</p>
<p>12. The underscore is the _______ variable.</p>
<p>15. BIF for applying order to your data (while leaving the current ordering untouched).</p>
<p>16. Loads code from a file.</p>
<p>17. Can start the last line of 9 across.</p>
<p><strong>Down</strong></p>
<p>1. Finds and deletes a value from a list.</p>
<p>2. What you get when you’ve not enough values to unpack.</p>
<p>3. It’s like an immutable list.</p>
<p>5. This keyword introduces 9 across.</p>
<p>6. Be explicit with a fully _________ name.</p>
<p>10. Used when making decisions.</p>
<p>11. Your new BFF.</p>
<p>13. The false part of 10 down.</p>
<p>14. _______ quotes, looks like: <code>"""</code>.</p>
<p>16. A powerful little operator.</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="the_module_crossword_solution">
<h1>The Module Crossword Solution</h1>
<figure class="informal"><div class="figure">
<img alt="Image" height="104" src="assets/ch03-46-01.png" width="133"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Image" height="615" src="assets/ch03-46-02.png" width="616"/>
<h6/>
</div></figure>
<p><strong>Across</strong></p>
<p>4. A place to put 9 across.</p>
<p>7. A BIF which provides numbers on iteration.</p>
<p>8. From <code>os</code>: list a folder’s content.</p>
<p>9. A named chunk of code.</p>
<p>12. The underscore is the _______ variable.</p>
<p>15. BIF for applying order to your data (while leaving the current ordering untouched).</p>
<p>16. Loads code from a file.</p>
<p>17. Can start the last line of 9 across.</p>
<p><strong>Down</strong></p>
<p>1. Finds and deletes a value from a list.</p>
<p>2. What you get when you’ve not enough values to unpack.</p>
<p>3. It’s like an immutable list.</p>
<p>5. This keyword introduces 9 across.</p>
<p>6. Be explicit with a fully _________ name.</p>
<p>10. Used when making decisions.</p>
<p>11. Your new BFF.</p>
<p>13. The false part of 10 down.</p>
<p>14. _______ quotes, looks like: <code>"""</code>.</p>
<p>16. A powerful little operator.</p>
</div></aside>
</div></section>
</div></section></div>

<div id="sbo-rt-content"><section class="abouttheauthor" data-pdf-bookmark="About the Author" data-type="colophon" epub:type="colophon"><div class="colophon" id="idm46376392584736">
<h1>About the Author</h1>
<p><strong>Paul Barry</strong> has a B.Sc. in Information Systems, as well as an M.Sc. in Computing. He also has a postgraduate qualification in Learning and Teaching. Paul has worked at The Institute of Technology, Carlow since 1995, and lectured there since 1997. Prior to becoming involved in teaching, Paul spent a decade in the IT industry working in Ireland and Canada, with the majority of his work within a healthcare setting.</p>
</div></section></div></body></html>