<html><head></head><body>
<div id="sbo-rt-content"><section data-pdf-bookmark="Preface" data-type="preface" epub:type="preface"><div class="preface" id="preface">
<h1>Preface</h1>
<p>The Python programming language reconciles many apparent contradictions: elegant yet pragmatic, simple yet powerful, it’s very high-level yet doesn’t get in your way when you need to fiddle with bits and bytes, and it’s suitable for novice programmers and great for experts, too.</p>
<p>This book is intended for programmers with some previous exposure to Python, as well as experienced programmers coming to Python for the first time from other languages. It provides a quick reference to Python itself, the most commonly used parts of its vast standard library, and a few of the most popular and useful third-party modules and packages. The Python ecosystem has grown so much in richness, scope, and complexity that a single volume can no longer reasonably hope to be encyclopedic. Still, the book covers a wide range of application areas, including web and network programming, XML handling, database interactions, and high-speed numeric computing. It also explores Python’s cross-platform capabilities and the basics of extending Python and embedding it in other applications.</p>
<section data-pdf-bookmark="How To Use This Book" data-type="sect1"><div class="sect1" id="how_to_use_this_book">
<h1>How To Use This Book</h1>
<p>While you can read this volume linearly from the beginning, we also aim for it to be a useful reference for the working programmer. You may choose to use the index to locate items of interest, or to read specific chapters for coverage of their particular topics. However you use it, we sincerely hope you enjoy reading what represents the fruit of the best part of a year’s work for the team.</p>
<p>The<a contenteditable="false" data-primary="Python" data-secondary="chapter overviews" data-type="indexterm" id="idm44924596692080"/> book has five parts, as follows.</p>
<section data-pdf-bookmark="Part I, Getting Started with Python" data-type="sect2"><div class="sect2" id="part_icomma_getting_started_with_python">
<h2>Part I, Getting Started with Python</h2>
<dl>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch01.xhtml#introduction_to_python">Chapter 1, “Introduction to Python”</a></dt>
<dd>Covers the general characteristics of the Python language, its implementations, where to get help and information, how to participate in the Python community, and how to obtain and install Python on your computer(s) or run it in your browser.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch02.xhtml#the_python_interpreter">Chapter 2, “The Python Interpreter”</a></dt>
<dd>Covers the Python interpreter program, its command-line options, and how to use it to run Python programs and in interactive sessions. The chapter mentions text editors for editing Python programs and auxiliary programs for checking your Python sources, along with some full-fledged integrated development environments, including IDLE, which comes free with standard Python. The chapter also covers running Python programs from the command line.</dd>
</dl>
</div></section>
<section data-pdf-bookmark="Part II, Core Python Language and Built-ins" data-type="sect2"><div class="sect2" id="part_iicomma_core_python_language_and_b">
<h2>Part II, Core Python Language and Built-ins</h2>
<dl>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch03.xhtml#the_python_language">Chapter 3, “The Python Language”</a></dt>
<dd>Covers Python syntax, built-in data types, expressions, statements, control flow, and how to write and call functions.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch04.xhtml#object_oriented_python">Chapter 4, “Object-Oriented Python”</a></dt>
<dd>Covers object-oriented programming in Python.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch05.xhtml#type_annotations">Chapter 5, “Type Annotations”</a></dt>
<dd>Covers how to add type information to your Python code, to gain type hinting and autocomplete help from modern code editors and support static type checking from type checkers and linters.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch06.xhtml#exceptions">Chapter 6, “Exceptions”</a></dt>
<dd>Covers how to use exceptions for errors and special situations, logging, and how to write code to automatically clean up when exceptions occur.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch07.xhtml#modules_and_packages">Chapter 7, “Modules and Packages”</a></dt>
<dd>Covers how Python lets you group code into modules and packages, how to define and import modules, and how to install third-party Python packages. This chapter also covers working with virtual environments to isolate project dependencies.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch08.xhtml#core_built_ins_and_standard_library_mod">Chapter 8, “Core Built-ins and Standard Library Modules”</a></dt>
<dd>Covers built-in data types and functions, and some of the most fundamental modules in the Python standard library (roughly speaking, the set of modules supplying functionality that, in some other languages, is built into the language itself).</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch09.xhtml#strings_and_things">Chapter 9, “Strings and Things”</a></dt>
<dd>Covers Python’s facilities for processing strings, including Unicode strings, bytestrings, and string literals.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch10.xhtml#regular_expressions">Chapter 10, “Regular Expressions”</a></dt>
<dd>Covers Python’s support for regular expressions.</dd>
</dl>
</div></section>
<section data-pdf-bookmark="Part III, Python Library and Extension Modules" data-type="sect2"><div class="sect2" id="part_iiicomma_python_library_and_extens">
<h2>Part III, Python Library and Extension Modules</h2>
<dl>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch11.xhtml#file_and_text_operations">Chapter 11, “File and Text Operations”</a></dt>
<dd>Covers dealing with files and text with many modules from Python’s standard library and platform-specific extensions for rich text I/O. This chapter also covers issues regarding internationalization and localization.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch12.xhtml#persistence_and_databases">Chapter 12, “Persistence and Databases”</a></dt>
<dd>Covers Python’s serialization and persistence mechanisms and its interfaces to DBM databases and relational (SQL-based) databases, particularly the handy SQLite that comes with Python’s standard library.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch13.xhtml#time_operations">Chapter 13, “Time Operations”</a></dt>
<dd>Covers dealing with times and dates in Python, with the standard library and third-party extensions.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch14.xhtml#customizing_execution">Chapter 14, “Customizing Execution”</a></dt>
<dd>Covers ways to achieve advanced execution control in Python, including execution of dynamically generated code and control of garbage collection. This chapter also covers some Python internal types, and the specific issue of registering “cleanup” functions to execute at program termination time.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch15.xhtml#concurrency_threads_and_processes">Chapter 15, “Concurrency: Threads and Processes”</a></dt>
<dd>Covers Python’s functionality for concurrent execution, both via multiple threads running within one process and via multiple processes running on a single machine.<sup><a data-type="noteref" href="preface01.xhtml#ch01fn1" id="ch01fn1-marker">1</a></sup> This chapter also covers how to access the process’s environment, and how to access files via memory-mapping mechanisms.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch16.xhtml#numeric_processing">Chapter 16, “Numeric Processing”</a></dt>
<dd>Covers Python’s features for numeric computations, both in standard library modules and in third-party extension packages; in particular, how to use decimal numbers or fractions instead of the default binary floating-point numbers. This chapter also covers how to get and use pseudorandom and truly random numbers, and how to speedily process whole arrays (and matrices) of numbers.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch17.xhtml#testingcomma_debuggingcomma_and_optimiz">Chapter 17, “Testing, Debugging, and Optimizing”</a></dt>
<dd>Covers Python tools and approaches that help you make sure that your programs are correct (i.e., that they do what they’re meant to do), find and fix errors in your programs, and check and enhance your programs’ performance. This chapter also covers the concept of warnings and the Python library module that deals with them.</dd>
</dl>
</div></section>
<section data-pdf-bookmark="Part IV, Network and Web Programming" data-type="sect2"><div class="sect2" id="part_ivcomma_network_and_web_programmin">
<h2>Part IV, Network and Web Programming</h2>
<dl>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch18.xhtml#networking_basics">Chapter 18, “Networking Basics”</a></dt>
<dd>Covers the basics of networking with Python.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch19.xhtml#client_side_network_protocol_modules">Chapter 19, “Client-Side Network <span class="keep-together">Protocol Modules</span>”</a></dt>
<dd>Covers modules in Python’s standard library to write network client programs, particularly for dealing with various network protocols from the client side, sending and receiving emails, and handling URLs.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch20.xhtml#serving_http">Chapter 20, “Serving HTTP”</a></dt>
<dd>Covers how to serve HTTP for web applications in Python, using popular third-party lightweight Python frameworks leveraging Python’s WSGI standard interface to web servers.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch21.xhtml#emailcomma_mimecomma_and_other_network">Chapter 21, “Email, MIME, and Other <span class="keep-together">Network Encodings</span>”</a></dt>
<dd>Covers how to process email messages and other network-structured and encoded documents in Python.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch22.xhtml#structured_text_html">Chapter 22, “Structured Text: HTML”</a></dt>
<dd>Covers popular third-party Python extension modules to process, modify, and generate HTML documents.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch23.xhtml#structured_text_xml">Chapter 23, “Structured Text: XML”</a></dt>
<dd>Covers Python library modules and popular extensions to process, modify, and generate XML documents.</dd>
</dl>
</div></section>
<section data-pdf-bookmark="Part V, Extending, Distributing, and Version Upgrade and Migration" data-type="sect2"><div class="sect2" id="part_vcomma_extendingcomma_distributing">
<h2>Part V, Extending, Distributing, and Version Upgrade and Migration</h2>
<p>Chapters 24 and 25 are included in summary form in the print edition of this book. You will find the full content of these chapters in the supporting online repository, described in <a data-type="xref" href="#how_to_contact_us">“How to Contact Us”</a>.</p>
<dl>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch24.xhtml#packaging_programs_and_extensions">Chapter 24, “Packaging Programs and Extensions”</a></dt>
<dd>Covers tools and modules to package and share Python modules and applications.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch25.xhtml#extending_and_embedding_classic_python">Chapter 25, “Extending and Embedding Classic Python”</a></dt>
<dd>Covers how to code Python extension modules using Python’s C API, Cython, and other tools.</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch26.xhtml#vthreedotsevenen_dashvthreedotn_migrati">Chapter 26, “v3.7 to v3.n Migration”</a></dt>
<dd>Covers topics and best practices for planning and deploying version upgrades for Python users ranging from individuals to library maintainers to enterprise-wide deployment and support staff.</dd>
<dt><a data-type="xref" data-xrefstyle="app-num-title" href="app01.xhtml#new_features_and_changes_in">Appendix, “New Features and Changes in Python 3.7 Through 3.11”</a></dt>
<dd>Provides a detailed list of features and changes in Python language syntax and the standard library, by version.</dd>
</dl>
</div></section>
</div></section>
<section data-pdf-bookmark="Conventions Used in This Book" data-type="sect1"><div class="sect1" id="conventions_used_in_this_book">
<h1>Conventions Used in This Book</h1>
<p>The following conventions are used throughout this book.</p>
<section data-pdf-bookmark="Reference Conventions" data-type="sect2"><div class="sect2" id="reference_conventions">
<h2>Reference Conventions</h2>
<p>In the function/method reference entries, when feasible, each optional parameter is shown with a default value using the Python syntax <em><span class="code">name=value</span></em>. Built-in functions need not accept named parameters, so parameter names may not be significant. Some optional parameters are best explained in terms of their presence or absence, rather than through default values. In such cases, we indicate that a parameter is optional by enclosing it in brackets (<span class="code">[]</span>). When more than one argument is optional, brackets can be nested.</p>
</div></section>
<section data-pdf-bookmark="Version Conventions" data-type="sect2"><div class="sect2" id="version_conventions">
<h2>Version Conventions</h2>
<p>This<a contenteditable="false" data-primary="Python" data-secondary="versions covered" data-type="indexterm" id="idm44924596536864"/><a contenteditable="false" data-primary="significant changes" data-type="indexterm" id="idm44924596535456"/><a contenteditable="false" data-primary="updates" data-type="indexterm" id="idm44924596534352"/><a contenteditable="false" data-primary="resources" data-secondary="new features and changes v3.7 to 3.11" data-type="indexterm" id="idm44924596533248"/><a contenteditable="false" data-primary="new features" data-secondary="version notations in text" data-type="indexterm" id="idm44924596531808"/> book covers changes and features in Python versions 3.7 through 3.11.</p>
<p>Python 3.7 serves as the base version for all tables and code examples, unless otherwise noted.<sup><a data-type="noteref" href="preface01.xhtml#ch01fn2" id="ch01fn2-marker">2</a></sup> You will see these notations to indicate changes or features added and removed across the range of covered versions:</p>
<ul>
<li>
<p><span class="version">3.x+</span> marks a feature introduced in version 3.x, not available in prior versions.</p>
</li>
<li>
<p><span class="version">-3.x</span> marks a feature removed in version 3.x, available only in prior versions.</p>
</li>
</ul>
</div></section>
<section data-pdf-bookmark="Typographic Conventions" data-type="sect2"><div class="sect2" id="typographic_conventions">
<h2>Typographic Conventions</h2>
<p><a contenteditable="false" data-primary="black tool" data-type="indexterm" id="idm44924565256608"/>Please note that, for display reasons, our code snippets and samples may sometimes depart from <a href="https://oreil.ly/u0RLL">PEP 8</a>. We do not recommend taking such liberties in your code. Instead, use a utility like <a href="https://oreil.ly/BM68x"><span class="code">black</span></a> to adopt a canonical layout style.</p>
<p>The following typographical conventions are used in this book:</p>
<dl>
<dt><em>Italic</em></dt>
<dd>Used for file and directory names, program names, URLs, and to introduce new terms.</dd>
<dt class="plain"><span class="code">Constant width</span></dt>
<dd>Used for command-line output and code examples, as well as for code elements that appear in the text, including methods, functions, classes, and modules.</dd>
<dt><span class="code"><em>Constant width italic</em></span></dt>
<dd>Used to show text to be replaced with user-supplied values in code examples and commands.</dd>
<dt class="plain"><span class="code"><strong>Constant width bold</strong></span></dt>
<dd>
<p>Used for commands to be typed at a system command line and to indicate code output in Python interpreter session examples. Also used for Python keywords.</p>
<div data-type="tip"><h6>Tip</h6>
<p>This element signifies a tip or suggestion.</p>
</div>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>This element signifies a general note.</p>
</div>
<div data-type="warning" epub:type="warning"><h6>Warning</h6>
<p>This element indicates a warning or caution.</p>
</div>
</dd>
</dl>
</div></section>
</div></section>
<section data-pdf-bookmark="Using Code Examples" data-type="sect1"><div class="sect1" id="using_code_examples">
<h1>Using Code Examples</h1>
<p><a contenteditable="false" data-primary="code examples, obtaining and using" data-type="indexterm" id="idm44924596954384"/>This book is here to help you get your job done. In general, if example code is offered with this book, you may use it in your programs and documentation. You do not need to contact us for permission unless you’re reproducing a significant portion of the code. For example, writing a program that uses several chunks of code from this book does not require permission. Selling or distributing examples from O’Reilly books does require permission. Answering a question by citing this book and quoting example code does not require permission. Incorporating a significant amount of example code from this book into your product’s documentation does require permission.</p>
<p>We appreciate, but do not require, attribution. An attribution usually includes the title, author, publisher, and ISBN. For example: “<em>Python in a Nutshell</em>, 4th ed., by Alex Martelli, Anna Martelli Ravenscroft, Steve Holden, and Paul McGuire. Copyright 2023, 978-1-098-11355-1.”</p>
<p>If you feel your use of code examples falls outside fair use or the permission given above, feel free to contact us at <a href="mailto:permissions@oreilly.com">permissions@oreilly.com</a>.</p>
</div></section>
<section data-pdf-bookmark="O’Reilly Online Learning" data-type="sect1"><div class="sect1" id="_safari_books_online">
<h1>O’Reilly Online Learning</h1>
<div class="ormenabled" data-type="note" epub:type="note"><h6>Note</h6>
<p>For more than 40 years, <a class="orm:hideurl" href="https://oreilly.com"><em class="hyperlink">O’Reilly Media</em></a> has provided technology and business training, knowledge, and insight to help companies succeed.</p>
</div>
<p>Our unique network of experts and innovators share their knowledge and expertise through books, articles, and our online learning platform. O’Reilly’s online learning platform gives you on-demand access to live training courses, in-depth learning paths, interactive coding environments, and a vast collection of text and video from O’Reilly and 200+ other publishers. For more information, visit <a class="orm:hideurl" href="https://oreilly.com"><em>https://oreilly.com</em></a>.</p>
</div></section>
<section data-pdf-bookmark="How to Contact Us" data-type="sect1"><div class="sect1" id="how_to_contact_us">
<h1>How to Contact Us</h1>
<p>Please address comments and questions concerning this book to the publisher:</p>
<ul class="simplelist">
<li>O’Reilly Media, Inc.</li>
<li>1005 Gravenstein Highway North</li>
<li>Sebastopol, CA 95472</li>
<li>800-998-9938 (in the United States or Canada)</li>
<li>707-829-0515 (international or local)</li>
<li>707-829-0104 (fax)</li>
</ul>
<p>The<a contenteditable="false" data-primary="supplemental material, obtaining" data-type="indexterm" id="idm44924596697248"/><a contenteditable="false" data-primary="GitHub repository" data-type="indexterm" id="idm44924596696096"/> book has its own GitHub repository, where we list errata, examples, and any additional information. The repository also contains the full content of Chapters <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch24.xhtml#packaging_programs_and_extensions">24</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch25.xhtml#extending_and_embedding_classic_python">25</a>, for which there was insufficient space in the printed volume. You will find it at <a href="https://github.com/pynutshell/pynut4"><em class="hyperlink">https://github.com/pynutshell/pynut4</em></a>.</p>
<p>We have tested and verified the information in this book to the best of our ability, but you may find that features have changed (or even that we have made mistakes!). Please let the publisher know about any errors you find, as well as your suggestions for future editions.</p>
<p>O’Reilly <a contenteditable="false" data-primary="questions and comments" data-type="indexterm" id="idm44924596526432"/><a contenteditable="false" data-primary="comments and questions" data-type="indexterm" id="idm44924596525296"/>has a web page for this book, where they list errata, examples, and any additional information. You can access this page at <a href="https://oreil.ly/python-nutshell-4e"><em>https://oreil.ly/python-nutshell-4e</em></a>.</p>
<!--Don't forget to update the link above.-->
<p>To comment or ask technical questions about this book, send email to <a href="mailto:pynut4@gmail.com">pynut4@gmail.com</a>.</p>
<p>For news and information about our books and courses, visit <a href="https://oreilly.com"><em>https://oreilly.com</em></a>.</p>
<p>Find us on LinkedIn: <a href="https://linkedin.com/company/oreilly-media"><em>https://linkedin.com/company/oreilly-media</em></a>.</p>
<p>Follow us on Twitter: <a href="https://twitter.com/oreillymedia"><em>https://twitter.com/oreillymedia</em></a>.</p>
<p>Watch us on YouTube: <a href="https://www.youtube.com/oreillymedia"><em>https://www.youtube.com/oreillymedia</em></a>.</p>
</div></section>
<section data-pdf-bookmark="Acknowledgments" data-type="sect1"><div class="sect1" id="acknowledgments">
<h1>Acknowledgments</h1>
<p>Many thanks to O’Reilly editors and staff Amanda Quinn, Brian Guerin, Zan McQuade, and Kristen Brown. Special thanks to our editor, Angela Rufino, who did the heavy lifting to keep us on track to get this book completed on time! Also, thanks to our excellent copyeditor Rachel Head for helping us to seem more erudite than we are, and to our production editor, Christopher Faucher, for helping ensure the book looked its best in both printed and electronic formats.</p>
<p>Thanks to our hardworking tech reviewers, David Mertz, Mark Summerfield, and Pankaj Gaijar, who read through every explanation and example in the book’s draft. Without them, this book would not have been as accurate.<sup><a data-type="noteref" href="preface01.xhtml#ch01fn3" id="ch01fn3-marker">3</a></sup> All errors that remain are entirely our own.</p>
<p>Thanks also to Luciano Ramalho, the whole PyPy team, Sebastián Ramírez, Fabio Pliger, Miguel Grinberg, and the Python Packaging Authority team for their help on selected portions of the book, and to Google for its useful Workspace online collaboration tools, without which our intense communication (and coordination among authors on different continents!) would have been far less easy and efficient.</p>
<p>Last but by no means least, the authors and all readers of this book owe a huge debt of thanks to the core developers of the Python language itself, without whose heroic efforts there would be no need for this book.</p>
</div></section>
<div data-type="footnotes"><p data-type="footnote" id="ch01fn1"><sup><a href="preface01.xhtml#ch01fn1-marker">1</a></sup> The separate chapter on asynchronous programming in the third edition has been dropped in this edition, deferring to more thorough coverage of this growing topic in references found in <a data-type="xref" href="ch15.xhtml#concurrency_threads_and_processes">Chapter 15</a>.</p><p data-type="footnote" id="ch01fn2"><sup><a href="preface01.xhtml#ch01fn2-marker">2</a></sup> For example, to accommodate the widespread changes in Python 3.9 and 3.10 in type annotations, most of <a data-type="xref" href="ch05.xhtml#type_annotations">Chapter 5</a> uses Python 3.10 as the base version for features and examples.</p><p data-type="footnote" id="ch01fn3"><sup><a href="preface01.xhtml#ch01fn3-marker">3</a></sup> Nor would it have so many footnotes!</p></div></div></section></div></body></html>