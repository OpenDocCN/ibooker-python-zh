["```py\n*`fileobj`* = open( *`filename`*, *`mode`* )\n```", "```py\n>>> fout = open('oops.txt', 'wt')\n>>> fout.close()\n```", "```py\n>>> fout = open('oops.txt', 'wt')\n>>> print('Oops, I created a file.', file=fout)\n>>> fout.close()\n```", "```py\n>>> poem = '''There was a young lady named Bright,\n... Whose speed was far faster than light;\n... She started one day\n... In a relative way,\n... And returned on the previous night.'''\n>>> len(poem)\n150\n```", "```py\n>>> fout = open('relativity', 'wt')\n>>> fout.write(poem)\n150\n>>> fout.close()\n```", "```py\n>>> fout = open('relativity', 'wt')\n>>> print(poem, file=fout)\n>>> fout.close()\n```", "```py\n>>> fout = open('relativity', 'wt')\n>>> print(poem, file=fout, sep='', end='')\n>>> fout.close()\n```", "```py\n>>> fout = open('relativity', 'wt')\n>>> size = len(poem)\n>>> offset = 0\n>>> chunk = 100\n>>> while True:\n...     if offset > size:\n...          break\n...     fout.write(poem[offset:offset+chunk])\n...     offset += chunk\n...\n100\n50\n>>> fout.close()\n```", "```py\n>>> fout = open('relativity', 'xt')\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nFileExistsError: [Errno 17] File exists: 'relativity'\n```", "```py\n>>> try:\n...     fout = open('relativity', 'xt')]\n...     fout.write('stomp stomp stomp')\n... except FileExistsError:\n...     print('relativity already exists!. That was a close one.')\n...\nrelativity already exists!. That was a close one.\n```", "```py\n>>> fin = open('relativity', 'rt' )\n>>> poem = fin.read()\n>>> fin.close()\n>>> len(poem)\n150\n```", "```py\n>>> poem = ''\n>>> fin = open('relativity', 'rt' )\n>>> chunk = 100\n>>> while True:\n...     fragment = fin.read(chunk)\n...     if not fragment:\n...         break\n...     poem += fragment\n...\n>>> fin.close()\n>>> len(poem)\n150\n```", "```py\n>>> poem = ''\n>>> fin = open('relativity', 'rt' )\n>>> while True:\n...     line = fin.readline()\n...     if not line:\n...         break\n...     poem += line\n...\n>>> fin.close()\n>>> len(poem)\n150\n```", "```py\n>>> poem = ''\n>>> fin = open('relativity', 'rt' )\n>>> for line in fin:\n...     poem += line\n...\n>>> fin.close()\n>>> len(poem)\n150\n```", "```py\n>>> fin = open('relativity', 'rt' )\n>>> lines = fin.readlines()\n>>> fin.close()\n>>> print(len(lines), 'lines read')\n5 lines read\n>>> for line in lines:\n...     print(line, end='')\n...\nThere was a young lady named Bright,\nWhose speed was far faster than light;\nShe started one day\nIn a relative way,\nAnd returned on the previous night.>>>\n```", "```py\n>>> bdata = bytes(range(0, 256))\n>>> len(bdata)\n256\n```", "```py\n>>> fout = open('bfile', 'wb')\n>>> fout.write(bdata)\n256\n>>> fout.close()\n```", "```py\n>>> fout = open('bfile', 'wb')\n>>> size = len(bdata)\n>>> offset = 0\n>>> chunk = 100\n>>> while True:\n...     if offset > size:\n...          break\n...     fout.write(bdata[offset:offset+chunk])\n...     offset += chunk\n...\n100\n100\n56\n>>> fout.close()\n```", "```py\n>>> fin = open('bfile', 'rb')\n>>> bdata = fin.read()\n>>> len(bdata)\n256\n>>> fin.close()\n```", "```py\n>>> with open('relativity', 'wt') as fout:\n...     fout.write(poem)\n...\n```", "```py\n>>> fin = open('bfile', 'rb')\n>>> fin.tell()\n0\n```", "```py\n>>> fin.seek(255)\n255\n```", "```py\n>>> bdata = fin.read()\n>>> len(bdata)\n1\n>>> bdata[0]\n255\n```", "```py\n>>> import os\n>>> os.SEEK_SET\n0\n>>> os.SEEK_CUR\n1\n>>> os.SEEK_END\n2\n```", "```py\n>>> fin = open('bfile', 'rb')\n```", "```py\n>>> fin.seek(-1, 2)\n255\n>>> fin.tell()\n255\n```", "```py\n>>> bdata = fin.read()\n>>> len(bdata)\n1\n>>> bdata[0]\n255\n```", "```py\n>>> fin = open('bfile', 'rb')\n```", "```py\n>>> fin.seek(254, 0)\n254\n>>> fin.tell()\n254\n```", "```py\n>>> fin.seek(1, 1)\n255\n>>> fin.tell()\n255\n```", "```py\n>>> bdata = fin.read()\n>>> len(bdata)\n1\n>>> bdata[0]\n255\n```", "```py\n>>> import os\n>>> os.path.exists('oops.txt')\nTrue\n>>> os.path.exists('./oops.txt')\nTrue\n>>> os.path.exists('waffles')\nFalse\n>>> os.path.exists('.')\nTrue\n>>> os.path.exists('..')\nTrue\n```", "```py\n>>> name = 'oops.txt'\n>>> os.path.isfile(name)\nTrue\n```", "```py\n>>> os.path.isdir(name)\nFalse\n```", "```py\n>>> os.path.isdir('.')\nTrue\n```", "```py\n>>> os.path.isabs(name)\nFalse\n>>> os.path.isabs('/big/fake/name')\nTrue\n>>> os.path.isabs('big/fake/name/without/a/leading/slash')\nFalse\n```", "```py\n>>> import shutil\n>>> shutil.copy('oops.txt', 'ohno.txt')\n```", "```py\n>>> import os\n>>> os.rename('ohno.txt', 'ohwell.txt')\n```", "```py\n>>> os.link('oops.txt', 'yikes.txt')\n>>> os.path.isfile('yikes.txt')\nTrue\n>>> os.path.islink('yikes.txt')\nFalse\n```", "```py\n>>> os.symlink('oops.txt', 'jeepers.txt')\n>>> os.path.islink('jeepers.txt')\nTrue\n```", "```py\n>>> os.chmod('oops.txt', 0o400)\n```", "```py\n>>> import stat\n>>> os.chmod('oops.txt', stat.S_IRUSR)\n```", "```py\n>>> uid = 5\n>>> gid = 22\n>>> os.chown('oops', uid, gid)\n```", "```py\n>>> os.remove('oops.txt')\n>>> os.path.exists('oops.txt')\nFalse\n```", "```py\n>>> os.mkdir('poems')\n>>> os.path.exists('poems')\nTrue\n```", "```py\n>>> os.rmdir('poems')\n>>> os.path.exists('poems')\nFalse\n```", "```py\n>>> os.mkdir('poems')\n```", "```py\n>>> os.listdir('poems')\n[]\n```", "```py\n>>> os.mkdir('poems/mcintyre')\n>>> os.listdir('poems')\n['mcintyre']\n```", "```py\n>>> fout = open('poems/mcintyre/the_good_man', 'wt')\n>>> fout.write('''Cheerful and happy was his mood,\n... He to the poor was kind and good,\n... And he oft' times did find them food,\n... Also supplies of coal and wood,\n... He never spake a word was rude,\n... And cheer'd those did o'er sorrows brood,\n... He passed away not understood,\n... Because no poet in his lays\n... Had penned a sonnet in his praise,\n... 'Tis sad, but such is world's ways.\n... ''')\n344\n>>> fout.close()\n```", "```py\n>>> os.listdir('poems/mcintyre')\n['the_good_man']\n```", "```py\n>>> import os\n>>> os.chdir('poems')\n>>> os.listdir('.')\n['mcintyre']\n```", "```py\n>>> import glob\n>>> glob.glob('m*')\n['mcintyre']\n```", "```py\n>>> glob.glob('??')\n[]\n```", "```py\n>>> glob.glob('m??????e')\n['mcintyre']\n```", "```py\n>>> glob.glob('[klm]*e')\n['mcintyre']\n```", "```py\n>>> win_file = 'eek\\\\urk\\\\snort.txt'\n>>> win_file2 = r'eek\\urk\\snort.txt'\n>>> win_file\n'eek\\\\urk\\\\snort.txt'\n>>> win_file2\n'eek\\\\urk\\\\snort.txt'\n```", "```py\n>>> os.path.abspath('oops.txt')\n'/usr/gaberlunzie/oops.txt'\n```", "```py\n>>> os.path.realpath('jeepers.txt')\n'/usr/gaberlunzie/oops.txt'\n```", "```py\n>>> import os\n>>> win_file = os.path.join(\"eek\", \"urk\")\n>>> win_file = os.path.join(win_file, \"snort.txt\")\n```", "```py\n>>> win_file\n'eek/urk/snort.txt'\n```", "```py\n>>> win_file\n'eek\\\\urk\\\\snort.txt'\n```", "```py\n>>> from pathlib import Path\n>>> file_path = Path('eek') / 'urk' / 'snort.txt'\n>>> file_path\nPosixPath('eek/urk/snort.txt')\n>>> print(file_path)\neek/urk/snort.txt\n```", "```py\n>>> file_path.name\n'snort.txt'\n>>> file_path.suffix\n'.txt'\n>>> file_path.stem\n'snort'\n```", "```py\n>>> from pathlib import PureWindowsPath\n>>> PureWindowsPath(file_path)\nPureWindowsPath('eek/urk/snort.txt')\n>>> print(PureWindowsPath(file_path))\neek\\urk\\snort.txt\n```", "```py\nfrom io import BytesIO\nfrom PIL import Image\nimport sys\n\ndef data_to_img(data):\n    \"\"\"Return PIL Image object, with data from in-memory <data>\"\"\"\n    fp = BytesIO(data)\n    return Image.open(fp)    # reads from memory\n\ndef img_to_data(img, fmt=None):\n    \"\"\"Return image data from PIL Image <img>, in <fmt> format\"\"\"\n    fp = BytesIO()\n    if not fmt:\n        fmt = img.format     # keeps the original format\n    img.save(fp, fmt)        # writes to memory\n    return fp.getvalue()\n\ndef convert_image(data, fmt=None):\n    \"\"\"Convert image <data> to PIL <fmt> image data\"\"\"\n    img = data_to_img(data)\n    return img_to_data(img, fmt)\n\ndef get_file_data(name):\n    \"\"\"Return PIL Image object for image file <name>\"\"\"\n    img = Image.open(name)\n    print(\"img\", img, img.format)\n    return img_to_data(img)\n\nif __name__ == \"__main__\":\n    for name in sys.argv[1:]:\n        data = get_file_data(name)\n        print(\"in\", len(data), data[:10])\n        for fmt in (\"gif\", \"png\", \"jpeg\"):\n            out_data = convert_image(data, fmt)\n            print(\"out\", len(out_data), out_data[:10])\n```", "```py\n$ python convert_image.py ch20_critter.png\nimg <PIL.PngImagePlugin.PngImageFile image mode=RGB size=154x141 at 0x10340CF28> PNG\nin 24941 b'\\\\x89PNG\\\\r\\\\n\\\\x1a\\\\n\\\\x00\\\\x00'\nout 14751 b'GIF87a\\\\x9a\\\\x00\\\\x8d\\\\x00'\nout 24941 b'\\\\x89PNG\\\\r\\\\n\\\\x1a\\\\n\\\\x00\\\\x00'\nout 5914 b'\\\\xff\\xd8\\\\xff\\\\xe0\\\\x00\\\\x10JFIF'\n\n```"]